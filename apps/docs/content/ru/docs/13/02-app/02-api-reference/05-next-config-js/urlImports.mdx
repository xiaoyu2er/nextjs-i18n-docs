---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-06-06T17:20:52.753Z
title: Импорт по URL (urlImports)
description: Настройка Next.js для разрешения импорта модулей из внешних URL (экспериментальная функция).
---

{/* Содержание этого документа используется как в маршрутизаторе app, так и pages. Вы можете использовать компонент `<PagesOnly>Контент</PagesOnly>` для добавления контента, специфичного для маршрутизатора Pages. Любой общий контент не должен быть обёрнут в компонент. */}

Импорт по URL — это экспериментальная функция, позволяющая импортировать модули напрямую с внешних серверов (вместо локального диска).

> **Предупреждение**: Это экспериментальная функция. Используйте только домены, которым доверяете, для загрузки и выполнения кода на вашей машине. Проявляйте осмотрительность и осторожность, пока функция не будет помечена как стабильная.

Для включения добавьте разрешённые префиксы URL в `next.config.js`:

```js filename="next.config.js"
module.exports = {
  experimental: {
    urlImports: ['https://example.com/assets/', 'https://cdn.skypack.dev'],
  },
}
```

Затем вы можете импортировать модули напрямую по URL:

```js
import { a, b, c } from 'https://example.com/assets/some/module.js'
```

Импорт по URL можно использовать везде, где допустим обычный импорт пакетов.

## Модель безопасности

Эта функция разрабатывается с **приоритетом безопасности**. На первом этапе мы добавили экспериментальный флаг, требующий явного указания доменов, с которых разрешён импорт. Мы работаем над дальнейшим ограничением, чтобы импорт по URL выполнялся только в песочнице браузера с использованием [Edge Runtime](/docs/app/api-reference/edge).

## Файл блокировки (Lockfile)

При использовании импорта по URL Next.js создаст директорию `next.lock`, содержащую файл блокировки и загруженные ресурсы.
Эту директорию **необходимо коммитить в Git**, не игнорировать через `.gitignore`.

- При запуске `next dev` Next.js будет загружать и добавлять все новые URL-импорты в файл блокировки
- При запуске `next build` Next.js будет использовать только файл блокировки для сборки приложения в продакшн

Обычно сетевые запросы не требуются, и устаревший файл блокировки приведёт к ошибке сборки.
Исключение — ресурсы с заголовком `Cache-Control: no-cache`.
Для таких ресурсов в файле блокировки будет указано `no-cache`, и они всегда будут загружаться из сети при каждой сборке.

## Примеры

### Skypack

```js
import confetti from 'https://cdn.skypack.dev/canvas-confetti'
import { useEffect } from 'react'

export default () => {
  useEffect(() => {
    confetti()
  })
  return <p>Hello</p>
}
```

### Импорт статических изображений

```js
import Image from 'next/image'
import logo from 'https://example.com/assets/logo.png'

export default () => (
  <div>
    <Image src={logo} placeholder="blur" />
  </div>
)
```

### URL в CSS

```css
.className {
  background: url('https://example.com/assets/hero.jpg');
}
```

### Импорт ресурсов

```js
const logo = new URL('https://example.com/assets/file.txt', import.meta.url)

console.log(logo.pathname)

// выведет "/_next/static/media/file.a9727b5d.txt"
```