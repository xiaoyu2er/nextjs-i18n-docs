---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-06-06T17:37:30.021Z
title: –§–æ—Ä–º—ã –∏ –º—É—Ç–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
nav_title: –§–æ—Ä–º—ã –∏ –º—É—Ç–∞—Ü–∏–∏
description: –£–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º –∏ –º—É—Ç–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Next.js.
---

{/* –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –≤ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ —Å—Ç—Ä–∞–Ω–∏—Ü (Pages), —Ç–∞–∫ –∏ –≤ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (App). –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `<PagesOnly>–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</PagesOnly>` –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü. –û–±—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±—ë—Ä–Ω—É—Ç –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. */}

<PagesOnly>

–§–æ—Ä–º—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. Next.js –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º –∏ –º—É—Ç–∞—Ü–∏–π –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **API Routes**.

> **–ü–æ–ª–µ–∑–Ω–æ –∑–Ω–∞—Ç—å:**
>
> - –í—Å–∫–æ—Ä–µ –º—ã –±—É–¥–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å [–ø–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥](/docs/app/building-your-application/upgrading/app-router-migration) –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (App Router) –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ [Server Actions](/docs/app/building-your-application/data-fetching/forms-and-mutations#how-server-actions-work) –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º –∏ –º—É—Ç–∞—Ü–∏–π –¥–∞–Ω–Ω—ã—Ö. Server Actions –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞–≤–∞—Ç—å API Route.
> - API Routes [–Ω–µ —É–∫–∞–∑—ã–≤–∞—é—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ CORS](https://developer.mozilla.org/docs/Web/HTTP/CORS), —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞.
> - –ü–æ—Å–∫–æ–ª—å–∫—É API Routes –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, API-–∫–ª—é—á–∏) —á–µ—Ä–µ–∑ [–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è](/docs/pages/building-your-application/configuring/environment-variables) –±–µ–∑ –∏—Ö —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –∫–ª–∏–µ–Ω—Ç—É. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

</PagesOnly>

<AppOnly>

–§–æ—Ä–º—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. Next.js –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º –∏ –º—É—Ç–∞—Ü–∏–π –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Server Actions**.

<details>
  <summary>–ü—Ä–∏–º–µ—Ä—ã</summary>

- [–§–æ—Ä–º–∞ —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–æ–∫](https://github.com/vercel/next.js/tree/canary/examples/next-forms)

</details>

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç Server Actions

–° Server Actions –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞–≤–∞—Ç—å API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≤—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

> **üé• –í–∏–¥–µ–æ:** –£–∑–Ω–∞–π—Ç–µ –±–æ–ª—å—à–µ –æ —Ñ–æ—Ä–º–∞—Ö –∏ –º—É—Ç–∞—Ü–∏—è—Ö –≤ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí [YouTube (10 –º–∏–Ω—É—Ç)](https://youtu.be/dDpZfOQBMaU?si=cJZHlUu_jFhCzHUg).

Server Actions –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≤ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –∏–ª–∏ –≤—ã–∑—ã–≤–∞—Ç—å –∏–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ–æ—Ä–º–µ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ JavaScript, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ.

–í–∫–ª—é—á–∏—Ç–µ Server Actions –≤ —Ñ–∞–π–ª–µ `next.config.js`:

```js filename="next.config.js"
module.exports = {
  experimental: {
    serverActions: true,
  },
}
```

> **–ü–æ–ª–µ–∑–Ω–æ –∑–Ω–∞—Ç—å:**
>
> - –§–æ—Ä–º—ã, –≤—ã–∑—ã–≤–∞—é—â–∏–µ Server Actions –∏–∑ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ JavaScript.
> - –§–æ—Ä–º—ã, –≤—ã–∑—ã–≤–∞—é—â–∏–µ Server Actions –∏–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –±—É–¥—É—Ç —Å—Ç–∞–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –æ—á–µ—Ä–µ–¥—å, –µ—Å–ª–∏ JavaScript –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω, –æ—Ç–¥–∞–≤–∞—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞.
> - Server Actions –Ω–∞—Å–ª–µ–¥—É—é—Ç [—Å—Ä–µ–¥—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è](/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes) —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ –º–∞–∫–µ—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.
> - Server Actions —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ (–≤–∫–ª—é—á–∞—è —Ä–µ–≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö —Å ISR).

## –†–µ–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

Server Actions —Ç–µ—Å–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π [–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–µ–≤–∞–ª–∏–¥–∞—Ü–∏–∏](/docs/app/building-your-application/caching) Next.js. –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã Server Action –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —Ä–µ–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ª—é–±—ã–µ –∫–ª—é—á–∏ –∫—ç—à–∞, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –∏–∑–º–µ–Ω–∏—Ç—å—Å—è.

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –≥–¥–µ –Ω–∞ –æ–¥–∏–Ω –º–∞—Ä—à—Ä—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –æ–¥–Ω–∞ —Ñ–æ—Ä–º–∞, Server Actions –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ –º–∞—Ä—à—Ä—É—Ç. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –±—Ä–∞—É–∑–µ—Ä—É –Ω–µ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã. –ó–∞ –æ–¥–∏–Ω —Å–µ—Ç–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å Next.js –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –∫–∞–∫ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π UI, —Ç–∞–∫ –∏ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

–°–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –Ω–∏–∂–µ –¥–ª—è [—Ä–µ–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Server Actions](#revalidating-data).

</AppOnly>

## –ü—Ä–∏–º–µ—Ä—ã

### –§–æ—Ä–º—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞

<PagesOnly>

–í –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ —Å—Ç—Ä–∞–Ω–∏—Ü (Pages Router) –≤–∞–º –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞–≤–∞—Ç—å API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

```ts filename="pages/api/submit.ts" switcher
import type { NextApiRequest, NextApiResponse } from 'next'

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  const data = req.body
  const id = await createItem(data)
  res.status(200).json({ id })
}
```

```js filename="pages/api/submit.js" switcher
export default function handler(req, res) {
  const data = req.body
  const id = await createItem(data)
  res.status(200).json({ id })
}
```

–ó–∞—Ç–µ–º –≤—ã–∑–æ–≤–∏—Ç–µ API Route –∏–∑ –∫–ª–∏–µ–Ω—Ç–∞ —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º —Å–æ–±—ã—Ç–∏–π:

```tsx filename="pages/index.tsx" switcher
import { FormEvent } from 'react'

export default function Page() {
  async function onSubmit(event: FormEvent<HTMLFormElement>) {
    event.preventDefault()

    const formData = new FormData(event.currentTarget)
    const response = await fetch('/api/submit', {
      method: 'POST',
      body: formData,
    })

    // –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –æ—Ç–≤–µ—Ç –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
    const data = await response.json()
    // ...
  }

  return (
    <form onSubmit={onSubmit}>
      <input type="text" name="name" />
      <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </form>
  )
}
```

```jsx filename="pages/index.jsx" switcher
export default function Page() {
  async function onSubmit(event) {
    event.preventDefault()

    const formData = new FormData(event.target)
    const response = await fetch('/api/submit', {
      method: 'POST',
      body: formData,
    })

    // –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –æ—Ç–≤–µ—Ç –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
    const data = await response.json()
    // ...
  }

  return (
    <form onSubmit={onSubmit}>
      <input type="text" name="name" />
      <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </form>
  )
}
```

</PagesOnly>

<AppOnly>

–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Ñ–æ—Ä–º—É —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ Server Action –≤ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ. –î–µ–π—Å—Ç–≤–∏–µ –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ª–∏–±–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ —Å –¥–∏—Ä–µ–∫—Ç–∏–≤–æ–π `"use server"` –≤ –Ω–∞—á–∞–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏, –ª–∏–±–æ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ —Å –¥–∏—Ä–µ–∫—Ç–∏–≤–æ–π –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞.

```tsx filename="app/page.tsx" switcher
export default function Page() {
  async function create(formData: FormData) {
    'use server'

    // –º—É—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
    // —Ä–µ–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞
  }

  return <form action={create}>...</form>
}
```

```jsx filename="app/page.jsx" switcher
export default function Page() {
  async function create(formData) {
    'use server'

    // –º—É—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
    // —Ä–µ–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞
  }

  return <form action={create}>...</form>
}
```

> **–ü–æ–ª–µ–∑–Ω–æ –∑–Ω–∞—Ç—å**: `<form action={create}>` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö [FormData](https://developer.mozilla.org/docs/Web/API/FormData/FormData). –í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ FormData, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ HTML [`form`](https://developer.mozilla.org/docs/Web/HTML/Element/form), –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º –¥–µ–π—Å—Ç–≤–∏–∏ `create`.

### –†–µ–≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

Server Actions –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å [–∫—ç—à Next.js](/docs/app/building-your-application/caching) –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é. –í—ã –º–æ–∂–µ—Ç–µ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å —Å–µ–≥–º–µ–Ω—Ç –º–∞—Ä—à—Ä—É—Ç–∞ —Å –ø–æ–º–æ—â—å—é [`revalidatePath`](/docs/app/api-reference/functions/revalidatePath):

```ts filename="app/actions.ts" switcher
'use server'

import { revalidatePath } from 'next/cache'

export default async function submit() {
  await submitForm()
  revalidatePath('/')
}
```

```js filename="app/actions.js" switcher
'use server'

import { revalidatePath } from 'next/cache'

export default async function submit() {
  await submitForm()
  revalidatePath('/')
}
```

–ò–ª–∏ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö —Å —Ç–µ–≥–æ–º –∫—ç—à–∞, –∏—Å–ø–æ–ª—å–∑—É—è [`revalidateTag`](/docs/app/api-reference/functions/revalidateTag):

```ts filename="app/actions.ts" switcher
'use server'

import { revalidateTag } from 'next/cache'

export default async function submit() {
  await addPost()
  revalidateTag('posts')
}
```

```js filename="app/actions.js" switcher
'use server'

import { revalidateTag } from 'next/cache'

export default async function submit() {
  await addPost()
  revalidateTag('posts')
}
```

</AppOnly>

### –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

<PagesOnly>

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –¥—Ä—É–≥–æ–π –º–∞—Ä—à—Ä—É—Ç –ø–æ—Å–ª–µ –º—É—Ç–∞—Ü–∏–∏, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [`redirect`](/docs/pages/building-your-application/routing/api-routes#response-helpers) –Ω–∞ –ª—é–±–æ–π –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π URL:

```ts filename="pages/api/submit.ts" switcher
import type { NextApiRequest, NextApiResponse } from 'next'

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  const id = await addPost()
  res.redirect(307, `/post/${id}`)
}
```

```js filename="pages/api/submit.js" switcher
export default async function handler(req, res) {
  const id = await addPost()
  res.redirect(307, `/post/${id}`)
}
```

</PagesOnly>

<AppOnly>

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –¥—Ä—É–≥–æ–π –º–∞—Ä—à—Ä—É—Ç –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Server Action, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [`redirect`](/docs/app/api-reference/functions/redirect) –∏ –ª—é–±–æ–π –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π URL:

```ts filename="app/actions.ts" switcher
'use server'

import { redirect } from 'next/navigation'
import { revalidateTag } from 'next/cache'

export default async function submit() {
  const id = await addPost()
  revalidateTag('posts') // –û–±–Ω–æ–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã
  redirect(`/post/${id}`) // –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç
}
```

```js filename="app/actions.js" switcher
'use server'

import { redirect } from 'next/navigation'
import { revalidateTag } from 'next/cache'

export default async function submit() {
  const id = await addPost()
  revalidateTag('posts') // –û–±–Ω–æ–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã
  redirect(`/post/${id}`) // –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç
}
```

</AppOnly>

### –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º

–ú—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTML-–≤–∞–ª–∏–¥–∞—Ü–∏—é, —Ç–∞–∫—É—é –∫–∞–∫ `required` –∏ `type="email"`, –¥–ª—è –±–∞–∑–æ–≤–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º.

–î–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ö–µ–º, —Ç–∞–∫—É—é –∫–∞–∫ [zod](https://zod.dev/), —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–∞–∑–æ–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã:

<PagesOnly>

```ts filename="pages/api/submit.ts" switcher
import type { NextApiRequest, NextApiResponse } from 'next'
import { z } from 'zod'

const schema = z.object({
  // ...
})

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  const parsed = schema.parse(req.body)
  // ...
}
```

```js filename="pages/api/submit.js" switcher
import { z } from 'zod'

const schema = z.object({
  // ...
})

export default async function handler(req, res) {
  const parsed = schema.parse(req.body)
  // ...
}
```

</PagesOnly>

<AppOnly>

```tsx filename="app/actions.ts" switcher
import { z } from 'zod'

const schema = z.object({
  // ...
})

export default async function submit(formData: FormData) {
  const parsed = schema.parse({
    id: formData.get('id'),
  })
  // ...
}
```

```jsx filename="app/actions.js" switcher
import { z } from 'zod'

const schema = z.object({
  // ...
})

export default async function submit(formData) {
  const parsed = schema.parse({
    id: formData.get('id'),
  })
  // ...
}
```

</AppOnly>

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏

<AppOnly>

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ö—É–∫ `useFormStatus` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –•—É–∫ `useFormStatus` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–∞–∫ –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç —ç–ª–µ–º–µ–Ω—Ç–∞ `form`, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–≥–æ Server Action.

–ù–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–µ–¥—É—é—â–∞—è –∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:

```tsx filename="app/submit-button.tsx" switcher
'use client'

import { experimental_useFormStatus as useFormStatus } from 'react-dom'

export function SubmitButton() {
  const { pending } = useFormStatus()

  return (
    <button type="submit" aria-disabled={pending}>
      –î–æ–±–∞–≤–∏—Ç—å
    </button>
  )
}
```

```jsx filename="app/submit-button.jsx" switcher
'use client'

import { experimental_useFormStatus as useFormStatus } from 'react-dom'

export function SubmitButton() {
  const { pending } = useFormStatus()

  return (
    <button type="submit" aria-disabled={pending}>
      –î–æ–±–∞–≤–∏—Ç—å
    </button>
  )
}
```

`<SubmitButton />` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ñ–æ—Ä–º–µ —Å Server Action:

```tsx filename="app/page.tsx" switcher
import { SubmitButton } from '@/app/submit-button'

export default async function Home() {
  return (
    <form action={...}>
      <input type="text" name="field-name" />
      <SubmitButton />
    </form>
  )
}
```

```jsx filename="app/page.jsx" switcher
import { SubmitButton } from '@/app/submit-button'

export default async function Home() {
  return (
    <form action={...}>
      <input type="text" name="field-name" />
      <SubmitButton />
    </form>
  )
}
```

</AppOnly>

<PagesOnly>

–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ React –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```tsx filename="pages/index.tsx" switcher
import React, { useState, FormEvent } from 'react'

export default function Page() {
  const [isLoading, setIsLoading] = useState<boolean>(false)

  async function onSubmit(event: FormEvent<HTMLFormElement>) {
    event.preventDefault()
    setIsLoading(true) // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –≤ true –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –∑–∞–ø—Ä–æ—Å–∞

    try {
      const formData = new FormData(event.currentTarget)
      const response = await fetch('/api/submit', {
        method: 'POST',
        body: formData,
      })

      // –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –æ—Ç–≤–µ—Ç –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
      const data = await response.json()
      // ...
    } catch (error) {
      // –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –æ—à–∏–±–∫—É –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
      console.error(error)
    } finally {
      setIsLoading(false) // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –≤ false –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞
    }
  }

  return (
    <form onSubmit={onSubmit}>
      <input type="text" name="name" />
      <button type="submit" disabled={isLoading}>
        {isLoading ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : '–û—Ç–ø—Ä–∞–≤–∏—Ç—å'}
      </button>
    </form>
  )
}
```

```jsx filename="pages/index.jsx" switcher
import React, { useState } from 'react'

export default function Page() {
  const [isLoading, setIsLoading] = useState(false)

  async function onSubmit(event) {
    event.preventDefault()
    setIsLoading(true) // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –≤ true –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –∑–∞–ø—Ä–æ—Å–∞

    try {
      const formData = new FormData(event.currentTarget)
      const response = await fetch('/api/submit', {
        method: 'POST',
        body: formData,
      })

      // –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –æ—Ç–≤–µ—Ç –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
      const data = await response.json()
      // ...
    } catch (error) {
      // –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –æ—à–∏–±–∫—É –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
      console.error(error)
    } finally {
      setIsLoading(false) // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –≤ false –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞
    }
  }

  return (
    <form onSubmit={onSubmit}>
      <input type="text" name="name" />
      <button type="submit" disabled={isLoading}>
        {isLoading ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : '–û—Ç–ø—Ä–∞–≤–∏—Ç—å'}
      </button>
    </form>
  )
}
```

</PagesOnly>

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

<AppOnly>

Server Actions –º–æ–≥—É—Ç —Ç–∞–∫–∂–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å [—Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã](https://developer.mozilla.org/docs/Glossary/Serialization). –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–∞—à Server Action –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞:

```ts filename="app/actions.ts" switcher
'use server'

export async function createTodo(prevState: any, formData: FormData) {
  try {
    await createItem(formData.get('todo'))
    return revalidatePath('/')
  } catch (e) {
    return { message: 'Failed to create' }
  }
}
```

```js filename="app/actions.js" switcher
'use server'

export async function createTodo(prevState, formData) {
  try {
    await createItem(formData.get('todo'))
    return revalidatePath('/')
  } catch (e) {
    return { message: 'Failed to create' }
  }
}
```

–ó–∞—Ç–µ–º –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

```tsx filename="app/add-form.tsx" switcher
'use client'

import { experimental_useFormState as useFormState } from 'react-dom'
import { experimental_useFormStatus as useFormStatus } from 'react-dom'
import { createTodo } from '@/app/actions'

const initialState = {
  message: null,
}

function SubmitButton() {
  const { pending } = useFormStatus()

  return (
    <button type="submit" aria-disabled={pending}>
      –î–æ–±–∞–≤–∏—Ç—å
    </button>
  )
}

export function AddForm() {
  const [state, formAction] = useFormState(createTodo, initialState)

  return (
    <form action={formAction}>
      <label htmlFor="todo">–í–≤–µ–¥–∏—Ç–µ –∑–∞–¥–∞—á—É</label>
      <input type="text" id="todo" name="todo" required />
      <SubmitButton />
      <p aria-live="polite" className="sr-only">
        {state?.message}
      </p>
    </form>
  )
}
```

```jsx filename="app/add-form.jsx" switcher
'use client'

import { experimental_useFormState as useFormState } from 'react-dom'
import { experimental_useFormStatus as useFormStatus } from 'react-dom'
import { createTodo } from '@/app/actions'

const initialState = {
  message: null,
}

function SubmitButton() {
  const { pending } = useFormStatus()

  return (
    <button type="submit" aria-disabled={pending}>
      –î–æ–±–∞–≤–∏—Ç—å
    </button>
  )
}

export function AddForm() {
  const [state, formAction] = useFormState(createTodo, initialState)

  return (
    <form action={formAction}>
      <label htmlFor="todo">–í–≤–µ–¥–∏—Ç–µ –∑–∞–¥–∞—á—É</label>
      <input type="text" id="todo" name="todo" required />
      <SubmitButton />
      <p aria-live="polite" className="sr-only">
        {state?.message}
      </p>
    </form>
  )
}
```

</AppOnly>

<PagesOnly>

–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ React –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã:

```tsx filename="pages/index.tsx" switcher
import React, { useState, FormEvent } from 'react'

export default function Page() {
  const [isLoading, setIsLoading] = useState<boolean>(false)
  const [error, setError] = useState<string | null>(null)

  async function onSubmit(event: FormEvent<HTMLFormElement>) {
    event.preventDefault()
    setIsLoading(true)
    setError(null) // –û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–æ–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ

    try {
      const formData = new FormData(event.currentTarget)
      const response = await fetch('/api/submit', {
        method: 'POST',
        body: formData,
      })

      if (!response.ok) {
        throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.')
      }

      // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç–≤–µ—Ç –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
      const data = await response.json()
      // ...
    } catch (error) {
      // –ó–∞—Ö–≤–∞—Ç–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
      setError(error.message)
      console.error(error)
    } finally {
      setIsLoading(false)
    }
  }

  return (
    <div>
      {error && <div style={{ color: 'red' }}>{error}</div>}
      <form onSubmit={onSubmit}>
        <input type="text" name="name" />
        <button type="submit" disabled={isLoading}>
          {isLoading ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : '–û—Ç–ø—Ä–∞–≤–∏—Ç—å'}
        </button>
      </form>
    </div>
  )
}
```

```jsx filename="pages/index.jsx" switcher
import React, { useState } from 'react'

export default function Page() {
  const [isLoading, setIsLoading] = useState(false)
  const [error, setError] = useState(null)

  async function onSubmit(event) {
    event.preventDefault()
    setIsLoading(true)
    setError(null) // –û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–æ–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ

    try {
      const formData = new FormData(event.currentTarget)
      const response = await fetch('/api/submit', {
        method: 'POST',
        body: formData,
      })

      if (!response.ok) {
        throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.')
      }

      // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç–≤–µ—Ç –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
      const data = await response.json()
      // ...
    } catch (error) {
      // –ó–∞—Ö–≤–∞—Ç–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
      setError(error.message)
      console.error(error)
    } finally {
      setIsLoading(false)
    }
  }

  return (
    <div>
      {error && <div style={{ color: 'red' }}>{error}</div>}
      <form onSubmit={onSubmit}>
        <input type="text" name="name" />
        <button type="submit" disabled={isLoading}>
          {isLoading ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : '–û—Ç–ø—Ä–∞–≤–∏—Ç—å'}
        </button>
      </form>
    </div>
  )
}
```

</PagesOnly>

<AppOnly>

### –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `useOptimistic` –¥–ª—è –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Server Action, –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞:

```tsx filename="app/page.tsx" switcher
'use client'

import { experimental_useOptimistic as useOptimistic } from 'react'
import { send } from './actions'

type Message = {
  message: string
}

export function Thread({ messages }: { messages: Message[] }) {
  const [optimisticMessages, addOptimisticMessage] = useOptimistic<Message[]>(
    messages,
    (state: Message[], newMessage: string) => [
      ...state,
      { message: newMessage },
    ]
  )

  return (
    <div>
      {optimisticMessages.map((m, k) => (
        <div key={k}>{m.message}</div>
      ))}
      <form
        action={async (formData: FormData) => {
          const message = formData.get('message')
          addOptimisticMessage(message)
          await send(message)
        }}
      >
        <input type="text" name="message" />
        <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      </form>
    </div>
  )
}
```

```jsx filename="app/page.jsx" switcher
'use client'

import { experimental_useOptimistic as useOptimistic } from 'react'
import { send } from './actions'

export function Thread({ messages }) {
  const [optimisticMessages, addOptimisticMessage] = useOptimistic(
    messages,
    (state, newMessage) => [...state, { message: newMessage }]
  )

  return (
    <div>
      {optimisticMessages.map((m) => (
        <div>{m.message}</div>
      ))}
      <form
        action={async (formData) => {
          const message = formData.get('message')
          addOptimisticMessage(message)
          await send(message)
        }}
      >
        <input type="text" name="message" />
        <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      </form>
    </div>
  )
}
```

</AppOnly>

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫—É–∫–∏

<PagesOnly>

–í—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫—É–∫–∏ –≤–Ω—É—Ç—Ä–∏ API Route, –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥ `setHeader` –¥–ª—è –æ—Ç–≤–µ—Ç–∞:

```ts filename="pages/api/cookie.ts" switcher
import type { NextApiRequest, NextApiResponse } from 'next'

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  res.setHeader('Set-Cookie', 'username=lee; Path=/; HttpOnly')
  res.status(200).send('–ö—É–∫–∏ –±—ã–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã.')
}
```

```js filename="pages/api/cookie.js" switcher
export default async function handler(req, res) {
  res.setHeader('Set-Cookie', 'username=lee; Path=/; HttpOnly')
  res.status(200).send('–ö—É–∫–∏ –±—ã–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã.')
}
```

</PagesOnly>

<AppOnly>

–í—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫—É–∫–∏ –≤–Ω—É—Ç—Ä–∏ Server Action, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏—é [`cookies`](/docs/app/api-reference/functions/cookies):

```ts filename="app/actions.ts" switcher
'use server'

import { cookies } from 'next/headers'

export async function create() {
  const cart = await createCart()
  cookies().set('cartId', cart.id)
}
```

```js filename="app/actions.js" switcher
'use server'

import { cookies } from 'next/headers'

export async function create() {
  const cart = await createCart()
  cookies().set('cartId', cart.id)
}
```

</AppOnly>

### –ß—Ç–µ–Ω–∏–µ –∫—É–∫–∏

<PagesOnly>

–í—ã –º–æ–∂–µ—Ç–µ —á–∏—Ç–∞—Ç—å –∫—É–∫–∏ –≤–Ω—É—Ç—Ä–∏ API Route, –∏—Å–ø–æ–ª—å–∑—É—è —Ö–µ–ª–ø–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ [`cookies`](/docs/pages/building-your-application/routing/api-routes#request-helpers):

```ts filename="pages/api/cookie.ts" switcher
import type { NextApiRequest, NextApiResponse } from 'next'

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  const auth = req.cookies.authorization
  // ...
}
```

```js filename="pages/api/cookie.js" switcher
export default async function handler(req, res) {
  const auth = req.cookies.authorization
  // ...
}
```

</PagesOnly>

<AppOnly>

–í—ã –º–æ–∂–µ—Ç–µ —á–∏—Ç–∞—Ç—å –∫—É–∫–∏ –≤–Ω—É—Ç—Ä–∏ Server Action, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏—é [`cookies`](/docs/app/api-reference/functions/cookies):

```ts filename="app/actions.ts" switcher
'use server'

import { cookies } from 'next/headers'

export async function read() {
  const auth = cookies().get('authorization')?.value
  // ...
}
```

```js filename="app/actions.js" switcher
'use server'

import { cookies } from 'next/headers'

export async function read() {
  const auth = cookies().get('authorization')?.value
  // ...
}
```

</AppOnly>

### –£–¥–∞–ª–µ–Ω–∏–µ –∫—É–∫–∏

<PagesOnly>

–í—ã –º–æ–∂–µ—Ç–µ —É–¥–∞–ª–∏—Ç—å –∫—É–∫–∏ –≤–Ω—É—Ç—Ä–∏ API Route, –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥ `setHeader` –¥–ª—è –æ—Ç–≤–µ—Ç–∞:

```ts filename="pages/api/cookie.ts" switcher
import type { NextApiRequest, NextApiResponse } from 'next'

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  res.setHeader('Set-Cookie', 'username=; Path=/; HttpOnly; Max-Age=0')
  res.status(200).send('–ö—É–∫–∏ –±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã.')
}
```

```js filename="pages/api/cookie.js" switcher
export default async function handler(req, res) {
  res.setHeader('Set-Cookie', 'username=; Path=/; HttpOnly; Max-Age=0')
  res.status(200).send('–ö—É–∫–∏ –±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã.')
}
```

</PagesOnly>

<AppOnly>

–í—ã –º–æ–∂–µ—Ç–µ —É–¥–∞–ª–∏—Ç—å –∫—É–∫–∏ –≤–Ω—É—Ç—Ä–∏ Server Action, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏—é [`cookies`](/docs/app/api-reference/functions/cookies):

```ts filename="app/actions.ts" switcher
'use server'

import { cookies } from 'next/headers'

export async function delete() {
  cookies().delete('name')
  // ...
}
```

```js filename="app/actions.js" switcher
'use server'

import { cookies } from 'next/headers'

export async function delete() {
  cookies().delete('name')
  // ...
}
```

–°–º–æ—Ç—Ä–∏—Ç–µ [–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã](/docs/app/api-reference/functions/cookies#deleting-cookies) –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∫—É–∫–∏ –∏–∑ Server Actions.

</AppOnly>
