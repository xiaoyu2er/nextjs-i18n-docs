---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-06-06T17:35:44.619Z
title: Перехватывающие маршруты (Intercepting Routes)
description: Используйте перехватывающие маршруты для загрузки нового маршрута в текущем макете с маскировкой URL в браузере, что полезно для сложных паттернов маршрутизации, таких как модальные окна.
related:
  title: Дальнейшие шаги
  description: Узнайте, как использовать модальные окна с перехватывающими и параллельными маршрутами.
  links:
    - app/building-your-application/routing/parallel-routes
---

Перехватывающие маршруты позволяют загружать маршрут из другой части вашего приложения в текущем макете. Этот подход к маршрутизации полезен, когда вы хотите отобразить содержимое маршрута без переключения пользователя в другой контекст.

Например, при клике на фотографию в ленте вы можете отобразить её в модальном окне поверх ленты. В этом случае Next.js перехватывает маршрут `/photo/123`, маскирует URL и накладывает его поверх `/feed`.

<Image
  alt="Мягкая навигация с перехватывающими маршрутами"
  srcLight="/docs/light/intercepting-routes-soft-navigate.png"
  srcDark="/docs/dark/intercepting-routes-soft-navigate.png"
  width="1600"
  height="617"
/>

Однако при переходе к фотографии по публичной ссылке или при обновлении страницы должна отображаться вся страница фотографии, а не модальное окно. В этом случае перехват маршрута не происходит.

<Image
  alt="Жёсткая навигация с перехватывающими маршрутами"
  srcLight="/docs/light/intercepting-routes-hard-navigate.png"
  srcDark="/docs/dark/intercepting-routes-hard-navigate.png"
  width="1600"
  height="604"
/>

## Соглашение

Перехватывающие маршруты определяются с помощью соглашения `(..)`, которое похоже на относительные пути `../`, но применяется к сегментам.

Можно использовать:

- `(.)` для соответствия сегментам **того же уровня**
- `(..)` для соответствия сегментам **на уровень выше**
- `(..)(..)` для соответствия сегментам **на два уровня выше**
- `(...)` для соответствия сегментам от корневой директории `app`

Например, вы можете перехватить сегмент `photo` из сегмента `feed`, создав директорию `(..)photo`.

<Image
  alt="Структура папок перехватывающих маршрутов"
  srcLight="/docs/light/intercepted-routes-files.png"
  srcDark="/docs/dark/intercepted-routes-files.png"
  width="1600"
  height="604"
/>

> Обратите внимание, что соглашение `(..)` основано на _сегментах маршрутов_, а не на файловой системе.

## Примеры

### Модальные окна

Перехватывающие маршруты можно использовать вместе с [параллельными маршрутами (Parallel Routes)](/docs/app/building-your-application/routing/parallel-routes) для создания модальных окон.

Использование этого паттерна для модальных окон решает некоторые распространённые проблемы:

- Содержимое модального окна становится **доступным по URL**
- **Сохраняется контекст** при обновлении страницы вместо закрытия модального окна
- **Закрытие модального окна при навигации назад** вместо перехода к предыдущему маршруту
- **Повторное открытие модального окна при навигации вперёд**

<Image
  alt="Пример модального окна с перехватывающими маршрутами"
  srcLight="/docs/light/intercepted-routes-modal-example.png"
  srcDark="/docs/dark/intercepted-routes-modal-example.png"
  width="1600"
  height="976"
/>

> В приведённом примере путь к сегменту `photo` использует `(..)`, поскольку `@modal` является _слотом_, а не _сегментом_. Это означает, что маршрут `photo` находится только на один уровень выше, несмотря на то, что в файловой системе он выше на два уровня.

Другие примеры включают открытие модального окна входа в верхней панели навигации при наличии отдельной страницы `/login` или открытие корзины покупок в боковом модальном окне.

[Посмотреть пример](https://github.com/vercel-labs/nextgram) модальных окон с перехватывающими и параллельными маршрутами.