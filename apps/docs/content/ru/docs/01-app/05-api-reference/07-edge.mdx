---
source-updated-at: 2025-05-19T22:31:51.000Z
translation-updated-at: 2025-06-02T19:59:40.940Z
title: Edge Runtime
description: Справочник API для Edge Runtime.
---

{/* Содержание этого документа является общим для маршрутизаторов app и pages. Вы можете использовать компонент `<PagesOnly>Content</PagesOnly>` для добавления контента, специфичного для Pages Router. Любой общий контент не должен быть обёрнут в компонент. */}

В Next.js доступны две серверные среды выполнения (runtime), которые можно использовать в приложении:

- **Node.js Runtime** (по умолчанию) — имеет доступ ко всем API Node.js и используется для рендеринга приложения.
- **Edge Runtime** — предоставляет ограниченный [набор API](#reference) и используется в [Middleware](/docs/app/api-reference/file-conventions/middleware).

## Ограничения

- Edge Runtime не поддерживает все API Node.js. Некоторые пакеты могут работать некорректно.
- Edge Runtime не поддерживает инкрементальную статическую регенерацию (ISR).
- Обе среды выполнения могут поддерживать [потоковую передачу данных](/docs/app/building-your-application/routing/loading-ui-and-streaming) в зависимости от используемого адаптера развёртывания.

## Справочник

Edge Runtime поддерживает следующие API:

### Сетевые API

| API                                                                             | Описание                          |
| ------------------------------------------------------------------------------- | --------------------------------- |
| [`Blob`](https://developer.mozilla.org/docs/Web/API/Blob)                       | Представляет blob-объект          |
| [`fetch`](https://developer.mozilla.org/docs/Web/API/Fetch_API)                 | Получает ресурс                   |
| [`FetchEvent`](https://developer.mozilla.org/docs/Web/API/FetchEvent)           | Представляет событие fetch        |
| [`File`](https://developer.mozilla.org/docs/Web/API/File)                       | Представляет файл                 |
| [`FormData`](https://developer.mozilla.org/docs/Web/API/FormData)               | Представляет данные формы         |
| [`Headers`](https://developer.mozilla.org/docs/Web/API/Headers)                 | Представляет HTTP-заголовки       |
| [`Request`](https://developer.mozilla.org/docs/Web/API/Request)                 | Представляет HTTP-запрос          |
| [`Response`](https://developer.mozilla.org/docs/Web/API/Response)               | Представляет HTTP-ответ           |
| [`URLSearchParams`](https://developer.mozilla.org/docs/Web/API/URLSearchParams) | Представляет параметры URL-запроса|
| [`WebSocket`](https://developer.mozilla.org/docs/Web/API/WebSocket)             | Представляет WebSocket-соединение |

### API кодирования

| API                                                                                 | Описание                                |
| ----------------------------------------------------------------------------------- | --------------------------------------- |
| [`atob`](https://developer.mozilla.org/en-US/docs/Web/API/atob)                     | Декодирует строку в кодировке base-64   |
| [`btoa`](https://developer.mozilla.org/en-US/docs/Web/API/btoa)                     | Кодирует строку в base-64               |
| [`TextDecoder`](https://developer.mozilla.org/docs/Web/API/TextDecoder)             | Декодирует Uint8Array в строку          |
| [`TextDecoderStream`](https://developer.mozilla.org/docs/Web/API/TextDecoderStream) | Цепочный декодер для потоков            |
| [`TextEncoder`](https://developer.mozilla.org/docs/Web/API/TextEncoder)             | Кодирует строку в Uint8Array            |
| [`TextEncoderStream`](https://developer.mozilla.org/docs/Web/API/TextEncoderStream) | Цепочный кодировщик для потоков         |

### API потоков

| API                                                                                                     | Описание                              |
| ------------------------------------------------------------------------------------------------------- | ------------------------------------- |
| [`ReadableStream`](https://developer.mozilla.org/docs/Web/API/ReadableStream)                           | Представляет читаемый поток           |
| [`ReadableStreamBYOBReader`](https://developer.mozilla.org/docs/Web/API/ReadableStreamBYOBReader)       | Представляет читатель ReadableStream  |
| [`ReadableStreamDefaultReader`](https://developer.mozilla.org/docs/Web/API/ReadableStreamDefaultReader) | Представляет читатель ReadableStream  |
| [`TransformStream`](https://developer.mozilla.org/docs/Web/API/TransformStream)                         | Представляет преобразующий поток       |
| [`WritableStream`](https://developer.mozilla.org/docs/Web/API/WritableStream)                           | Представляет записываемый поток        |
| [`WritableStreamDefaultWriter`](https://developer.mozilla.org/docs/Web/API/WritableStreamDefaultWriter) | Представляет писатель WritableStream  |

### Криптографические API

| API                                                                       | Описание                                                                                     |
| ------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------- |
| [`crypto`](https://developer.mozilla.org/docs/Web/API/Window/crypto)      | Предоставляет доступ к криптографическим функциям платформы                                 |
| [`CryptoKey`](https://developer.mozilla.org/docs/Web/API/CryptoKey)       | Представляет криптографический ключ                                                         |
| [`SubtleCrypto`](https://developer.mozilla.org/docs/Web/API/SubtleCrypto) | Предоставляет доступ к базовым криптографическим примитивам: хешированию, подписи, шифрованию |

### Веб-стандартные API

| API                                                                                                                   | Описание                                                                                                                                                                                          |
| --------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [`AbortController`](https://developer.mozilla.org/docs/Web/API/AbortController)                                       | Позволяет прерывать один или несколько DOM-запросов по необходимости                                                                                                                                     |
| [`Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)                           | Представляет массив значений                                                                                                                                                                        |
| [`ArrayBuffer`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer)               | Представляет буфер бинарных данных фиксированной длины                                                                                                                                            |
| [`Atomics`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Atomics)                       | Предоставляет атомарные операции в виде статических методов                                                                                                                                                         |
| [`BigInt`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/BigInt)                         | Представляет целое число произвольной точности                                                                                                                                                   |
| [`BigInt64Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/BigInt64Array)           | Представляет типизированный массив 64-битных знаковых целых чисел                                                                                                                                                   |
| [`BigUint64Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/BigUint64Array)         | Представляет типизированный массив 64-битных беззнаковых целых чисел                                                                                                                                                 |
| [`Boolean`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)                       | Представляет логическую сущность и может иметь два значения: `true` и `false`                                                                                                                              |
| [`clearInterval`](https://developer.mozilla.org/docs/Web/API/WindowOrWorkerGlobalScope/clearInterval)                 | Отменяет повторяющееся действие, ранее установленное вызовом `setInterval()`                                                                                                      |
| [`clearTimeout`](https://developer.mozilla.org/docs/Web/API/WindowOrWorkerGlobalScope/clearTimeout)                   | Отменяет действие, ранее запланированное вызовом `setTimeout()`                                                                                                       |
| [`console`](https://developer.mozilla.org/docs/Web/API/Console)                                                       | Предоставляет доступ к консоли отладки браузера                                                                                                                                                   |
| [`DataView`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/DataView)                     | Представляет общее представление `ArrayBuffer`                                                                                                                                                        |
| [`Date`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date)                             | Представляет момент времени в платформонезависимом формате                                                                                                                                  |
| [`decodeURI`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/decodeURI)                   | Декодирует URI, ранее созданный `encodeURI` или аналогичной функцией                                                                                                |
| [`decodeURIComponent`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent) | Декодирует компонент URI, ранее созданный `encodeURIComponent` или аналогичной функцией                                                                             |
| [`DOMException`](https://developer.mozilla.org/docs/Web/API/DOMException)                                             | Представляет ошибку, возникшую в DOM                                                                                                                                                           |
| [`encodeURI`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/encodeURI)                   | Кодирует URI, заменяя каждый экземпляр определенных символов на escape-последовательности UTF-8           |
| [`encodeURIComponent`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent) | Кодирует компонент URI, заменяя каждый экземпляр определенных символов на escape-последовательности UTF-8 |
| [`Error`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Error)                           | Представляет ошибку при выполнении инструкции или доступе к свойству                                                                                                                       |
| [`EvalError`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/EvalError)                   | Представляет ошибку, связанную с глобальной функцией `eval()`                                                                                                                               |
| [`Float32Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Float32Array)             | Представляет типизированный массив 32-битных чисел с плавающей запятой                                                                                                                                            |
| [`Float64Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Float64Array)             | Представляет типизированный массив 64-битных чисел с плавающей запятой                                                                                                                                            |
| [`Function`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Function)                     | Представляет функцию                                                                                                                                                                                |
| [`Infinity`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Infinity)                     | Представляет математическое значение бесконечности                                                                                                                                                           |
| [`Int8Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Int8Array)                   | Представляет типизированный массив 8-битных знаковых целых чисел                                                                                                                                                    |
| [`Int16Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Int16Array)                 | Представляет типизированный массив 16-битных знаковых целых чисел                                                                                                                                                   |
| [`Int32Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Int32Array)                 | Представляет типизированный массив 32-битных знаковых целых чисел                                                                                                                                                   |
| [`Intl`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Intl)                             | Предоставляет доступ к функциям интернационализации и локализации                                                                                                                               |
| [`isFinite`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/isFinite)                     | Определяет, является ли значение конечным числом                                                                                                                                                        |
| [`isNaN`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/isNaN)                           | Определяет, является ли значение `NaN`                                                                                                                                                           |
| [`JSON`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/JSON)                             | Предоставляет функциональность для преобразования значений JavaScript в формат JSON и обратно                                                                                                                      |
| [`Map`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map)                               | Представляет коллекцию значений, где каждое значение может встречаться только один раз                                                                                                                              |
| [`Math`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Math)                             | Предоставляет доступ к математическим функциям и константам                                                                                                                                              |
| [`Number`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)                         | Представляет числовое значение                                                                                                                                                                           |
| [`Object`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)                         | Представляет базовый объект для всех объектов JavaScript                                                                                                                                     |
| [`parseFloat`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/parseFloat)                 | Разбирает строковый аргумент и возвращает число с плавающей запятой                                                                                                                                         |
| [`parseInt`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/parseInt)                     | Разбирает строковый аргумент и возвращает целое число указанной системы счисления                                                                                                                               |
| [`Promise`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)                       | Представляет результат асинхронной операции (успешный или неудачный)                                                                                                |
| [`Proxy`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Proxy)                           | Представляет объект для настройки поведения базовых операций (например, поиск свойства, присваивание, перечисление, вызов функции и т.д.)                                     |
| [`queueMicrotask`](https://developer.mozilla.org/docs/Web/API/queueMicrotask)                                         | Добавляет микрозадачу в очередь на выполнение                                                                                                                                                                    |
| [`RangeError`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/RangeError)                 | Представляет ошибку, когда значение не входит в допустимый диапазон                                                                                                                        |
| [`ReferenceError`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError)         | Представляет ошибку, когда ссылаются на несуществующую переменную                                                                                                                                       |
| [`Reflect`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Reflect)                       | Предоставляет методы для перехватываемых операций JavaScript                                                                                                                                             |
| [`RegExp`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/RegExp)                         | Представляет регулярное выражение для сопоставления комбинаций символов                                                                                                                    |
| [`Set`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set)                               | Представляет коллекцию значений, где каждое значение может встречаться только один раз                                                                                                                              |
| [`setInterval`](https://developer.mozilla.org/docs/Web/API/setInterval)                                               | Повторно вызывает функцию с фиксированной задержкой между вызовами                                                                                                                               |
| [`setTimeout`](https://developer.mozilla.org/docs/Web/API/setTimeout)                                                 | Вызывает функцию или вычисляет выражение после указанного количества миллисекунд                                                                                                                 |
| [`SharedArrayBuffer`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer)   | Представляет буфер бинарных данных фиксированной длины                                                                                                                                            |
| [`String`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)                         | Представляет последовательность символов                                                                                                                                                                  |
| [`structuredClone`](https://developer.mozilla.org/docs/Web/API/Web_Workers_API/Structured_clone_algorithm)            | Создает глубокую копию значения                                                                                                                                                                       |
| [`Symbol`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Symbol)                         | Представляет уникальный и неизменяемый тип данных, используемый в качестве ключа свойства объекта                                                                                                            |
| [`SyntaxError`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError)               | Представляет ошибку при попытке интерпретировать синтаксически неверный код                                                                                                                              |
| [`TypeError`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/TypeError)                   | Представляет ошибку, когда значение имеет неожиданный тип                                                                                                                                         |
| [`Uint8Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)                 | Представляет типизированный массив 8-битных беззнаковых целых чисел                                                                                                                                                  |
| [`Uint8ClampedArray`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray)   | Представляет типизированный массив 8-битных беззнаковых целых чисел, ограниченных диапазоном 0-255                                                                                                                                 |
| [`Uint32Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array)               | Представляет типизированный массив 32-битных беззнаковых целых чисел                                                                                                                                                 |
| [`URIError`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/URIError)                     | Представляет ошибку при неправильном использовании глобальных функций обработки URI                                                                                                                      |
| [`URL`](https://developer.mozilla.org/docs/Web/API/URL)                                                               | Представляет объект со статическими методами для создания URL-адресов                                                                                                                          |
| [`URLPattern`](https://developer.mozilla.org/docs/Web/API/URLPattern)                                                 | Представляет шаблон URL                                                                                                                                                                             |
| [`URLSearchParams`](https://developer.mozilla.org/docs/Web/API/URLSearchParams)                                       | Представляет коллекцию пар ключ/значение                                                                                                                                                           |
| [`WeakMap`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/WeakMap)                       | Представляет коллекцию пар ключ/значение, где ключи имеют слабые ссылки                                                                                                                   |
| [`WeakSet`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/WeakSet)                       | Представляет коллекцию объектов, где каждый объект может встречаться только один раз                                                                                                                          |
| [`WebAssembly`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly)               | Предоставляет доступ к WebAssembly                                                                                                                                                                       |

### Специфичные полифилы для Next.js

- [`AsyncLocalStorage`](https://nodejs.org/api/async_context.html#class-asynclocalstorage)

### Переменные окружения

Вы можете использовать `process.env` для доступа к [переменным окружения](/docs/app/guides/environment-variables) как в `next dev`, так и в `next build`.

### Неподдерживаемые API

Среда выполнения Edge Runtime имеет некоторые ограничения, включая:

- Нативные API Node.js **не поддерживаются**. Например, вы не можете читать или записывать файлы в файловую систему.
- `node_modules` _можно_ использовать, если они реализуют ES Modules и не используют нативные API Node.js.
- Прямой вызов `require` **запрещён**. Вместо этого используйте ES Modules.

Следующие возможности JavaScript отключены и **не будут работать:**

| API                                                                                                                             | Описание                                                          |
| ------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------- |
| [`eval`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/eval)                                       | Выполняет JavaScript-код, представленный в виде строки            |
| [`new Function(evalString)`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Function)               | Создаёт новую функцию с кодом, переданным в качестве аргумента    |
| [`WebAssembly.compile`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/compile)         | Компилирует модуль WebAssembly из буферного источника             |
| [`WebAssembly.instantiate`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/instantiate) | Компилирует и создаёт экземпляр модуля WebAssembly из источника   |

В редких случаях ваш код может содержать (или импортировать) некоторые динамические выражения для выполнения кода, которые _не могут быть достигнуты во время выполнения_ и не могут быть удалены с помощью tree shaking.
Вы можете ослабить проверку, разрешив определённые файлы в конфигурации Middleware:

```javascript filename="middleware.ts"
export const config = {
  unstable_allowDynamic: [
    // разрешает один файл
    '/lib/utilities.js',
    // используйте glob для разрешения любых файлов в стороннем модуле function-bind
    '**/node_modules/function-bind/**',
  ],
}
```

`unstable_allowDynamic` — это [glob](https://github.com/micromatch/micromatch#matching-features) или массив glob-шаблонов, игнорирующих динамическое выполнение кода для определённых файлов. Шаблоны указываются относительно корневой папки вашего приложения.

Учтите, что если эти выражения будут выполнены в Edge Runtime, _они вызовут ошибку во время выполнения_.
