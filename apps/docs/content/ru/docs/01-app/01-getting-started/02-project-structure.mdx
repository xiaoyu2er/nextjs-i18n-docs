---
source-updated-at: 2025-06-08T05:18:05.000Z
translation-updated-at: 2025-06-08T22:03:13.622Z
title: Структура и организация проекта
nav_title: Структура проекта
description: Обзор соглашений о папках и файлах в Next.js, а также рекомендации по организации проекта.
---

Эта страница содержит обзор **всех** соглашений о папках и файлах в Next.js, а также рекомендации по организации вашего проекта.

## Соглашения о папках и файлах

### Папки верхнего уровня

Папки верхнего уровня используются для организации кода приложения и статических ресурсов.

<Image
  alt="Сегменты маршрутов в сегменты путей"
  srcLight="/docs/light/top-level-folders.png"
  srcDark="/docs/dark/top-level-folders.png"
  width="1600"
  height="525"
/>

|                                                                    |                                    |
| ------------------------------------------------------------------ | ---------------------------------- |
| [`app`](/docs/app/building-your-application/routing)               | Роутер приложения (App Router)     |
| [`pages`](/docs/pages/building-your-application/routing)           | Роутер страниц (Pages Router)      |
| [`public`](/docs/app/api-reference/file-conventions/public-folder) | Статические ресурсы для раздачи    |
| [`src`](/docs/app/api-reference/file-conventions/src-folder)       | Опциональная папка исходного кода  |

### Файлы верхнего уровня

Файлы верхнего уровня используются для настройки приложения, управления зависимостями, запуска middleware, интеграции инструментов мониторинга и определения переменных окружения.

|                                                                              |                                         |
| ---------------------------------------------------------------------------- | --------------------------------------- |
| **Next.js**                                                                  |                                         |
| [`next.config.js`](/docs/app/api-reference/config/next-config-js)            | Конфигурационный файл Next.js           |
| [`package.json`](/docs/app/getting-started/installation#manual-installation) | Зависимости и скрипты проекта           |
| [`instrumentation.ts`](/docs/app/guides/instrumentation)                     | Файл для OpenTelemetry и инструментации |
| [`middleware.ts`](/docs/app/building-your-application/routing/middleware)    | Middleware для запросов в Next.js       |
| [`.env`](/docs/app/guides/environment-variables)                             | Переменные окружения                    |
| [`.env.local`](/docs/app/guides/environment-variables)                       | Локальные переменные окружения          |
| [`.env.production`](/docs/app/guides/environment-variables)                  | Переменные окружения для production     |
| [`.env.development`](/docs/app/guides/environment-variables)                 | Переменные окружения для development    |
| [`.eslintrc.json`](/docs/app/api-reference/config/eslint)                    | Конфигурационный файл ESLint            |
| `.gitignore`                                                                 | Файлы и папки для игнорирования в Git   |
| `next-env.d.ts`                                                              | Файл деклараций TypeScript для Next.js  |
| `tsconfig.json`                                                              | Конфигурационный файл TypeScript        |
| `jsconfig.json`                                                              | Конфигурационный файл JavaScript        |

<AppOnly>

### Файлы маршрутизации

|                                                                               |                     |                              |
| ----------------------------------------------------------------------------- | ------------------- | ---------------------------- |
| [`layout`](/docs/app/api-reference/file-conventions/layout)                   | `.js` `.jsx` `.tsx` | Макет (Layout)               |
| [`page`](/docs/app/api-reference/file-conventions/page)                       | `.js` `.jsx` `.tsx` | Страница                     |
| [`loading`](/docs/app/api-reference/file-conventions/loading)                 | `.js` `.jsx` `.tsx` | UI загрузки                  |
| [`not-found`](/docs/app/api-reference/file-conventions/not-found)             | `.js` `.jsx` `.tsx` | UI "Не найдено"              |
| [`error`](/docs/app/api-reference/file-conventions/error)                     | `.js` `.jsx` `.tsx` | UI ошибки                    |
| [`global-error`](/docs/app/api-reference/file-conventions/error#global-error) | `.js` `.jsx` `.tsx` | Глобальный UI ошибки         |
| [`route`](/docs/app/api-reference/file-conventions/route)                     | `.js` `.ts`         | API-эндпоинт                 |
| [`template`](/docs/app/api-reference/file-conventions/template)               | `.js` `.jsx` `.tsx` | Перерендеренный макет        |
| [`default`](/docs/app/api-reference/file-conventions/default)                 | `.js` `.jsx` `.tsx` | Фолбэк-страница параллельного маршрута |

### Вложенные маршруты

|                 |                      |
| --------------- | -------------------- |
| `folder`        | Сегмент маршрута     |
| `folder/folder` | Вложенный сегмент маршрута |

### Динамические маршруты

|                                                                                                        |                                  |
| ------------------------------------------------------------------------------------------------------ | -------------------------------- |
| [`[folder]`](/docs/app/api-reference/file-conventions/dynamic-routes#convention)                       | Динамический сегмент маршрута    |
| [`[...folder]`](/docs/app/api-reference/file-conventions/dynamic-routes#catch-all-segments)            | Сегмент маршрута для всех путей  |
| [`[[...folder]]`](/docs/app/api-reference/file-conventions/dynamic-routes#optional-catch-all-segments) | Опциональный сегмент для всех путей |

### Группы маршрутов и приватные папки

|                                                                                |                                                  |
| ------------------------------------------------------------------------------ | ------------------------------------------------ |
| [`(folder)`](/docs/app/api-reference/file-conventions/route-groups#convention) | Группировка маршрутов без влияния на маршрутизацию |
| [`_folder`](#private-folders)                                                  | Исключение папки и дочерних сегментов из маршрутизации |

### Параллельные и перехваченные маршруты

|                                                                                             |                            |
| ------------------------------------------------------------------------------------------- | -------------------------- |
| [`@folder`](/docs/app/api-reference/file-conventions/parallel-routes#slots)                 | Именованный слот           |
| [`(.)folder`](/docs/app/api-reference/file-conventions/intercepting-routes#convention)      | Перехват на том же уровне  |
| [`(..)folder`](/docs/app/api-reference/file-conventions/intercepting-routes#convention)     | Перехват на уровень выше   |
| [`(..)(..)folder`](/docs/app/api-reference/file-conventions/intercepting-routes#convention) | Перехват на два уровня выше |
| [`(...)folder`](/docs/app/api-reference/file-conventions/intercepting-routes#convention)    | Перехват из корня          |

### Соглашения для файлов метаданных

#### Иконки приложения

|                                                                                                                 |                                     |                          |
| --------------------------------------------------------------------------------------------------------------- | ----------------------------------- | ------------------------ |
| [`favicon`](/docs/app/api-reference/file-conventions/metadata/app-icons#favicon)                                | `.ico`                              | Файл favicon             |
| [`icon`](/docs/app/api-reference/file-conventions/metadata/app-icons#icon)                                      | `.ico` `.jpg` `.jpeg` `.png` `.svg` | Файл иконки приложения   |
| [`icon`](/docs/app/api-reference/file-conventions/metadata/app-icons#generate-icons-using-code-js-ts-tsx)       | `.js` `.ts` `.tsx`                  | Генерируемая иконка      |
| [`apple-icon`](/docs/app/api-reference/file-conventions/metadata/app-icons#apple-icon)                          | `.jpg` `.jpeg`, `.png`              | Иконка для Apple         |
| [`apple-icon`](/docs/app/api-reference/file-conventions/metadata/app-icons#generate-icons-using-code-js-ts-tsx) | `.js` `.ts` `.tsx`                  | Генерируемая иконка Apple |

#### Open Graph и Twitter изображения

|                                                                                                                             |                              |                            |
| --------------------------------------------------------------------------------------------------------------------------- | ---------------------------- | -------------------------- |
| [`opengraph-image`](/docs/app/api-reference/file-conventions/metadata/opengraph-image#opengraph-image)                      | `.jpg` `.jpeg` `.png` `.gif` | Файл изображения Open Graph |
| [`opengraph-image`](/docs/app/api-reference/file-conventions/metadata/opengraph-image#generate-images-using-code-js-ts-tsx) | `.js` `.ts` `.tsx`           | Генерируемое изображение Open Graph |
| [`twitter-image`](/docs/app/api-reference/file-conventions/metadata/opengraph-image#twitter-image)                          | `.jpg` `.jpeg` `.png` `.gif` | Файл изображения Twitter    |
| [`twitter-image`](/docs/app/api-reference/file-conventions/metadata/opengraph-image#generate-images-using-code-js-ts-tsx)   | `.js` `.ts` `.tsx`           | Генерируемое изображение Twitter |

#### SEO

|                                                                                                              |             |                       |
| ------------------------------------------------------------------------------------------------------------ | ----------- | --------------------- |
| [`sitemap`](/docs/app/api-reference/file-conventions/metadata/sitemap#sitemap-files-xml)                     | `.xml`      | Файл карты сайта      |
| [`sitemap`](/docs/app/api-reference/file-conventions/metadata/sitemap#generating-a-sitemap-using-code-js-ts) | `.js` `.ts` | Генерируемая карта сайта |
| [`robots`](/docs/app/api-reference/file-conventions/metadata/robots#static-robotstxt)                        | `.txt`      | Файл robots.txt       |
| [`robots`](/docs/app/api-reference/file-conventions/metadata/robots#generate-a-robots-file)                  | `.js` `.ts` | Генерируемый файл robots.txt |

</AppOnly>

<PagesOnly>

### Соглашения о файлах

|                                                                                                             |                     |                   |
| ----------------------------------------------------------------------------------------------------------- | ------------------- | ----------------- |
| [`_app`](/docs/pages/building-your-application/routing/custom-app)                                          | `.js` `.jsx` `.tsx` | Кастомное приложение |
| [`_document`](/docs/pages/building-your-application/routing/custom-document)                                | `.js` `.jsx` `.tsx` | Кастомный документ |
| [`_error`](/docs/pages/building-your-application/routing/custom-error#more-advanced-error-page-customizing) | `.js` `.jsx` `.tsx` | Кастомная страница ошибки |
| [`404`](/docs/pages/building-your-application/routing/custom-error#404-page)                                | `.js` `.jsx` `.tsx` | Страница 404      |
| [`500`](/docs/pages/building-your-application/routing/custom-error#500-page)                                | `.js` `.jsx` `.tsx` | Страница 500      |

### Маршруты

|                                                                                                |                     |             |
| ---------------------------------------------------------------------------------------------- | ------------------- | ----------- |
| **Соглашение о папках**                                                                        |                     |             |
| [`index`](/docs/pages/building-your-application/routing/pages-and-layouts#index-routes)        | `.js` `.jsx` `.tsx` | Домашняя страница |
| [`folder/index`](/docs/pages/building-your-application/routing/pages-and-layouts#index-routes) | `.js` `.jsx` `.tsx` | Вложенная страница |
| **Соглашение о файлах**                                                                        |                     |             |
| [`index`](/docs/pages/building-your-application/routing/pages-and-layouts#index-routes)        | `.js` `.jsx` `.tsx` | Домашняя страница |
| [`file`](/docs/pages/building-your-application/routing/pages-and-layouts)                      | `.js` `.jsx` `.tsx` | Вложенная страница |

### Динамические маршруты

|                                                                                                                   |                     |                                  |
| ----------------------------------------------------------------------------------------------------------------- | ------------------- | -------------------------------- |
| **Соглашение о папках**                                                                                           |                     |                                  |
| [`[folder]/index`](/docs/pages/building-your-application/routing/dynamic-routes)                                  | `.js` `.jsx` `.tsx` | Динамический сегмент маршрута    |
| [`[...folder]/index`](/docs/pages/building-your-application/routing/dynamic-routes#catch-all-segments)            | `.js` `.jsx` `.tsx` | Сегмент для всех путей           |
| [`[[...folder]]/index`](/docs/pages/building-your-application/routing/dynamic-routes#optional-catch-all-segments) | `.js` `.jsx` `.tsx` | Опциональный сегмент для всех путей |
| **Соглашение о файлах**                                                                                           |                     |                                  |
| [`[file]`](/docs/pages/building-your-application/routing/dynamic-routes)                                          | `.js` `.jsx` `.tsx` | Динамический сегмент маршрута    |
| [`[...file]`](/docs/pages/building-your-application/routing/dynamic-routes#catch-all-segments)                    | `.js` `.jsx` `.tsx` | Сегмент для всех путей           |
| [`[[...file]]`](/docs/pages/building-your-application/routing/dynamic-routes#optional-catch-all-segments)         | `.js` `.jsx` `.tsx` | Опциональный сегмент для всех путей |

</PagesOnly>

<AppOnly>

## Организация проекта

Next.js **не навязывает** конкретный способ организации файлов проекта, но предоставляет несколько возможностей для удобной структуризации.

### Иерархия компонентов

Компоненты, определённые в специальных файлах, рендерятся в определённой иерархии:

- `layout.js`
- `template.js`
- `error.js` (граница ошибок React)
- `loading.js` (граница Suspense React)
- `not-found.js` (граница ошибок React)
- `page.js` или вложенный `layout.js`

<Image
  alt="Иерархия компонентов для соглашений о файлах"
  srcLight="/docs/light/file-conventions-component-hierarchy.png"
  srcDark="/docs/dark/file-conventions-component-hierarchy.png"
  width="1600"
  height="643"
/>

Компоненты рендерятся рекурсивно во вложенных маршрутах, что означает вложение компонентов сегмента маршрута **внутри** компонентов родительского сегмента.

<Image
  alt="Иерархия компонентов для вложенных соглашений о файлах"
  srcLight="/docs/light/nested-file-conventions-component-hierarchy.png"
  srcDark="/docs/dark/nested-file-conventions-component-hierarchy.png"
  width="1600"
  height="863"
/>

### Совмещение файлов (Colocation)

В директории `app` вложенные папки определяют структуру маршрутов. Каждая папка представляет сегмент маршрута, который соответствует сегменту в URL-пути.

Однако, несмотря на то, что структура маршрутов определяется через папки, маршрут **не будет общедоступным**, пока в сегменте маршрута не будет добавлен файл `page.js` или `route.js`.

<Image
  alt="Диаграмма, показывающая, что маршрут не становится общедоступным, пока в сегменте не добавлен файл page.js или route.js"
  srcLight="/docs/light/project-organization-not-routable.png"
  srcDark="/docs/dark/project-organization-not-routable.png"
  width="1600"
  height="444"
/>

И даже когда маршрут становится общедоступным, клиенту отправляется только **контент**, возвращаемый `page.js` или `route.js`.

<Image
  alt="Диаграмма, показывающая, как файлы page.js и route.js делают маршруты общедоступными"
  srcLight="/docs/light/project-organization-routable.png"
  srcDark="/docs/dark/project-organization-routable.png"
  width="1600"
  height="687"
/>

Это означает, что **файлы проекта** можно **безопасно размещать** внутри сегментов маршрутов в директории `app`, не опасаясь, что они случайно станут доступными.

<Image
  alt="Диаграмма, показывающая, что совмещённые файлы проекта не становятся доступными, даже если сегмент содержит page.js или route.js"
  srcLight="/docs/light/project-organization-colocation.png"
  srcDark="/docs/dark/project-organization-colocation.png"
  width="1600"
  height="1011"
/>

> **Полезно знать**: Хотя вы **можете** размещать файлы проекта в `app`, вы **не обязаны** это делать. Если предпочитаете, можно [хранить их вне директории `app`](#store-project-files-outside-of-app).

### Приватные папки

Приватные папки можно создать, добавив к имени папки префикс в виде подчёркивания: `_имяПапки`

Это указывает, что папка является приватной деталью реализации и не должна учитываться системой маршрутизации, тем самым **исключая папку и все её подпапки** из маршрутизации.

<Image
  alt="Пример структуры папок с использованием приватных папок"
  srcLight="/docs/light/project-organization-private-folders.png"
  srcDark="/docs/dark/project-organization-private-folders.png"
  width="1600"
  height="849"
/>

Поскольку файлы в директории `app` по умолчанию можно [безопасно совмещать](#colocation), приватные папки не обязательны для совмещения. Однако они могут быть полезны для:

- Разделения логики интерфейса и маршрутизации.
- Единообразной организации внутренних файлов в проекте и экосистеме Next.js.
- Сортировки и группировки файлов в редакторах кода.
- Избежания потенциальных конфликтов имён с будущими соглашениями Next.js о файлах.

> **Полезно знать**:
>
> - Хотя это и не соглашение фреймворка, вы также можете пометить файлы вне приватных папок как "приватные", используя тот же паттерн с подчёркиванием.
> - Можно создать сегменты URL, начинающиеся с подчёркивания, добавив к имени папки префикс `%5F` (URL-кодированная форма подчёркивания): `%5FимяПапки`.
> - Если не использовать приватные папки, полезно знать [специальные соглашения Next.js о файлах](/docs/app/getting-started/project-structure#routing-files), чтобы избежать неожиданных конфликтов имён.

### Группы маршрутов (Route Groups)

Группы маршрутов можно создать, заключив папку в скобки: `(имяПапки)`

Это указывает, что папка предназначена для организации и **не должна включаться** в URL-путь маршрута.

<Image
  alt="Пример структуры папок с использованием групп маршрутов"
  srcLight="/docs/light/project-organization-route-groups.png"
  srcDark="/docs/dark/project-organization-route-groups.png"
  width="1600"
  height="849"
/>

Группы маршрутов полезны для:

- Организации маршрутов по разделам сайта, назначению или командам, например, маркетинговые страницы, административные страницы и т.д.
- Включения вложенных макетов на одном уровне сегмента маршрута:
  - [Создание нескольких вложенных макетов в одном сегменте, включая несколько корневых макетов](#creating-multiple-root-layouts)
  - [Добавление макета к подмножеству маршрутов в общем сегменте](#opting-specific-segments-into-a-layout)

### Папка `src`

Next.js поддерживает хранение кода приложения (включая `app`) внутри опциональной папки [`src`](/docs/app/api-reference/file-conventions/src-folder). Это отделяет код приложения от файлов конфигурации проекта, которые в основном находятся в корне проекта.

<Image
  alt="Пример структуры папок с папкой `src`"
  srcLight="/docs/light/project-organization-src-directory.png"
  srcDark="/docs/dark/project-organization-src-directory.png"
  width="1600"
  height="687"
/>

## Примеры

В следующем разделе приведён очень общий обзор распространённых стратегий. Главный вывод — выбрать стратегию, которая подходит вам и вашей команде, и придерживаться её во всём проекте.

> **Полезно знать**: В наших примерах ниже мы используем папки `components` и `lib` как обобщённые заполнители — их имена не имеют особого значения для фреймворка, и ваши проекты могут использовать другие папки, такие как `ui`, `utils`, `hooks`, `styles` и т.д.

### Хранение файлов проекта вне `app`

Эта стратегия предполагает хранение всего кода приложения в общих папках в **корне проекта**, а директория `app` используется исключительно для маршрутизации.

<Image
  alt="Пример структуры папок с файлами проекта вне app"
  srcLight="/docs/light/project-organization-project-root.png"
  srcDark="/docs/dark/project-organization-project-root.png"
  width="1600"
  height="849"
/>

### Хранение файлов проекта в корневых папках внутри `app`

Эта стратегия предполагает хранение всего кода приложения в общих папках в **корне директории `app`**.

<Image
  alt="Пример структуры папок с файлами проекта внутри app"
  srcLight="/docs/light/project-organization-app-root.png"
  srcDark="/docs/dark/project-organization-app-root.png"
  width="1600"
  height="849"
/>

### Разделение файлов проекта по функциональности или маршрутам

Эта стратегия предполагает хранение глобально используемого кода приложения в корне `app`, а более специфичного кода — в сегментах маршрутов, которые его используют.

<Image
  alt="Пример структуры папок с файлами проекта, разделёнными по функциональности или маршрутам"
  srcLight="/docs/light/project-organization-app-root-split.png"
  srcDark="/docs/dark/project-organization-app-root-split.png"
  width="1600"
  height="1011"
/>

### Организация маршрутов без влияния на URL-путь

Для организации маршрутов без изменения URL создайте группу, чтобы держать связанные маршруты вместе. Папки в скобках будут исключены из URL (например, `(marketing)` или `(shop)`).

<Image
  alt="Организация маршрутов с помощью групп маршрутов"
  srcLight="/docs/light/route-group-organisation.png"
  srcDark="/docs/dark/route-group-organisation.png"
  width="1600"
  height="930"
/>

Хотя маршруты внутри `(marketing)` и `(shop)` имеют одинаковую иерархию URL, для каждой группы можно создать отдельный макет, добавив файл `layout.js` в их папки.

<Image
  alt="Группы маршрутов с несколькими макетами"
  srcLight="/docs/light/route-group-multiple-layouts.png"
  srcDark="/docs/dark/route-group-multiple-layouts.png"
  width="1600"
  height="768"
/>

### Подключение определённых сегментов к макету

Чтобы подключить определённые маршруты к макету, создайте новую группу маршрутов (например, `(shop)`) и переместите в неё маршруты, которые должны использовать общий макет (например, `account` и `cart`). Маршруты вне группы не будут использовать этот макет (например, `checkout`).

<Image
  alt="Группы маршрутов с опциональными макетами"
  srcLight="/docs/light/route-group-opt-in-layouts.png"
  srcDark="/docs/dark/route-group-opt-in-layouts.png"
  width="1600"
  height="930"
/>

### Подключение скелетонов загрузки к определённому маршруту

Чтобы применить [скелетон загрузки](/docs/app/api-reference/file-conventions/loading) через файл `loading.js` к определённому маршруту, создайте новую группу маршрутов (например, `/(overview)`) и поместите ваш `loading.tsx` внутрь этой группы.

<Image
  alt="Структура папок, показывающая loading.tsx и page.tsx внутри группы маршрутов"
  srcLight="/docs/light/route-group-loading.png"
  srcDark="/docs/dark/route-group-loading.png"
  width="1600"
  height="444"
/>

Теперь файл `loading.tsx` будет применяться только к странице dashboard → overview, а не ко всем страницам dashboard, без изменения структуры URL-пути.

### Создание нескольких корневых макетов

Чтобы создать несколько [корневых макетов](/docs/app/api-reference/file-conventions/layout#root-layout), удалите корневой файл `layout.js` и добавьте файл `layout.js` в каждую группу маршрутов. Это полезно для разделения приложения на секции с совершенно разным интерфейсом или опытом. Теги `<html>` и `<body>` нужно добавить в каждый корневой макет.

<Image
  alt="Группы маршрутов с несколькими корневыми макетами"
  srcLight="/docs/light/route-group-multiple-root-layouts.png"
  srcDark="/docs/dark/route-group-multiple-root-layouts.png"
  width="1600"
  height="687"
/>

В приведённом примере и `(marketing)`, и `(shop)` имеют свои собственные корневые макеты.

</AppOnly>
