---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-05-21T20:43:03.633Z
title: 打包分析工具
description: 使用 @next/bundle-analyzer 插件分析你的 JavaScript 打包体积。
related:
  description: 了解更多关于优化生产环境应用的信息。
  links:
    - app/building-your-application/deploying/production-checklist
---

[`@next/bundle-analyzer`](https://www.npmjs.com/package/@next/bundle-analyzer) 是一个 Next.js 插件，可帮助你管理 JavaScript 模块的体积。它会生成每个模块及其依赖项的体积可视化报告。你可以利用这些信息移除大型依赖项、拆分代码或按需加载部分内容，从而减少传输到客户端的数据量。

## 安装

通过运行以下命令安装插件：

```bash
npm i @next/bundle-analyzer
# 或
yarn add @next/bundle-analyzer
# 或
pnpm add @next/bundle-analyzer
```

然后将打包分析工具的配置添加到你的 `next.config.js` 文件中：

```js filename="next.config.js"
const withBundleAnalyzer = require('@next/bundle-analyzer')({
  enabled: process.env.ANALYZE === 'true',
})

/** @type {import('next').NextConfig} */
const nextConfig = {}

module.exports = withBundleAnalyzer(nextConfig)
```

## 分析打包文件

运行以下命令来分析你的打包文件：

```bash
ANALYZE=true npm run build
# 或
ANALYZE=true yarn build
# 或
ANALYZE=true pnpm build
```

该报告将在浏览器中打开三个新标签页供你查看。在开发过程中定期执行此操作，并在部署站点前进行分析，可以帮助你及早发现大型打包文件，从而设计出性能更优的应用程序架构。