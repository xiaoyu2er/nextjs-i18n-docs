---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-05-21T20:55:52.224Z
title: generateBuildId
description: 配置构建 ID，该 ID 用于标识当前提供服务的应用程序构建版本。
---

{/* 本文档内容在应用路由和页面路由间共享。您可以使用 `<PagesOnly>内容</PagesOnly>` 组件添加特定于页面路由的内容。任何共享内容不应包裹在组件中。 */}

Next.js 使用构建时生成的常量 ID 来标识当前提供服务的应用版本。当在多服务器部署中每个服务器都运行 `next build` 时，这可能会导致问题。为了保持不同构建间的构建 ID 一致，您可以提供自定义的构建 ID。

打开 `next.config.js` 文件并添加 `generateBuildId` 函数：

```js filename="next.config.js"
module.exports = {
  generateBuildId: async () => {
    // 您可以在此处获取最新的 git 提交哈希值作为示例
    return 'my-build-id'
  },
}
```