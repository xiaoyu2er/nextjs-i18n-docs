---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-05-20T22:57:43.143Z
title: onDemandEntries
description: 配置 Next.js 在开发环境下如何处理内存中页面的创建与释放。
---

{/* 本文档内容同时适用于应用路由和页面路由。如需添加仅适用于页面路由(Pages Router)的内容，可使用 `<PagesOnly>内容</PagesOnly>` 组件。共享内容不应包裹在任何组件中。 */}

Next.js 提供了一些选项，让您可以控制开发服务器如何处理内存中已构建页面的释放与保留。

要修改默认配置，请打开 `next.config.js` 文件并添加 `onDemandEntries` 配置：

```js filename="next.config.js"
module.exports = {
  onDemandEntries: {
    // 服务器将页面保留在缓冲区的时间（毫秒）
    maxInactiveAge: 25 * 1000,
    // 应同时保留而不被释放的页面数量
    pagesBufferLength: 2,
  },
}
```