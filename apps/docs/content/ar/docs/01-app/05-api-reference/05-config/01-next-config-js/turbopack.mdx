---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-06-02T20:14:25.474Z
title: turbopack
description: تكوين خيارات Next.js الخاصة بـ Turbopack
---

{/* محتوى هذه الوثيقة مشترك بين موجه التطبيق وموجه الصفحات. يمكنك استخدام مكون `<PagesOnly>المحتوى</PagesOnly>` لإضافة محتوى خاص بموجه الصفحات. أي محتوى مشترك لا يجب أن يكون مغلفًا داخل مكون. */}

خيار `turbopack` يسمح لك بتخصيص [Turbopack](/docs/app/api-reference/turbopack) لتحويل ملفات مختلفة وتغيير طريقة حل الوحدات النمطية.

```ts filename="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig: NextConfig = {
  turbopack: {
    // ...
  },
}

export default nextConfig
```

```js filename="next.config.js" switcher
/** @type {import('next').NextConfig} */
const nextConfig = {
  turbopack: {
    // ...
  },
}

module.exports = nextConfig
```

> **معلومة مفيدة**:
>
> - Turbopack لـ Next.js لا يحتاج إلى محمّلات (loaders) أو تكوين محمّل للوظائف المدمجة. Turbopack يدعم بشكل مدمج CSS وتجميع JavaScript الحديث، لذا لا حاجة لـ `css-loader` أو `postcss-loader` أو `babel-loader` إذا كنت تستخدم `@babel/preset-env`.

## المرجع

### الخيارات

الخيارات التالية متاحة لتكوين `turbo`:

| الخيار              | الوصف                                                                 |
| ------------------- | --------------------------------------------------------------------- |
| `root`              | يحدد دليل الجذر للتطبيق. يجب أن يكون مسارًا مطلقًا.                   |
| `rules`             | قائمة بمحمّلات webpack المدعومة لتطبيقها عند التشغيل مع Turbopack.    |
| `resolveAlias`      | تعيين استيرادات بأسماء مستعارة لوحدات نمطية لتحميلها بدلاً منها.      |
| `resolveExtensions` | قائمة بالامتدادات لحلها عند استيراد الملفات.                          |

### المحمّلات المدعومة

المحمّلات التالية تم اختبارها للعمل مع تنفيذ محمّل webpack في Turbopack:

- [`babel-loader`](https://www.npmjs.com/package/babel-loader)
- [`@svgr/webpack`](https://www.npmjs.com/package/@svgr/webpack)
- [`svg-inline-loader`](https://www.npmjs.com/package/svg-inline-loader)
- [`yaml-loader`](https://www.npmjs.com/package/yaml-loader)
- [`string-replace-loader`](https://www.npmjs.com/package/string-replace-loader)
- [`raw-loader`](https://www.npmjs.com/package/raw-loader)
- [`sass-loader`](https://www.npmjs.com/package/sass-loader)

## أمثلة

### دليل الجذر

يستخدم Turbopack دليل الجذر لحل الوحدات النمطية. الملفات خارج جذر المشروع لا يتم حلها.

Next.js يكتشف تلقائيًا دليل الجذر لمشروعك. يفعل ذلك بالبحث عن أحد هذه الملفات:

- `pnpm-lock.yaml`
- `package-lock.json`
- `yarn.lock`
- `bun.lock`
- `bun.lockb`

إذا كان لديك هيكل مشروع مختلف، على سبيل المثال إذا كنت لا تستخدم مساحات العمل (workspaces)، يمكنك تعيين خيار `root` يدويًا:

```js filename="next.config.js"
const path = require('path')
module.exports = {
  turbopack: {
    root: path.join(__dirname, '..'),
  },
}
```

### تكوين محمّلات webpack

إذا كنت بحاجة إلى دعم محمّل يتجاوز ما هو مدمج، العديد من محمّلات webpack تعمل بالفعل مع Turbopack. هناك حاليًا بعض القيود:

- فقط مجموعة أساسية من واجهة برمجة تطبيقات محمّل webpack تم تنفيذها. حالياً، هناك تغطية كافية لبعض المحمّلات الشائعة، وسنوسع دعم واجهة برمجة التطبيقات في المستقبل.
- فقط المحمّلات التي تُرجع كود JavaScript مدعومة. المحمّلات التي تحول ملفات مثل صفحات الأنماط أو الصور غير مدعومة حاليًا.
- الخيارات الممررة إلى محمّلات webpack يجب أن تكون قيم JavaScript بدائية، كائنات، أو مصفوفات. على سبيل المثال، لا يمكن تمرير وحدات `require()` كقيم خيارات.

لتكوين المحمّلات، أضف أسماء المحمّلات التي قمت بتثبيتها وأي خيارات في `next.config.js`، مع تعيين امتدادات الملفات إلى قائمة المحمّلات.

فيما يلي مثال باستخدام محمّل [`@svgr/webpack`](https://www.npmjs.com/package/@svgr/webpack)، والذي يمكّن استيراد ملفات `.svg` وعرضها كمكونات React.

```js filename="next.config.js"
module.exports = {
  turbopack: {
    rules: {
      '*.svg': {
        loaders: ['@svgr/webpack'],
        as: '*.js',
      },
    },
  },
}
```

> **معلومة مفيدة**: قبل إصدار Next.js 13.4.4، كان `turbo.rules` يُسمى `turbo.loaders` وكان يقبل فقط امتدادات الملفات مثل `.mdx` بدلاً من `*.mdx`.

### حل الأسماء المستعارة

يمكن تكوين Turbopack لتعديل حل الوحدات النمطية عبر الأسماء المستعارة، بشكل مشابه لتكوين [`resolve.alias`](https://webpack.js.org/configuration/resolve/#resolvealias) في webpack.

لتكوين حل الأسماء المستعارة، قم بتعيين الأنماط المستوردة إلى وجهتها الجديدة في `next.config.js`:

```js filename="next.config.js"
module.exports = {
  turbopack: {
    resolveAlias: {
      underscore: 'lodash',
      mocha: { browser: 'mocha/browser-entry.js' },
    },
  },
}
```

هذا يعيّن استيرادات حزمة `underscore` إلى حزمة `lodash`. بمعنى آخر، `import underscore from 'underscore'` ستحمّل وحدة `lodash` بدلاً من `underscore`.

يدعم Turbopack أيضًا التعيين الشرطي للأسماء المستعارة عبر هذا الحقل، بشكل مشابه لـ [التصديرات الشرطية](https://nodejs.org/docs/latest-v18.x/api/packages.html#conditional-exports) في Node.js. حالياً، فقط شرط `browser` مدعوم. في المثال أعلاه، استيرادات وحدة `mocha` سيتم تعيينها إلى `mocha/browser-entry.js` عندما يستهدف Turbopack بيئات المتصفح.

### حل الامتدادات المخصصة

يمكن تكوين Turbopack لحل الوحدات النمطية بامتدادات مخصصة، بشكل مشابه لتكوين [`resolve.extensions`](https://webpack.js.org/configuration/resolve/#resolveextensions) في webpack.

لتكوين حل الامتدادات، استخدم حقل `resolveExtensions` في `next.config.js`:

```js filename="next.config.js"
module.exports = {
  turbopack: {
    resolveExtensions: ['.mdx', '.tsx', '.ts', '.jsx', '.js', '.mjs', '.json'],
  },
}
```

هذا يستبدل امتدادات الحل الأصلية بالقائمة المقدمة. تأكد من تضمين الامتدادات الافتراضية.

لمزيد من المعلومات والإرشادات حول كيفية ترحيل تطبيقك إلى Turbopack من webpack، راجع [وثائق Turbopack حول التوافق مع webpack](https://turbo.build/pack/docs/migrating-from-webpack).

## سجل الإصدارات

| الإصدار  | التغييرات                                         |
| -------- | ------------------------------------------------ |
| `15.3.0` | تم تغيير `experimental.turbo` إلى `turbopack`.   |
| `13.0.0` | تم تقديم `experimental.turbo`.                   |