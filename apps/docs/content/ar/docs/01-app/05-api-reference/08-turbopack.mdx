---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-06-02T19:58:54.307Z
title: Turbopack
description: Turbopack هو حزمة تجميع تدريجية مخصصة لجافا سكريبت وتايب سكريبت، مكتوبة بلغة Rust ومدمجة في Next.js.
---

{/* محتوى هذا المستند مشترك بين موجه التطبيق وموجه الصفحات. يمكنك استخدام مكون `<PagesOnly>المحتوى</PagesOnly>` لإضافة محتوى خاص بموجه الصفحات. أي محتوى مشترك لا يجب أن يكون مغلفًا بمكون. */}

Turbopack هو **حزمة تجميع تدريجية** مخصصة لجافا سكريبت وتايب سكريبت، مكتوبة بلغة Rust ومدمجة في **Next.js**. يمكنك استخدام Turbopack مع كل من موجه الصفحات وموجه التطبيق لتجربة تطوير محلية **أسرع بكثير**.

## لماذا Turbopack؟

قمنا ببناء Turbopack لدفع أداء Next.js، بما في ذلك:

- **الرسم البياني الموحد:** يدعم Next.js بيئات إخراج متعددة (مثل العميل والخادم). إدارة عدة مجمعات وربط الحزم معًا يمكن أن يكون مرهقًا. يستخدم Turbopack **رسمًا بيانيًا واحدًا موحدًا** لجميع البيئات.
- **التجميع مقابل ESM الأصلي:** تتخطى بعض الأدوات التجميع في التطوير وتعتمد على ESM الأصلي للمتصفح. هذا يعمل جيدًا للتطبيقات الصغيرة ولكن يمكن أن يبطئ التطبيقات الكبيرة بسبب طلبات الشبكة المفرطة. يقوم Turbopack **بتجميع** في التطوير، ولكن بطريقة محسنة للحفاظ على سرعة التطبيقات الكبيرة.
- **الحساب التدريجي:** يقوم Turbopack بتوزيع العمل عبر النوى **ويخزن** النتائج حتى مستوى الوظيفة. بمجرد الانتهاء من جزء من العمل، لن يكرره Turbopack.
- **التجميع الكسول:** يقوم Turbopack فقط بتجميع ما يتم طلبه فعليًا بواسطة خادم التطوير. هذا النهج الكسول يمكن أن يقلل أوقات التجميع الأولية واستخدام الذاكرة.

## البدء

لتمكين Turbopack في مشروع Next.js الخاص بك، أضف علامة `--turbopack` إلى نصوص `dev` و `build` في ملف `package.json` الخاص بك:

```json filename="package.json" highlight={3}
{
  "scripts": {
    "dev": "next dev --turbopack",
    "build": "next build --turbopack",
    "start": "next start"
  }
}
```

حاليًا، Turbopack لـ `dev` مستقر، بينما `build` في مرحلة ألفا. نحن نعمل بنشاط على دعم الإنتاج مع اقتراب Turbopack من الاستقرار.

## الميزات المدعومة

يحتوي Turbopack في Next.js على **تهيئة صفرية** لحالات الاستخدام الشائعة. فيما يلي ملخص لما يتم دعمه مباشرة، بالإضافة إلى بعض المراجع لكيفية تكوين Turbopack بشكل أكبر عند الحاجة.

### ميزات اللغة

| الميزة                     | الحالة                | ملاحظات                                                                                                                                                                                                   |
| --------------------------- | --------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **جافا سكريبت وتايب سكريبت** | **مدعوم**         | يستخدم SWC في الخلفية. فحص الأنواع لا يتم بواسطة Turbopack (قم بتشغيل `tsc --watch` أو اعتمد على IDE الخاص بك لفحص الأنواع).                                                                                |
| **ECMAScript (ESNext)**     | **مدعوم**         | يدعم Turbopack أحدث ميزات ECMAScript، بما يتطابق مع تغطية SWC.                                                                                                                             |
| **CommonJS**                | **مدعوم**         | بناء الجملة `require()` يتم التعامل معه مباشرة.                                                                                                                                                           |
| **ESM**                     | **مدعوم**         | `import` الثابت والديناميكي مدعومان بالكامل.                                                                                                                                                        |
| **Babel**                   | مدعوم جزئيًا | لا يتضمن Turbopack Babel افتراضيًا. ومع ذلك، يمكنك [تكوين `babel-loader` عبر تكوين Turbopack](/docs/app/api-reference/config/next-config-js/turbopack#configuring-webpack-loaders). |

### ميزات الإطار وReact

| الميزة                           | الحالة        | ملاحظات                                                                                                                  |
| --------------------------------- | ------------- | ---------------------------------------------------------------------------------------------------------------------- |
| **JSX / TSX**                     | **مدعوم** | يتعامل SWC مع تجميع JSX/TSX.                                                                                       |
| **تحديث سريع**                  | **مدعوم** | لا حاجة للتكوين.                                                                                               |
| **مكونات خادم React (RSC)** | **مدعوم** | لموجه تطبيق Next.js. يضمن Turbopack التجميع الصحيح للخادم/العميل.                                          |
| **إنشاء تخطيط جذر**          | غير مدعوم   | إنشاء تخطيط جذر تلقائي في موجه التطبيق غير مدعوم. سيوجهك Turbopack لإنشائه يدويًا. |

### CSS والتنسيق

| الميزة            | الحالة                  | ملاحظات                                                                                                                                                                                                           |
| ------------------ | ----------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **CSS العام**     | **مدعوم**           | استيراد ملفات `.css` مباشرة في تطبيقك.                                                                                                                                                               |
| **وحدات CSS**    | **مدعوم**           | ملفات `.module.css` تعمل بشكل أصلي (Lightning CSS).                                                                                                                                                              |
| **تداخل CSS**    | **مدعوم**           | يدعم Lightning CSS [تداخل CSS الحديث](https://lightningcss.dev/).                                                                                                                                         |
| **بناء جملة @import** | **مدعوم**           | دمج عدة ملفات CSS.                                                                                                                                                                                     |
| **PostCSS**        | **مدعوم**           | يعالج تلقائيًا `postcss.config.js` في مجموعة عمال Node.js. مفيد لـ Tailwind، Autoprefixer، إلخ.                                                                                                   |
| **Sass / SCSS**    | **مدعوم** (Next.js) | لـ Next.js، Sass مدعوم مباشرة. في المستقبل، من المحتمل أن يتطلب استخدام Turbopack المستقل تكوين محمل.                                                                                   |
| **Less**           | مخطط عبر الإضافات     | غير مدعوم افتراضيًا بعد. من المحتمل أن يتطلب تكوين محمل بمجرد استقرار المحملات المخصصة.                                                                                                               |
| **Lightning CSS**  | **مستخدم**              | يتعامل مع تحويلات CSS. بعض ميزات وحدات CSS قليلة الاستخدام (مثل `:local/:global` كفئات زائفة مستقلة) غير مدعومة بعد. [انظر أدناه لمزيد من التفاصيل.](#unsupported-and-unplanned-features) |

### الأصول

| الميزة                           | الحالة        | ملاحظات                                                                                                                      |
| --------------------------------- | ------------- | -------------------------------------------------------------------------------------------------------------------------- |
| **الأصول الثابتة** (الصور، الخطوط) | **مدعوم** | استيراد `import img from './img.png'` يعمل مباشرة. في Next.js، يُرجع كائنًا لمكون `<Image />`. |
| **استيراد JSON**                  | **مدعوم** | استيراد مسماة أو افتراضي من `.json` مدعوم.                                                                       |

### دقة الوحدة

| الميزة               | الحالة              | ملاحظات                                                                                                                                                           |
| --------------------- | ------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **أسماء المسارات**      | **مدعوم**       | يقرأ `paths` و `baseUrl` من `tsconfig.json`، بما يتطابق مع سلوك Next.js.                                                                                       |
| **أسماء المسارات اليدوية**    | **مدعوم**       | [قم بتكوين `resolveAlias` في `next.config.js`](/docs/app/api-reference/config/next-config-js/turbopack#resolving-aliases) (مشابه لـ `webpack.resolve.alias`). |
| **الامتدادات المخصصة** | **مدعوم**       | [قم بتكوين `resolveExtensions` في `next.config.js`](/docs/app/api-reference/config/next-config-js/turbopack#resolving-custom-extensions).                       |
| **AMD**               | مدعوم جزئيًا | التحويلات الأساسية تعمل؛ الاستخدام المتقدم لـ AMD محدود.                                                                                                           |

### الأداء والتحديث السريع

| الميزة                  | الحالة        | ملاحظات                                                                                    |
| ------------------------ | ------------- | ---------------------------------------------------------------------------------------- |
| **تحديث سريع**         | **مدعوم** | تحديث جافا سكريبت، تايب سكريبت، وCSS بدون تحديث كامل.                          |
| **تجميع تدريجي** | **مدعوم** | يقوم Turbopack ببناء ما يتم طلبه فقط بواسطة خادم التطوير بشكل كسول، مما يسرع التطبيقات الكبيرة. |

## الميزات غير المدعومة وغير المخطط لها

بعض الميزات غير مطبقة بعد أو غير مخطط لها:

- **ميزات وحدات CSS القديمة**
  - فئات `:local` و `:global` الزائفة المستقلة (فقط متغير الوظيفة `:global(...)` مدعوم).
  - قاعدة `@value` (تم استبدالها بمتغيرات CSS).
  - قواعد `:import` و `:export` ICSS.
- **تكوين `webpack()`** في `next.config.js`
  يستبدل Turbopack webpack، لذا تكوينات `webpack()` غير معترف بها. استخدم [تكوين `turbopack`](/docs/app/api-reference/config/next-config-js/turbopack) بدلاً من ذلك.
- **AMP**
  غير مخطط لدعم Turbopack في Next.js.
- **Yarn PnP**
  غير مخطط لدعم Turbopack في Next.js.
- **`experimental.urlImports`**
  غير مخطط لـ Turbopack.
- **`experimental.esmExternals`**
  غير مخطط. لا يدعم Turbopack تكوين `esmExternals` القديم في Next.js.
- **بعض علامات Next.js التجريبية**
  - `experimental.typedRoutes`
  - `experimental.nextScriptWorkers`
  - `experimental.sri.algorithm`
  - `experimental.fallbackNodePolyfills`
    نخطط لتنفيذها في المستقبل.

للحصول على تفصيل كامل لكل علامة ميزة وحالتها، راجع [مرجع Turbopack API](/docs/app/api-reference/config/next-config-js/turbopack).

## التكوين

يمكن تكوين Turbopack عبر `next.config.js` (أو `next.config.ts`) تحت مفتاح `turbopack`. خيارات التكوين تشمل:

- **`rules`**
  حدد [محملات webpack إضافية](/docs/app/api-reference/config/next-config-js/turbopack#configuring-webpack-loaders) لتحويلات الملفات.
- **`resolveAlias`**
  إنشاء أسماء مسارات يدوية (مثل `resolve.alias` في webpack).
- **`resolveExtensions`**
  تغيير أو توسيع امتدادات الملفات لدقة الوحدة.
- **`moduleIds`**
  تعيين كيفية إنشاء معرفات الوحدة (`'named'` مقابل `'deterministic'`).
- **`treeShaking`**
  تمكين أو تعطيل هز الشجرة في التطوير وبناءات الإنتاج المستقبلية.
- **`memoryLimit`**
  تعيين حد للذاكرة (بالبايت) لـ Turbopack.

```js filename="next.config.js"
module.exports = {
  turbopack: {
    // مثال: إضافة اسم مسار وامتداد ملف مخصص
    resolveAlias: {
      underscore: 'lodash',
    },
    resolveExtensions: ['.mdx', '.tsx', '.ts', '.jsx', '.js', '.json'],
  },
}
```

لمزيد من أمثلة التكوين المتعمقة، راجع [توثيق تكوين Turbopack](/docs/app/api-reference/config/next-config-js/turbopack).

## إنشاء ملفات التتبع لتصحيح الأداء

إذا واجهت مشاكل في الأداء أو الذاكرة وتريد مساعدة فريق Next.js في تشخيصها، يمكنك إنشاء ملف تتبع عن طريق إلحاق `NEXT_TURBOPACK_TRACING=1` بأمر التطوير الخاص بك:

```bash
NEXT_TURBOPACK_TRACING=1 next dev --turbopack
```

سيؤدي هذا إلى إنشاء ملف `.next/trace-turbopack`. قم بتضمين هذا الملف عند إنشاء مشكلة على GitHub في [مستودع Next.js](https://github.com/vercel/next.js) لمساعدتنا في التحقيق.

## ملخص

Turbopack هو **حزمة تجميع تدريجية مبنية بلغة Rust** مصممة لجعل التطوير المحلي والبناء سريعًا - خاصة للتطبيقات الكبيرة. وهو مدمج في Next.js، ويقدم دعمًا بدون تكوين لـ CSS وReact وتايب سكريبت.

ترقبوا المزيد من التحديثات بينما نواصل تحسين Turbopack وإضافة دعم بناء الإنتاج. في الوقت الحالي، جربه باستخدام `next dev --turbopack` وأخبرنا بملاحظاتك.

## تغييرات الإصدار

| الإصدار   | التغييرات                          |
| --------- | -------------------------------- |
| `v15.3.0` | دعم تجريبي لـ `build` |
| `v15.0.0` | Turbopack لـ `dev` مستقر       |