---
source-updated-at: 2025-05-19T22:31:51.000Z
translation-updated-at: 2025-06-02T19:59:56.726Z
title: كيفية استخدام وتحسين مقاطع الفيديو
nav_title: مقاطع الفيديو
description: توصيات وأفضل الممارسات لتحسين مقاطع الفيديو في تطبيق Next.js الخاص بك.
---

تشرح هذه الصفحة كيفية استخدام مقاطع الفيديو مع تطبيقات Next.js، موضحة كيفية تخزين وعرض ملفات الفيديو دون التأثير على الأداء.

## استخدام `<video>` و `<iframe>`

يمكن تضمين مقاطع الفيديو في الصفحة باستخدام وسم HTML **`<video>`** لمقاطع الفيديو المباشرة و **`<iframe>`** لمقاطع الفيديو المستضافة على منصات خارجية.

### `<video>`

يمكن لوسم [`<video>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video) في HTML تضمين محتوى الفيديو المستضاف ذاتيًا أو المقدم مباشرة، مما يسمح بالتحكم الكامل في التشغيل والمظهر.

```jsx filename="app/ui/video.jsx"
export function Video() {
  return (
    <video width="320" height="240" controls preload="none">
      <source src="/path/to/video.mp4" type="video/mp4" />
      <track
        src="/path/to/captions.vtt"
        kind="subtitles"
        srcLang="en"
        label="English"
      />
      Your browser does not support the video tag.
    </video>
  )
}
```

### سمات شائعة لوسم `<video>`

| السمة          | الوصف                                                                                               | مثال على القيمة                        |
| -------------- | --------------------------------------------------------------------------------------------------- | -------------------------------------- |
| `src`          | يحدد مصدر ملف الفيديو.                                                                             | `<video src="/path/to/video.mp4" />`   |
| `width`        | يحدد عرض مشغل الفيديو.                                                                             | `<video width="320" />`                |
| `height`       | يحدد ارتفاع مشغل الفيديو.                                                                          | `<video height="240" />`               |
| `controls`     | إذا كان موجودًا، يعرض مجموعة التحكم الافتراضية للتشغيل.                                             | `<video controls />`                   |
| `autoPlay`     | يبدأ تشغيل الفيديو تلقائيًا عند تحميل الصفحة. ملاحظة: تختلف سياسات التشغيل التلقائي بين المتصفحات. | `<video autoPlay />`                   |
| `loop`         | يعيد تشغيل الفيديو تلقائيًا.                                                                       | `<video loop />`                       |
| `muted`        | يكتم الصوت افتراضيًا. غالبًا ما يستخدم مع `autoPlay`.                                               | `<video muted />`                      |
| `preload`      | يحدد كيفية تحميل الفيديو مسبقًا. القيم: `none`, `metadata`, `auto`.                                | `<video preload="none" />`             |
| `playsInline`  | يمكّن التشغيل المضمن على أجهزة iOS، وغالبًا ما يكون ضروريًا لعمل التشغيل التلقائي على iOS Safari.   | `<video playsInline />`                |

> **معلومة مفيدة**: عند استخدام سمة `autoPlay`، من المهم أيضًا تضمين سمة `muted` لضمان تشغيل الفيديو تلقائيًا في معظم المتصفحات وسمة `playsInline` للتكامل مع أجهزة iOS.

للحصول على قائمة كاملة بسمات الفيديو، راجع [توثيق MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video#attributes).

### أفضل الممارسات للفيديو

- **المحتوى الاحتياطي:** عند استخدام وسم `<video>`، قم بتضمين محتوى احتياطي داخل الوسم للمتصفحات التي لا تدعم تشغيل الفيديو.
- **الترجمات أو التسميات التوضيحية:** قم بتضمين ترجمات أو تسميات توضيحية للمستخدمين الصم أو ضعاف السمع. استخدم وسم [`<track>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/track) مع عناصر `<video>` لتحديد مصادر ملفات التسميات التوضيحية.
- **عناصر تحكم سهلة الوصول:** يُوصى باستخدام عناصر تحكم HTML5 القياسية للتنقل باستخدام لوحة المفاتيح والتكامل مع قارئات الشاشة. للاحتياجات المتقدمة، فكر في استخدام مشغلات طرف ثالث مثل [react-player](https://github.com/cookpete/react-player) أو [video.js](https://videojs.com/)، والتي توفر عناصر تحكم سهلة الوصول وتجربة متسقة عبر المتصفحات.

### `<iframe>`

يسمح وسم HTML `<iframe>` بتضمين مقاطع الفيديو من المنصات الخارجية مثل YouTube أو Vimeo.

```jsx filename="app/page.jsx"
export default function Page() {
  return (
    <iframe src="https://www.youtube.com/embed/19g66ezsKAg" allowFullScreen />
  )
}
```

### سمات شائعة لوسم `<iframe>`

| السمة              | الوصف                                                                 | مثال على القيمة                          |
| ------------------ | --------------------------------------------------------------------- | ---------------------------------------- |
| `src`              | عنوان URL للصفحة المضمنة.                                             | `<iframe src="https://example.com" />`   |
| `width`            | يحدد عرض الـ iframe.                                                  | `<iframe width="500" />`                 |
| `height`           | يحدد ارتفاع الـ iframe.                                               | `<iframe height="300" />`                |
| `allowFullScreen`  | يسمح بعرض محتوى الـ iframe في وضع ملء الشاشة.                         | `<iframe allowFullScreen />`             |
| `sandbox`          | يمكّن مجموعة إضافية من القيود على المحتوى داخل الـ iframe.            | `<iframe sandbox />`                     |
| `loading`          | يحسن سلوك التحميل (مثل التحميل المتأخر).                              | `<iframe loading="lazy" />`              |
| `title`            | يوفر عنوانًا للـ iframe لدعم إمكانية الوصول.                           | `<iframe title="Description" />`         |

للحصول على قائمة كاملة بسمات iframe، راجع [توثيق MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#attributes).

### اختيار طريقة تضمين الفيديو

هناك طريقتان يمكنك من خلالهما تضمين مقاطع الفيديو في تطبيق Next.js الخاص بك:

- **الفيديو المستضاف ذاتيًا أو ملفات الفيديو المباشرة:** قم بتضمين مقاطع الفيديو المستضافة ذاتيًا باستخدام وسم `<video>` للحالات التي تتطلب تحكمًا تفصيليًا في وظائف ومظهر المشغل. تتيح طريقة التكامل هذه في Next.js تخصيصًا وتحكمًا في محتوى الفيديو الخاص بك.
- **استخدام خدمات استضافة الفيديو (YouTube، Vimeo، إلخ):** لخدمات استضافة الفيديو مثل YouTube أو Vimeo، ستقوم بتضمين مشغلاتهم القائمة على iframe باستخدام وسم `<iframe>`. بينما تحد هذه الطريقة من بعض التحكم في المشغل، فإنها توفر سهولة في الاستخدام والميزات التي توفرها هذه المنصات.

اختر طريقة التضمين التي تتماشى مع متطلبات تطبيقك وتجربة المستخدم التي تهدف إلى تقديمها.

### تضمين مقاطع الفيديو المستضافة خارجيًا

لتضمين مقاطع الفيديو من المنصات الخارجية، يمكنك استخدام Next.js لجلب معلومات الفيديو و React Suspense للتعامل مع حالة الاحتياط أثناء التحميل.

**1. إنشاء مكون خادم لتضمين الفيديو**

الخطوة الأولى هي إنشاء [مكون خادم](https://nextjs.org/docs/app/getting-started/server-and-client-components) يقوم بإنشاء iframe مناسب لتضمين الفيديو. سيقوم هذا المكون بجلب عنوان URL المصدر للفيديو وعرض الـ iframe.

```jsx filename="app/ui/video-component.jsx"
export default async function VideoComponent() {
  const src = await getVideoSrc()

  return <iframe src={src} allowFullScreen />
}
```

**2. بث مكون الفيديو باستخدام React Suspense**

بعد إنشاء مكون الخادم لتضمين الفيديو، تكون الخطوة التالية هي [بث](https://nextjs.org/docs/app/building-your-application/routing/loading-ui-and-streaming) المكون باستخدام [React Suspense](https://react.dev/reference/react/Suspense).

```jsx filename="app/page.jsx"
import { Suspense } from 'react'
import VideoComponent from '../ui/VideoComponent.jsx'

export default function Page() {
  return (
    <section>
      <Suspense fallback={<p>Loading video...</p>}>
        <VideoComponent />
      </Suspense>
      {/* محتوى آخر للصفحة */}
    </section>
  )
}
```

> **معلومة مفيدة**: عند تضمين مقاطع الفيديو من المنصات الخارجية، ضع في الاعتبار أفضل الممارسات التالية:
>
> - تأكد من أن تضمينات الفيديو متجاوبة. استخدم CSS لجعل الـ iframe أو مشغل الفيديو يتكيف مع أحجام الشاشات المختلفة.
> - نفذ [استراتيجيات لتحميل مقاطع الفيديو](https://yoast.com/site-speed-tips-for-faster-video/) بناءً على ظروف الشبكة، خاصة للمستخدمين الذين لديهم خطط بيانات محدودة.

يؤدي هذا النهج إلى تجربة مستخدم أفضل حيث يمنع الصفحة من التوقف، مما يعني أن المستخدم يمكنه التفاعل مع الصفحة أثناء بث مكون الفيديو.

لتحسين تجربة التحميل وجعلها أكثر تفاعلاً وإفادة، فكر في استخدام هيكل تحميل كواجهة احتياطية. بدلاً من عرض رسالة تحميل بسيطة، يمكنك عرض هيكل يشبه مشغل الفيديو مثل هذا:

```jsx filename="app/page.jsx"
import { Suspense } from 'react'
import VideoComponent from '../ui/VideoComponent.jsx'
import VideoSkeleton from '../ui/VideoSkeleton.jsx'

export default function Page() {
  return (
    <section>
      <Suspense fallback={<VideoSkeleton />}>
        <VideoComponent />
      </Suspense>
      {/* محتوى آخر للصفحة */}
    </section>
  )
}
```

## مقاطع الفيديو المستضافة ذاتيًا

قد يكون استضافة مقاطع الفيديو ذاتيًا مفضلاً لعدة أسباب:

- **التحكم الكامل والاستقلالية**: يمنحك الاستضافة الذاتية إدارة مباشرة لمحتوى الفيديو الخاص بك، من التشغيل إلى المظهر، مما يضمن الملكية الكاملة والتحكم، بعيدًا عن قيود المنصات الخارجية.
- **التخصيص للاحتياجات المحددة**: مثالي للاحتياجات الفريدة، مثل مقاطع الفيديو الخلفية الديناميكية، حيث يسمح بالتخصيص الدقيق ليتوافق مع احتياجات التصميم والوظائف.
- **اعتبارات الأداء والقابلية للتوسع**: اختر حلول التخزين عالية الأداء والقابلة للتوسع لدعم الزيادة في حركة المرور وحجم المحتوى بشكل فعال.
- **التكلفة والتكامل**: وازن بين تكاليف التخزين وعرض النطاق الترددي مع الحاجة إلى التكامل السهل في إطار Next.js والنظام البيئي التقني الأوسع.

### استخدام Vercel Blob لاستضافة الفيديو

يوفر [Vercel Blob](https://vercel.com/docs/storage/vercel-blob?utm_source=next-site&utm_medium=docs&utm_campaign=next-website) طريقة فعالة لاستضافة مقاطع الفيديو، حيث يوفر حل تخزين سحابي قابل للتوسع يعمل بشكل جيد مع Next.js. إليك كيف يمكنك استضافة فيديو باستخدام Vercel Blob:

**1. تحميل فيديو إلى Vercel Blob**

في لوحة تحكم Vercel، انتقل إلى علامة التبويب "التخزين" وحدد متجر [Vercel Blob](https://vercel.com/docs/storage/vercel-blob?utm_source=next-site&utm_medium=docs&utm_campaign=next-website) الخاص بك. في الزاوية العلوية اليمنى من جدول Blob، ابحث وانقر على زر "تحميل". ثم اختر ملف الفيديو الذي ترغب في تحميله. بعد اكتمال التحميل، سيظهر ملف الفيديو في جدول Blob.

بدلاً من ذلك، يمكنك تحميل الفيديو الخاص بك باستخدام إجراء خادم. للحصول على تعليمات مفصلة، راجع توثيق Vercel حول [التحميل من جانب الخادم](https://vercel.com/docs/storage/vercel-blob/server-upload). يدعم Vercel أيضًا [التحميل من جانب العميل](https://vercel.com/docs/storage/vercel-blob/client-upload). قد تكون هذه الطريقة مفضلة لبعض حالات الاستخدام.

**2. عرض الفيديو في Next.js**

بمجرد تحميل الفيديو وتخزينه، يمكنك عرضه في تطبيق Next.js الخاص بك. إليك مثال لكيفية القيام بذلك باستخدام وسم `<video>` و React Suspense:

```jsx filename="app/page.jsx"
import { Suspense } from 'react'
import { list } from '@vercel/blob'

export default function Page() {
  return (
    <Suspense fallback={<p>Loading video...</p>}>
      <VideoComponent fileName="my-video.mp4" />
    </Suspense>
  )
}

async function VideoComponent({ fileName }) {
  const { blobs } = await list({
    prefix: fileName,
    limit: 1,
  })
  const { url } = blobs[0]

  return (
    <video controls preload="none" aria-label="Video player">
      <source src={url} type="video/mp4" />
      Your browser does not support the video tag.
    </video>
  )
}
```

في هذا النهج، تستخدم الصفحة عنوان URL `@vercel/blob` للفيديو لعرض الفيديو باستخدام `VideoComponent`. يتم استخدام React Suspense لعرض واجهة احتياطية حتى يتم جلب عنوان URL للفيديو ويكون الفيديو جاهزًا للعرض.

### إضافة ترجمات إلى الفيديو الخاص بك

إذا كان لديك ترجمات للفيديو الخاص بك، فيمكنك إضافتها بسهولة باستخدام عنصر `<track>` داخل وسم `<video>` الخاص بك. يمكنك جلب ملف الترجمة من [Vercel Blob](https://vercel.com/docs/storage/vercel-blob?utm_source=next-site&utm_medium=docs&utm_campaign=next-website) بنفس طريقة جلب ملف الفيديو. إليك كيف يمكنك تحديث `<VideoComponent>` لتضمين الترجمات.

```jsx filename="app/page.jsx"
async function VideoComponent({ fileName }) {
  const { blobs } = await list({
    prefix: fileName,
    limit: 2,
  })
  const { url } = blobs[0]
  const { url: captionsUrl } = blobs[1]

  return (
    <video controls preload="none" aria-label="Video player">
      <source src={url} type="video/mp4" />
      <track src={captionsUrl} kind="subtitles" srcLang="en" label="English" />
      Your browser does not support the video tag.
    </video>
  )
}
```

باتباع هذا النهج، يمكنك استضافة وتكامل مقاطع الفيديو في تطبيقات Next.js الخاصة بك بشكل فعال.

## موارد

لمواصلة التعرف على تحسين الفيديو وأفضل الممارسات، راجع الموارد التالية:

- **فهم تنسيقات الفيديو وبرامج الترميز**: اختر التنسيق وبرنامج الترميز المناسب، مثل MP4 للتكامل أو WebM لتحسين الويب، لاحتياجات الفيديو الخاصة بك. لمزيد من التفاصيل، راجع [دليل Mozilla حول برامج ترميز الفيديو](https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Video_codecs).
- **ضغط الفيديو**: استخدم أدوات مثل FFmpeg لضغط مقاطع الفيديو بفعالية، مع تحقيق توازن بين الجودة وحجم الملف. تعرف على تقنيات الضغط في [الموقع الرسمي لـ FFmpeg](https://www.ffmpeg.org/).
- **ضبط الدقة ومعدل البت**: اضبط [الدقة ومعدل البت](https://www.dacast.com/blog/bitrate-vs-resolution/#:~:text=The%20two%20measure%20different%20aspects,yield%20different%20qualities%20of%20video) بناءً على منصة المشاهدة، مع إعدادات أقل لأجهزة الجوال.
- **شبكات توصيل المحتوى (CDNs)**: استخدم CDN لتحسين سرعة توصيل الفيديو وإدارة حركة المرور العالية. عند استخدام بعض حلول التخزين، مثل Vercel Blob، يتم التعامل مع وظيفة CDN تلقائيًا لك. [تعلم المزيد](https://vercel.com/docs/edge-network/overview?utm_source=next-site&utm_medium=docs&utm_campaign=next-website) عن CDNs وفوائدها.

استكشف منصات بث الفيديو هذه لدمج الفيديو في مشاريع Next.js الخاصة بك:

### مكون `next-video` مفتوح المصدر

- يوفر مكون `<Video>` لـ Next.js، متوافق مع خدمات الاستضافة المختلفة بما في ذلك [Vercel Blob](https://vercel.com/docs/storage/vercel-blob?utm_source=next-site&utm_medium=docs&utm_campaign=next-website)، و S3، و Backblaze، و Mux.
- [توثيق مفصل](https://next-video.dev/docs) لاستخدام `next-video.dev` مع خدمات الاستضافة المختلفة.

### تكامل Cloudinary

- [التوثيق ودليل التكامل الرسمي](https://next.cloudinary.dev/) لاستخدام Cloudinary مع Next.js.
- يتضمن مكون `<CldVideoPlayer>` لدعم [الفيديو الجاهز](https://next.cloudinary.dev/cldvideoplayer/basic-usage).
- ابحث عن [أمثلة](https://github.com/cloudinary-community/cloudinary-examples/?tab=readme-ov-file#nextjs) لتكامل Cloudinary مع Next.js بما في ذلك [بث معدل البت التكيفي](https://github.com/cloudinary-community/cloudinary-examples/tree/main/examples/nextjs-cldvideoplayer-abr).
- تتوفر أيضًا [مكتبات Cloudinary الأخرى](https://cloudinary.com/documentation) بما في ذلك Node.js SDK.

### واجهة برمجة تطبيقات Mux Video

- يوفر Mux [قالب بدء](https://github.com/muxinc/video-course-starter-kit) لإنشاء دورة فيديو باستخدام Mux و Next.js.
- تعرف على توصيات Mux لتضمين [فيديو عالي الأداء لتطبيق Next.js الخاص بك](https://www.mux.com/for/nextjs).
- استكشف [مشروعًا مثالياً](https://with-mux-video.vercel.app/) يوضح استخدام Mux مع Next.js.

### Fastly

- تعرف على المزيد حول تكامل حلول Fastly لـ [الفيديو حسب الطلب](https://www.fastly.com/products/streaming-media/video-on-demand) وبث الوسائط في Next.js.

### تكامل ImageKit.io

- اطلع على [دليل البداية السريعة الرسمي](https://imagekit.io/docs/integration/nextjs) لدمج ImageKit مع Next.js.
- يوفر التكامل مكون `<IKVideo>` الذي يقدم [دعمًا سلسًا لمقاطع الفيديو](https://imagekit.io/docs/integration/nextjs#rendering-videos).
- يمكنك أيضًا استكشاف [مكتبات ImageKit الأخرى](https://imagekit.io/docs) مثل Node.js SDK المتاح أيضًا.
