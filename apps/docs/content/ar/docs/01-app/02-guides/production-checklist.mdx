---
source-updated-at: 2025-06-01T01:32:20.000Z
translation-updated-at: 2025-06-02T20:00:21.682Z
title: كيفية تحسين تطبيق Next.js للإنتاج
nav_title: الإنتاج
description: توصيات لضمان أفضل أداء وتجربة مستخدم قبل نشر تطبيق Next.js الخاص بك في بيئة الإنتاج.
---

قبل نشر تطبيق Next.js الخاص بك في بيئة الإنتاج، هناك بعض التحسينات والأنماط التي يجب مراعاتها لتحقيق أفضل تجربة مستخدم وأداء وأمان.

توفر هذه الصفحة أفضل الممارسات التي يمكنك استخدامها كمرجع عند [بناء تطبيقك](#أثناء-التطوير) و[قبل الانتقال إلى الإنتاج](#قبل-الانتقال-إلى-الإنتاج)، بالإضافة إلى [تحسينات Next.js التلقائية](#التحسينات-التلقائية) التي يجب أن تكون على دراية بها.

## التحسينات التلقائية

هذه التحسينات في Next.js مفعلة افتراضيًا ولا تتطلب أي تكوين:

<AppOnly>

- **[مكونات الخادم (Server Components)](/docs/app/getting-started/server-and-client-components):** يستخدم Next.js مكونات الخادم افتراضيًا. تعمل مكونات الخادم على الخادم ولا تتطلب جافا سكريبت للعرض على العميل. وبالتالي، ليس لها أي تأثير على حجم حزم جافا سكريبت الخاصة بالعميل. يمكنك بعد ذلك استخدام [مكونات العميل (Client Components)](/docs/app/getting-started/server-and-client-components) حسب الحاجة لإضافة التفاعلية.
- **[تقسيم الكود (Code-splitting)](/docs/app/building-your-application/routing/linking-and-navigating#how-routing-and-navigation-works):** تتيح مكونات الخادم تقسيم الكود تلقائيًا حسب مقاطع المسار. يمكنك أيضًا التفكير في [التحميل البطيء (lazy loading)](/docs/app/guides/lazy-loading) لمكونات العميل ومكتبات الطرف الثالث عند الحاجة.
- **[الجلب المسبق (Prefetching)](/docs/app/building-your-application/routing/linking-and-navigating#2-prefetching):** عندما يدخل رابط لمسار جديد في نطاق رؤية المستخدم، يقوم Next.js بجلب المسار مسبقًا في الخلفية. هذا يجعل التنقل إلى المسارات الجديدة شبه فوري. يمكنك إلغاء تفعيل الجلب المسبق عند الحاجة.
- **[العرض الثابت (Static Rendering)](/docs/app/getting-started/partial-prerendering#static-rendering):** يقوم Next.js بعرض مكونات الخادم والعميل ثابتًا على الخادم أثناء البناء ويخزن النتيجة لتحسين أداء تطبيقك. يمكنك تفعيل [العرض الديناميكي (Dynamic Rendering)](/docs/app/getting-started/partial-prerendering#dynamic-rendering) لمسارات محددة عند الحاجة. {/* TODO: تحديث عند استقرار PPR */}
- **[التخزين المؤقت (Caching)](/docs/app/deep-dive/caching):** يقوم Next.js بتخزين طلبات البيانات ونتائج عرض مكونات الخادم والعميل والأصول الثابتة وغيرها، لتقليل عدد طلبات الشبكة إلى الخادم وقاعدة البيانات وخدمات الخلفية. يمكنك إلغاء التخزين المؤقت عند الحاجة.

</AppOnly>

<PagesOnly>

- **[تقسيم الكود (Code-splitting)](/docs/pages/building-your-application/routing/pages-and-layouts):** يقوم Next.js بتقسيم كود التطبيق تلقائيًا حسب الصفحات. هذا يعني أنه يتم تحميل الكود المطلوب للصفحة الحالية فقط أثناء التنقل. يمكنك أيضًا التفكير في [التحميل البطيء (lazy loading)](/docs/pages/guides/lazy-loading) لمكتبات الطرف الثالث عند الحاجة.
- **[الجلب المسبق (Prefetching)](/docs/pages/api-reference/components/link#prefetch):** عندما يدخل رابط لمسار جديد في نطاق رؤية المستخدم، يقوم Next.js بجلب المسار مسبقًا في الخلفية. هذا يجعل التنقل إلى المسارات الجديدة شبه فوري. يمكنك إلغاء تفعيل الجلب المسبق عند الحاجة.
- **[التحسين الثابت التلقائي (Automatic Static Optimization)](/docs/pages/building-your-application/rendering/automatic-static-optimization):** يحدد Next.js تلقائيًا ما إذا كانت الصفحة ثابتة (يمكن تقديمها مسبقًا) إذا لم تكن لديها متطلبات بيانات حظر. يمكن تخزين الصفحات المحسنة وعرضها للمستخدم النهائي من مواقع CDN متعددة. يمكنك تفعيل [العرض من جانب الخادم (Server-side Rendering)](/docs/pages/building-your-application/data-fetching/get-server-side-props) عند الحاجة.

</PagesOnly>

تهدف هذه الإعدادات الافتراضية إلى تحسين أداء تطبيقك وتقليل تكلفة وكمية البيانات المنقولة في كل طلب شبكة.

## أثناء التطوير

أثناء بناء تطبيقك، نوصي باستخدام الميزات التالية لضمان أفضل أداء وتجربة مستخدم:

### التوجيه والعرض

<AppOnly>

- **[التخطيطات (Layouts)](/docs/app/api-reference/file-conventions/layout):** استخدم التخطيطات لمشاركة واجهة المستخدم عبر الصفحات وتمكين [العرض الجزئي (partial rendering)](/docs/app/building-your-application/routing/linking-and-navigating#4-partial-rendering) أثناء التنقل.
- **[مكون `<Link>`](/docs/app/building-your-application/routing/linking-and-navigating#link-component):** استخدم مكون `<Link>` لـ[التنقل من جانب العميل والجلب المسبق](/docs/app/building-your-application/routing/linking-and-navigating#how-routing-and-navigation-works).
- **[معالجة الأخطاء (Error Handling)](/docs/app/getting-started/error-handling):** تعامل مع [الأخطاء الشاملة (catch-all errors)](/docs/app/getting-started/error-handling) و[أخطاء 404](/docs/app/api-reference/file-conventions/not-found) في الإنتاج بإنشاء صفحات أخطاء مخصصة.
- **[مكونات العميل والخادم (Client and Server Components)](/docs/app/getting-started/server-and-client-components#examples):** اتبع أنماط التركيب الموصى بها لمكونات الخادم والعميل، وتحقق من مواضع [حدود `"use client"`](/docs/app/getting-started/server-and-client-components#examples#moving-client-components-down-the-tree) لتجنب زيادة حجم حزمة جافا سكريبت الخاصة بالعميل دون داع.
- **[واجهات برمجة التطبيقات الديناميكية (Dynamic APIs)](/docs/app/getting-started/partial-prerendering#dynamic-rendering):** كن على دراية بأن واجهات برمجة التطبيقات الديناميكية مثل [`cookies`](/docs/app/api-reference/functions/cookies) وخاصية [`searchParams`](/docs/app/api-reference/file-conventions/page#searchparams-optional) ستفعل [العرض الديناميكي (Dynamic Rendering)](/docs/app/getting-started/partial-prerendering#dynamic-rendering) للمسار بالكامل (أو للتطبيق بأكمله إذا تم استخدامها في [التخطيط الجذري (Root Layout)](/docs/app/api-reference/file-conventions/layout#root-layout)). تأكد من أن استخدام واجهات برمجة التطبيقات الديناميكية مقصود وقم بتغليفها في حدود `<Suspense>` عند الحاجة.

> **معلومة مفيدة**: [العرض الجزئي المسبق (تجريبي) (Partial Prerendering (experimental))](/blog/next-14#partial-prerendering-preview) سيسمح لأجزاء من المسار أن تكون ديناميكية دون تفعيل العرض الديناميكي للمسار بالكامل.

</AppOnly>

<PagesOnly>

- **[مكون `<Link>`](/docs/pages/building-your-application/routing/linking-and-navigating):** استخدم مكون `<Link>` للتنقل من جانب العميل والجلب المسبق.
- **[الأخطاء المخصصة (Custom Errors)](/docs/pages/building-your-application/routing/custom-error):** تعامل مع [أخطاء 500](/docs/pages/building-your-application/routing/custom-error#500-page) و[404](/docs/pages/building-your-application/routing/custom-error#404-page) بلطف.

</PagesOnly>

### جلب البيانات والتخزين المؤقت

<AppOnly>

- **[مكونات الخادم (Server Components)](/docs/app/getting-started/fetching-data):** استفد من مزايا جلب البيانات على الخادم باستخدام مكونات الخادم.
- **[معالجات المسار (Route Handlers)](/docs/app/building-your-application/routing/route-handlers):** استخدم معالجات المسار للوصول إلى موارد الخلفية من مكونات العميل. ولكن لا تستدع معالجات المسار من مكونات الخادم لتجنب طلب خادم إضافي.
- **[البث (Streaming)](/docs/app/building-your-application/routing/loading-ui-and-streaming):** استخدم واجهة تحميل و React Suspense لإرسال واجهة المستخدم تدريجيًا من الخادم إلى العميل، ومنع حظر المسار بالكامل أثناء جلب البيانات.
- **[جلب البيانات المتوازي (Parallel Data Fetching)](/docs/app/getting-started/fetching-data#parallel-data-fetching):** قلل من شلالات الشبكة عن طريق جلب البيانات بالتوازي عند الحاجة. فكر أيضًا في [جلب البيانات مسبقًا (preloading data)](/docs/app/getting-started/fetching-data#preloading-data) عند الحاجة.
- **[تخزين البيانات المؤقت (Data Caching)](/docs/app/deep-dive/caching#data-cache):** تحقق مما إذا كانت طلبات البيانات الخاصة بك مخزنة مؤقتًا أم لا، وقم بتفعيل التخزين المؤقت عند الحاجة. تأكد من أن الطلبات التي لا تستخدم `fetch` [مخزنة مؤقتًا](/docs/app/api-reference/functions/unstable_cache).
- **[الصور الثابتة (Static Images)](/docs/app/api-reference/file-conventions/public-folder):** استخدم دليل `public` لتخزين أصول التطبيق الثابتة تلقائيًا، مثل الصور.

</AppOnly>

<PagesOnly>

- **[مسارات API (API Routes)](/docs/pages/building-your-application/routing/api-routes):** استخدم معالجات المسار للوصول إلى موارد الخلفية، ومنع الكشف عن الأسرار الحساسة للعميل.
- **[تخزين البيانات المؤقت (Data Caching)](/docs/pages/building-your-application/data-fetching/get-static-props):** تحقق مما إذا كانت طلبات البيانات الخاصة بك مخزنة مؤقتًا أم لا، وقم بتفعيل التخزين المؤقت عند الحاجة. تأكد من أن الطلبات التي لا تستخدم `getStaticProps` مخزنة مؤقتًا عند الحاجة.
- **[التجديد الثابت التدريجي (Incremental Static Regeneration)](/docs/pages/guides/incremental-static-regeneration):** استخدم التجديد الثابت التدريجي لتحديث الصفحات الثابتة بعد بنائها، دون إعادة بناء الموقع بالكامل.
- **[الصور الثابتة (Static Images)](/docs/pages/api-reference/file-conventions/public-folder):** استخدم دليل `public` لتخزين أصول التطبيق الثابتة تلقائيًا، مثل الصور.

</PagesOnly>

### واجهة المستخدم وإمكانية الوصول

<AppOnly>

- **[النماذج والتحقق (Forms and Validation)](/docs/app/guides/forms):** استخدم إجراءات الخادم (Server Actions) لمعالجة إرسال النماذج والتحقق من جانب الخادم ومعالجة الأخطاء.

</AppOnly>

- **[وحدة الخطوط (Font Module)](/docs/app/api-reference/components/font):** حسّن الخطوط باستخدام وحدة الخطوط، التي تستضيف ملفات الخطوط تلقائيًا مع الأصول الثابتة الأخرى، وتزيل طلبات الشبكة الخارجية، وتقلل من [انزياح التخطيط (layout shift)](https://web.dev/articles/cls).
- **[مكون `<Image>`](/docs/app/api-reference/components/image):** حسّن الصور باستخدام مكون الصورة، الذي يحسن الصور تلقائيًا ويمنع انزياح التخطيط ويقدمها بتنسيقات حديثة مثل WebP.
- **[مكون `<Script>`](/docs/app/guides/scripts):** حسّن نصوص الطرف الثالث باستخدام مكون النص، الذي يؤجل النصوص تلقائيًا ويمنعها من حظر الخيط الرئيسي.
- **[ESLint](/docs/architecture/accessibility#linting):** استخدم المكون الإضافي المدمج `eslint-plugin-jsx-a11y` لاكتشاف مشكلات إمكانية الوصول مبكرًا.

### الأمان

<AppOnly>

- **[التلوين (Tainting)](/docs/app/api-reference/config/next-config-js/taint):** امنع الكشف عن البيانات الحساسة للعميل عن طريق تلوين كائنات البيانات و/أو قيم محددة.
- **[إجراءات الخادم (Server Actions)](/docs/app/building-your-application/data-fetching/server-actions-and-mutations#authentication-and-authorization):** تأكد من أن المستخدمين مخولون لاستدعاء إجراءات الخادم. راجع [ممارسات الأمان الموصى بها](/blog/security-nextjs-server-components-actions).

</AppOnly>

- **[متغيرات البيئة (Environment Variables)](/docs/app/guides/environment-variables):** تأكد من إضافة ملفات `.env.*` إلى `.gitignore` وأن المتغيرات العامة فقط مسبوقة بـ `NEXT_PUBLIC_`.
- **[سياسة أمان المحتوى (Content Security Policy)](/docs/app/guides/content-security-policy):** فكر في إضافة سياسة أمان محتوى لحماية تطبيقك من التهديدات الأمنية المختلفة مثل التصيد عبر المواقع (cross-site scripting) والتصيد بالنقر (clickjacking) وهجمات حقن التعليمات البرمجية الأخرى.

### البيانات الوصفية وتحسين محركات البحث

<AppOnly>

- **[واجهة برمجة تطبيقات البيانات الوصفية (Metadata API)](/docs/app/getting-started/metadata-and-og-images):** استخدم واجهة برمجة تطبيقات البيانات الوصفية لتحسين تحسين محركات البحث (SEO) لتطبيقك عن طريق إضافة عناوين الصفحات والأوصاف وغير ذلك.
- **[صور Open Graph (OG)](/docs/app/api-reference/file-conventions/metadata/opengraph-image):** أنشئ صور OG لإعداد تطبيقك للمشاركة الاجتماعية.
- **[خرائط الموقع (Sitemaps)](/docs/app/api-reference/functions/generate-sitemaps) و[ملفات الروبوتات (Robots)](/docs/app/api-reference/file-conventions/metadata/robots):** ساعد محركات البحث في الزحف إلى صفحاتك وفهرستها عن طريق إنشاء خرائط مواقع وملفات روبوتات.

</AppOnly>

<PagesOnly>

- **[مكون `<Head>`](/docs/pages/api-reference/components/head):** استخدم مكون `next/head` لإضافة عناوين الصفحات والأوصاف وغير ذلك.

</PagesOnly>

### سلامة النوع

- **TypeScript و[المكون الإضافي TypeScript](/docs/app/api-reference/config/typescript):** استخدم TypeScript والمكون الإضافي TypeScript لتحسين سلامة النوع ومساعدتك في اكتشاف الأخطاء مبكرًا.

## قبل الانتقال إلى الإنتاج

قبل الانتقال إلى الإنتاج، يمكنك تشغيل `next build` لبناء تطبيقك محليًا واكتشاف أي أخطاء في البناء، ثم تشغيل `next start` لقياس أداء تطبيقك في بيئة تشبه الإنتاج.

### مؤشرات الأداء الأساسية للويب

- **[Lighthouse](https://developers.google.com/web/tools/lighthouse):** شغّل Lighthouse في وضع التصفح المتخفي لفهم أفضل لكيفية تجربة المستخدمين لموقعك، وتحديد مجالات التحسين. هذا اختبار محاكاة ويجب أن يقترن بفحص بيانات الميدان (مثل مؤشرات الأداء الأساسية للويب).

<AppOnly>

- **[ربط `useReportWebVitals`](/docs/app/api-reference/functions/use-report-web-vitals):** استخدم هذا الربط لإرسال بيانات [مؤشرات الأداء الأساسية للويب (Core Web Vitals)](https://web.dev/articles/vitals) إلى أدوات التحليل.

</AppOnly>

### تحليل الحزم

استخدم [المكون الإضافي `@next/bundle-analyzer`](/docs/app/guides/package-bundling#analyzing-javascript-bundles) لتحليل حجم حزم جافا سكريبت الخاصة بك وتحديد الوحدات والتبعيات الكبيرة التي قد تؤثر على أداء تطبيقك.

بالإضافة إلى ذلك، يمكن للأدوات التالية مساعدتك في فهم تأثير إضافة تبعيات جديدة إلى تطبيقك:

- [Import Cost](https://marketplace.visualstudio.com/items?itemName=wix.vscode-import-cost)
- [Package Phobia](https://packagephobia.com/)
- [Bundle Phobia](https://bundlephobia.com/)
- [bundlejs](https://bundlejs.com/)