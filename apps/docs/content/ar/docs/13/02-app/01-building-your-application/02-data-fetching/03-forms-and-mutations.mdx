---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-06-06T18:12:05.578Z
title: ุงูููุงุฐุฌ ูุงูุชุญููุงุช (Forms and Mutations)
nav_title: ุงูููุงุฐุฌ ูุงูุชุญููุงุช (Forms and Mutations)
description: ุชุนูู ููููุฉ ุงูุชุนุงูู ูุน ุฅุฑุณุงู ุงูููุงุฐุฌ ูุชุญููุงุช ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู Next.js.
---

{/* ุงููุญุชูู ูุดุชุฑู ุจูู ููุฌู ุงูุชุทุจูู ูููุฌู ุงูุตูุญุงุช. ููููู ุงุณุชุฎุฏุงู ูููู `<PagesOnly>ุงููุญุชูู</PagesOnly>` ูุฅุถุงูุฉ ูุญุชูู ุฎุงุต ุจููุฌู ุงูุตูุญุงุช. ุฃู ูุญุชูู ูุดุชุฑู ูุฌุจ ุฃู ูุง ูููู ูุบูููุง ุจูููู. */}

<PagesOnly>

ุชูููู ุงูููุงุฐุฌ ูู ุฅูุดุงุก ูุชุญุฏูุซ ุงูุจูุงูุงุช ูู ุชุทุจููุงุช ุงูููุจ. ูููุฑ Next.js ุทุฑููุฉ ูููุฉ ููุชุนุงูู ูุน ุฅุฑุณุงู ุงูููุงุฐุฌ ูุชุญููุงุช ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู **ูุณุงุฑุงุช API (API Routes)**.

> **ูุนูููุฉ ูููุฏุฉ:**
>
> - ุณููุตู ูุฑูุจูุง [ุจุชุจูู ุชุฏุฑูุฌู](/docs/app/building-your-application/upgrading/app-router-migration) ูููุฌู ุงูุชุทุจูู ูุงุณุชุฎุฏุงู [ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู (Server Actions)](/docs/app/building-your-application/data-fetching/forms-and-mutations#how-server-actions-work) ููุชุนุงูู ูุน ุฅุฑุณุงู ุงูููุงุฐุฌ ูุชุญููุงุช ุงูุจูุงูุงุช. ุชุณูุญ ูู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ุจุชุนุฑูู ุฏูุงู ุบูุฑ ูุชุฒุงููุฉ ูููู ุงุณุชุฏุนุงุคูุง ูุจุงุดุฑุฉ ูู ููููุงุชูุ ุฏูู ุงูุญุงุฌุฉ ุฅูู ุฅูุดุงุก ูุณุงุฑ API ูุฏูููุง.
> - ูุณุงุฑุงุช API [ูุง ุชุญุฏุฏ ุฑุคูุณ CORS](https://developer.mozilla.org/docs/Web/HTTP/CORS)ุ ููุง ูุนูู ุฃููุง ุชุนูู ููุท ูู ููุณ ุงููุตุฏุฑ ุงูุชุฑุงุถููุง.
> - ูุธุฑูุง ูุฃู ูุณุงุฑุงุช API ุชุนูู ุนูู ุงูุฎุงุฏูุ ูููููุง ุงุณุชุฎุฏุงู ููู ุญุณุงุณุฉ (ูุซู ููุงุชูุญ API) ุนุจุฑ [ูุชุบูุฑุงุช ุงูุจูุฆุฉ (Environment Variables)](/docs/pages/building-your-application/configuring/environment-variables) ุฏูู ุชุนุฑูุถูุง ููุนููู. ูุฐุง ุฃูุฑ ุญุงุณู ูุฃูุงู ุชุทุจููู.

</PagesOnly>

<AppOnly>

ุชูููู ุงูููุงุฐุฌ ูู ุฅูุดุงุก ูุชุญุฏูุซ ุงูุจูุงูุงุช ูู ุชุทุจููุงุช ุงูููุจ. ูููุฑ Next.js ุทุฑููุฉ ูููุฉ ููุชุนุงูู ูุน ุฅุฑุณุงู ุงูููุงุฐุฌ ูุชุญููุงุช ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู **ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู (Server Actions)**.

<details>
  <summary>ุฃูุซูุฉ</summary>

- [ูููุฐุฌ ุจุญุงูุงุช ุงูุชุญููู ูุงูุฎุทุฃ](https://github.com/vercel/next.js/tree/canary/examples/next-forms)

</details>

## ููููุฉ ุนูู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู

ูุน ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏูุ ูุง ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ููุงุท ููุงูุฉ API ูุฏูููุง. ุจุฏูุงู ูู ุฐููุ ููููู ุชุนุฑูู ุฏูุงู ุบูุฑ ูุชุฒุงููุฉ ูููู ุงุณุชุฏุนุงุคูุง ูุจุงุดุฑุฉ ูู ููููุงุชู.

> **๐ฅ ุดุงูุฏ:** ุชุนูู ุงููุฒูุฏ ุนู ุงูููุงุฐุฌ ูุงูุชุญููุงุช ูุน ููุฌู ุงูุชุทุจูู โ [YouTube (10 ุฏูุงุฆู)](https://youtu.be/dDpZfOQBMaU?si=cJZHlUu_jFhCzHUg).

ูููู ุชุนุฑูู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ูู ููููุงุช ุงูุฎุงุฏู ุฃู ุงุณุชุฏุนุงุคูุง ูู ููููุงุช ุงูุนููู. ุชุนุฑูู ุงูุฅุฌุฑุงุก ูู ูููู ุงูุฎุงุฏู ูุณูุญ ูููููุฐุฌ ุจุงูุนูู ุจุฏูู JavaScriptุ ููุง ูููุฑ ุชุญุณูููุง ุชุฏุฑูุฌููุง.

ูู ุจุชูููู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ูู ููู `next.config.js`:

```js filename="next.config.js"
module.exports = {
  experimental: {
    serverActions: true,
  },
}
```

> **ูุนูููุฉ ูููุฏุฉ:**
>
> - ูููู ููููุงุฐุฌ ุงูุชู ุชุณุชุฏุนู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ูู ููููุงุช ุงูุฎุงุฏู ุฃู ุชุนูู ุจุฏูู JavaScript.
> - ุงูููุงุฐุฌ ุงูุชู ุชุณุชุฏุนู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ูู ููููุงุช ุงูุนููู ุณุชุตุทู ุนูููุงุช ุงูุฅุฑุณุงู ุฅุฐุง ูู ูุชู ุชุญููู JavaScript ุจุนุฏุ ูุน ุฅุนุทุงุก ุงูุฃููููุฉ ูุชุฑุทูุจ ุงูุนููู.
> - ุชุฑุซ ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู [ููุช ุงูุชุดุบูู (runtime)](/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes) ูู ุงูุตูุญุฉ ุฃู ุงูุชุฎุทูุท ุงูุฐู ุชุณุชุฎุฏูู.
> - ุชุนูู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ูุน ุงููุณุงุฑุงุช ุงูุซุงุจุชุฉ ุจุงููุงูู (ุจูุง ูู ุฐูู ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูุจูุงูุงุช ูุน ISR).

## ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูุจูุงูุงุช ุงููุฎุฒูุฉ ูุคูุชูุง

ุชุชูุงูู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ุจุนูู ูุน ุจููุฉ [ุงูุชุฎุฒูู ุงููุคูุช ูุฅุนุงุฏุฉ ุงูุชุญูู (caching and revalidation)](/docs/app/building-your-application/caching) ูู Next.js. ุนูุฏ ุฅุฑุณุงู ูููุฐุฌุ ูููู ูุฅุฌุฑุงุก ุงูุฎุงุฏู ุชุญุฏูุซ ุงูุจูุงูุงุช ุงููุฎุฒูุฉ ูุคูุชูุง ูุฅุนุงุฏุฉ ุงูุชุญูู ูู ุฃู ููุงุชูุญ ุชุฎุฒูู ูุคูุช ูุฌุจ ุชุบููุฑูุง.

ุจุฏูุงู ูู ุฃู ุชููู ูุญุฏูุฏุฉ ุจูููุฐุฌ ูุงุญุฏ ููู ูุณุงุฑ ููุง ูู ุงูุชุทุจููุงุช ุงูุชูููุฏูุฉุ ุชูููู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ูู ูุฌูุฏ ุฅุฌุฑุงุกุงุช ูุชุนุฏุฏุฉ ููู ูุณุงุฑ. ุนูุงูุฉ ุนูู ุฐููุ ูุง ูุญุชุงุฌ ุงููุชุตูุญ ุฅูู ุงูุชุญุฏูุซ ุนูุฏ ุฅุฑุณุงู ุงููููุฐุฌ. ูู ุฑุญูุฉ ุดุจูุฉ ูุงุญุฏุฉุ ูููู ูู Next.js ุฅุฑุฌุงุน ูู ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุญุฏุซุฉ ูุงูุจูุงูุงุช ุงูููุนุดุฉ.

ุนุฑุถ ุงูุฃูุซูุฉ ุฃุฏูุงู ูู [ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูุจูุงูุงุช ูู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู](#revalidating-data).

</AppOnly>

## ุฃูุซูุฉ

### ููุงุฐุฌ ุงูุฎุงุฏู ููุท

<PagesOnly>

ูุน ููุฌู ุงูุตูุญุงุชุ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ููุงุท ููุงูุฉ API ูุฏูููุง ููุชุนุงูู ูุน ุชุญููู ุงูุจูุงูุงุช ุนูู ุงูุฎุงุฏู ุจุดูู ุขูู.

```ts filename="pages/api/submit.ts" switcher
import type { NextApiRequest, NextApiResponse } from 'next'

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  const data = req.body
  const id = await createItem(data)
  res.status(200).json({ id })
}
```

```js filename="pages/api/submit.js" switcher
export default function handler(req, res) {
  const data = req.body
  const id = await createItem(data)
  res.status(200).json({ id })
}
```

ุซู ุงุณุชุฏุนุงุก ูุณุงุฑ API ูู ุงูุนููู ูุน ูุนุงูุฌ ุงูุฃุญุฏุงุซ:

```tsx filename="pages/index.tsx" switcher
import { FormEvent } from 'react'

export default function Page() {
  async function onSubmit(event: FormEvent<HTMLFormElement>) {
    event.preventDefault()

    const formData = new FormData(event.currentTarget)
    const response = await fetch('/api/submit', {
      method: 'POST',
      body: formData,
    })

    // ุงูุชุนุงูู ูุน ุงูุงุณุชุฌุงุจุฉ ุฅุฐุง ูุฒู ุงูุฃูุฑ
    const data = await response.json()
    // ...
  }

  return (
    <form onSubmit={onSubmit}>
      <input type="text" name="name" />
      <button type="submit">ุฅุฑุณุงู</button>
    </form>
  )
}
```

```jsx filename="pages/index.jsx" switcher
export default function Page() {
  async function onSubmit(event) {
    event.preventDefault()

    const formData = new FormData(event.target)
    const response = await fetch('/api/submit', {
      method: 'POST',
      body: formData,
    })

    // ุงูุชุนุงูู ูุน ุงูุงุณุชุฌุงุจุฉ ุฅุฐุง ูุฒู ุงูุฃูุฑ
    const data = await response.json()
    // ...
  }

  return (
    <form onSubmit={onSubmit}>
      <input type="text" name="name" />
      <button type="submit">ุฅุฑุณุงู</button>
    </form>
  )
}
```

</PagesOnly>

<AppOnly>

ูุฅูุดุงุก ูููุฐุฌ ุฎุงุฏู ููุทุ ูู ุจุชุนุฑูู ุฅุฌุฑุงุก ุงูุฎุงุฏู ูู ูููู ุงูุฎุงุฏู. ูููู ุชุนุฑูู ุงูุฅุฌุฑุงุก ุฅูุง ูุถูููุง ูุน ุงูุชูุฌูู `"use server"` ูู ุฃุนูู ุงูุฏุงูุฉุ ุฃู ูู ููู ูููุตู ูุน ุงูุชูุฌูู ูู ุฃุนูู ุงูููู.

```tsx filename="app/page.tsx" switcher
export default function Page() {
  async function create(formData: FormData) {
    'use server'

    // ุชุญููู ุงูุจูุงูุงุช
    // ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูุชุฎุฒูู ุงููุคูุช
  }

  return <form action={create}>...</form>
}
```

```jsx filename="app/page.jsx" switcher
export default function Page() {
  async function create(formData) {
    'use server'

    // ุชุญููู ุงูุจูุงูุงุช
    // ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูุชุฎุฒูู ุงููุคูุช
  }

  return <form action={create}>...</form>
}
```

> **ูุนูููุฉ ูููุฏุฉ**: ูุฃุฎุฐ `<form action={create}>` ููุน ุงูุจูุงูุงุช [FormData](https://developer.mozilla.org/docs/Web/API/FormData/FormData). ูู ุงููุซุงู ุฃุนูุงูุ ูููู ุงููุตูู ุฅูู FormData ุงููุฑุณู ุนุจุฑ [`form`](https://developer.mozilla.org/docs/Web/HTML/Element/form) HTML ูู ุฅุฌุฑุงุก ุงูุฎุงุฏู `create`.

### ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูุจูุงูุงุช

ุชุณูุญ ูู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ุจุฅุจุทุงู [ุชุฎุฒูู Next.js ุงููุคูุช (Next.js Cache)](/docs/app/building-your-application/caching) ุนูุฏ ุงูุทูุจ. ููููู ุฅุจุทุงู ุฌุฒุก ูุณุงุฑ ูุงูู ุจุงุณุชุฎุฏุงู [`revalidatePath`](/docs/app/api-reference/functions/revalidatePath):

```ts filename="app/actions.ts" switcher
'use server'

import { revalidatePath } from 'next/cache'

export default async function submit() {
  await submitForm()
  revalidatePath('/')
}
```

```js filename="app/actions.js" switcher
'use server'

import { revalidatePath } from 'next/cache'

export default async function submit() {
  await submitForm()
  revalidatePath('/')
}
```

ุฃู ุฅุจุทุงู ุฌูุจ ุจูุงูุงุช ูุญุฏุฏ ุจุงุณุชุฎุฏุงู ุนูุงูุฉ ุชุฎุฒูู ูุคูุช ูุน [`revalidateTag`](/docs/app/api-reference/functions/revalidateTag):

```ts filename="app/actions.ts" switcher
'use server'

import { revalidateTag } from 'next/cache'

export default async function submit() {
  await addPost()
  revalidateTag('posts')
}
```

```js filename="app/actions.js" switcher
'use server'

import { revalidateTag } from 'next/cache'

export default async function submit() {
  await addPost()
  revalidateTag('posts')
}
```

</AppOnly>

### ุฅุนุงุฏุฉ ุงูุชูุฌูู

<PagesOnly>

ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฅุนุงุฏุฉ ุชูุฌูู ุงููุณุชุฎุฏู ุฅูู ูุณุงุฑ ูุฎุชูู ุจุนุฏ ุงูุชุญูููุ ููููู [`redirect`](/docs/pages/building-your-application/routing/api-routes#response-helpers) ุฅูู ุฃู ุนููุงู URL ูุทูู ุฃู ูุณุจู:

```ts filename="pages/api/submit.ts" switcher
import type { NextApiRequest, NextApiResponse } from 'next'

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  const id = await addPost()
  res.redirect(307, `/post/${id}`)
}
```

```js filename="pages/api/submit.js" switcher
export default async function handler(req, res) {
  const id = await addPost()
  res.redirect(307, `/post/${id}`)
}
```

</PagesOnly>

<AppOnly>

ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฅุนุงุฏุฉ ุชูุฌูู ุงููุณุชุฎุฏู ุฅูู ูุณุงุฑ ูุฎุชูู ุจุนุฏ ุงูุชูุงู ุฅุฌุฑุงุก ุงูุฎุงุฏูุ ููููู ุงุณุชุฎุฏุงู [`redirect`](/docs/app/api-reference/functions/redirect) ูุฃู ุนููุงู URL ูุทูู ุฃู ูุณุจู:

```ts filename="app/actions.ts" switcher
'use server'

import { redirect } from 'next/navigation'
import { revalidateTag } from 'next/cache'

export default async function submit() {
  const id = await addPost()
  revalidateTag('posts') // ุชุญุฏูุซ ุงููุดุงุฑูุงุช ุงููุฎุฒูุฉ ูุคูุชูุง
  redirect(`/post/${id}`) // ุงูุงูุชูุงู ุฅูู ุงููุณุงุฑ ุงูุฌุฏูุฏ
}
```

```js filename="app/actions.js" switcher
'use server'

import { redirect } from 'next/navigation'
import { revalidateTag } from 'next/cache'

export default async function submit() {
  const id = await addPost()
  revalidateTag('posts') // ุชุญุฏูุซ ุงููุดุงุฑูุงุช ุงููุฎุฒูุฉ ูุคูุชูุง
  redirect(`/post/${id}`) // ุงูุงูุชูุงู ุฅูู ุงููุณุงุฑ ุงูุฌุฏูุฏ
}
```

</AppOnly>

### ุงูุชุญูู ูู ุตุญุฉ ุงููููุฐุฌ

ููุตู ุจุงุณุชุฎุฏุงู ุงูุชุญูู ูู ุตุญุฉ HTML ูุซู `required` ู `type="email"` ููุชุญูู ุงูุฃุณุงุณู ูู ุตุญุฉ ุงููููุฐุฌ.

ููุชุญูู ูู ุตุญุฉ ุงูุฎุงุฏู ุงูุฃูุซุฑ ุชูุฏููุงุ ุงุณุชุฎุฏู ููุชุจุฉ ุชุญูู ูู ุงููุฎุทุทุงุช ูุซู [zod](https://zod.dev/) ููุชุญูู ูู ูููู ุจูุงูุงุช ุงููููุฐุฌ ุงููุญููุฉ:

<PagesOnly>

```ts filename="pages/api/submit.ts" switcher
import type { NextApiRequest, NextApiResponse } from 'next'
import { z } from 'zod'

const schema = z.object({
  // ...
})

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  const parsed = schema.parse(req.body)
  // ...
}
```

```js filename="pages/api/submit.js" switcher
import { z } from 'zod'

const schema = z.object({
  // ...
})

export default async function handler(req, res) {
  const parsed = schema.parse(req.body)
  // ...
}
```

</PagesOnly>

<AppOnly>

```tsx filename="app/actions.ts" switcher
import { z } from 'zod'

const schema = z.object({
  // ...
})

export default async function submit(formData: FormData) {
  const parsed = schema.parse({
    id: formData.get('id'),
  })
  // ...
}
```

```jsx filename="app/actions.js" switcher
import { z } from 'zod'

const schema = z.object({
  // ...
})

export default async function submit(formData) {
  const parsed = schema.parse({
    id: formData.get('id'),
  })
  // ...
}
```

</AppOnly>

### ุนุฑุถ ุญุงูุฉ ุงูุชุญููู

<AppOnly>

ุงุณุชุฎุฏู ุฎุทุงู `useFormStatus` ูุนุฑุถ ุญุงูุฉ ุงูุชุญููู ุนูุฏ ุฅุฑุณุงู ูููุฐุฌ ุนูู ุงูุฎุงุฏู. ูููู ุงุณุชุฎุฏุงู ุฎุทุงู `useFormStatus` ููุท ูุนูุตุฑ ูุฑุนู ูุนูุตุฑ `form` ูุณุชุฎุฏู ุฅุฌุฑุงุก ุฎุงุฏู.

ุนูู ุณุจูู ุงููุซุงูุ ุฒุฑ ุงูุฅุฑุณุงู ุงูุชุงูู:

```tsx filename="app/submit-button.tsx" switcher
'use client'

import { experimental_useFormStatus as useFormStatus } from 'react-dom'

export function SubmitButton() {
  const { pending } = useFormStatus()

  return (
    <button type="submit" aria-disabled={pending}>
      ุฅุถุงูุฉ
    </button>
  )
}
```

```jsx filename="app/submit-button.jsx" switcher
'use client'

import { experimental_useFormStatus as useFormStatus } from 'react-dom'

export function SubmitButton() {
  const { pending } = useFormStatus()

  return (
    <button type="submit" aria-disabled={pending}>
      ุฅุถุงูุฉ
    </button>
  )
}
```

ูููู ุจุนุฏ ุฐูู ุงุณุชุฎุฏุงู `<SubmitButton />` ูู ูููุฐุฌ ูุน ุฅุฌุฑุงุก ุฎุงุฏู:

```tsx filename="app/page.tsx" switcher
import { SubmitButton } from '@/app/submit-button'

export default async function Home() {
  return (
    <form action={...}>
      <input type="text" name="field-name" />
      <SubmitButton />
    </form>
  )
}
```

```jsx filename="app/page.jsx" switcher
import { SubmitButton } from '@/app/submit-button'

export default async function Home() {
  return (
    <form action={...}>
      <input type="text" name="field-name" />
      <SubmitButton />
    </form>
  )
}
```

</AppOnly>

<PagesOnly>

ููููู ุงุณุชุฎุฏุงู ุญุงูุฉ React ูุนุฑุถ ุญุงูุฉ ุงูุชุญููู ุนูุฏ ุฅุฑุณุงู ูููุฐุฌ ุนูู ุงูุฎุงุฏู:

```tsx filename="pages/index.tsx" switcher
import React, { useState, FormEvent } from 'react'

export default function Page() {
  const [isLoading, setIsLoading] = useState<boolean>(false)

  async function onSubmit(event: FormEvent<HTMLFormElement>) {
    event.preventDefault()
    setIsLoading(true) // ุชุนููู ุงูุชุญููู ุฅูู true ุนูุฏ ุจุฏุก ุงูุทูุจ

    try {
      const formData = new FormData(event.currentTarget)
      const response = await fetch('/api/submit', {
        method: 'POST',
        body: formData,
      })

      // ุงูุชุนุงูู ูุน ุงูุงุณุชุฌุงุจุฉ ุฅุฐุง ูุฒู ุงูุฃูุฑ
      const data = await response.json()
      // ...
    } catch (error) {
      // ุงูุชุนุงูู ูุน ุงูุฎุทุฃ ุฅุฐุง ูุฒู ุงูุฃูุฑ
      console.error(error)
    } finally {
      setIsLoading(false) // ุชุนููู ุงูุชุญููู ุฅูู false ุนูุฏ ุงูุชูุงู ุงูุทูุจ
    }
  }

  return (
    <form onSubmit={onSubmit}>
      <input type="text" name="name" />
      <button type="submit" disabled={isLoading}>
        {isLoading ? 'ุฌุงุฑู ุงูุชุญููู...' : 'ุฅุฑุณุงู'}
      </button>
    </form>
  )
}
```

```jsx filename="pages/index.jsx" switcher
import React, { useState } from 'react'

export default function Page() {
  const [isLoading, setIsLoading] = useState(false)

  async function onSubmit(event) {
    event.preventDefault()
    setIsLoading(true) // ุชุนููู ุงูุชุญููู ุฅูู true ุนูุฏ ุจุฏุก ุงูุทูุจ

    try {
      const formData = new FormData(event.currentTarget)
      const response = await fetch('/api/submit', {
        method: 'POST',
        body: formData,
      })

      // ุงูุชุนุงูู ูุน ุงูุงุณุชุฌุงุจุฉ ุฅุฐุง ูุฒู ุงูุฃูุฑ
      const data = await response.json()
      // ...
    } catch (error) {
      // ุงูุชุนุงูู ูุน ุงูุฎุทุฃ ุฅุฐุง ูุฒู ุงูุฃูุฑ
      console.error(error)
    } finally {
      setIsLoading(false) // ุชุนููู ุงูุชุญููู ุฅูู false ุนูุฏ ุงูุชูุงู ุงูุทูุจ
    }
  }

  return (
    <form onSubmit={onSubmit}>
      <input type="text" name="name" />
      <button type="submit" disabled={isLoading}>
        {isLoading ? 'ุฌุงุฑู ุงูุชุญููู...' : 'ุฅุฑุณุงู'}
      </button>
    </form>
  )
}
```

</PagesOnly>

### ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

<AppOnly>

ูููู ูุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู (Server Actions) ุฃูุถูุง ุฅุฑุฌุงุน [ูุงุฆูุงุช ูุงุจูุฉ ููุชุณูุณูุฉ](https://developer.mozilla.org/docs/Glossary/Serialization). ุนูู ุณุจูู ุงููุซุงูุ ูุฏ ูุนุงูุฌ ุฅุฌุฑุงุก ุงูุฎุงุฏู ุงูุฎุงุต ุจู ุงูุฃุฎุทุงุก ุงููุงุชุฌุฉ ุนู ุฅูุดุงุก ุนูุตุฑ ุฌุฏูุฏ:

```ts filename="app/actions.ts" switcher
'use server'

export async function createTodo(prevState: any, formData: FormData) {
  try {
    await createItem(formData.get('todo'))
    return revalidatePath('/')
  } catch (e) {
    return { message: 'Failed to create' }
  }
}
```

```js filename="app/actions.js" switcher
'use server'

export async function createTodo(prevState, formData) {
  try {
    await createItem(formData.get('todo'))
    return revalidatePath('/')
  } catch (e) {
    return { message: 'Failed to create' }
  }
}
```

ุซูุ ูู ูููู ุงูุนููู (Client Component)ุ ููููู ูุฑุงุกุฉ ูุฐู ุงููููุฉ ูุนุฑุถ ุฑุณุงูุฉ ุฎุทุฃ.

```tsx filename="app/add-form.tsx" switcher
'use client'

import { experimental_useFormState as useFormState } from 'react-dom'
import { experimental_useFormStatus as useFormStatus } from 'react-dom'
import { createTodo } from '@/app/actions'

const initialState = {
  message: null,
}

function SubmitButton() {
  const { pending } = useFormStatus()

  return (
    <button type="submit" aria-disabled={pending}>
      Add
    </button>
  )
}

export function AddForm() {
  const [state, formAction] = useFormState(createTodo, initialState)

  return (
    <form action={formAction}>
      <label htmlFor="todo">Enter Task</label>
      <input type="text" id="todo" name="todo" required />
      <SubmitButton />
      <p aria-live="polite" className="sr-only">
        {state?.message}
      </p>
    </form>
  )
}
```

```jsx filename="app/add-form.jsx" switcher
'use client'

import { experimental_useFormState as useFormState } from 'react-dom'
import { experimental_useFormStatus as useFormStatus } from 'react-dom'
import { createTodo } from '@/app/actions'

const initialState = {
  message: null,
}

function SubmitButton() {
  const { pending } = useFormStatus()

  return (
    <button type="submit" aria-disabled={pending}>
      Add
    </button>
  )
}

export function AddForm() {
  const [state, formAction] = useFormState(createTodo, initialState)

  return (
    <form action={formAction}>
      <label htmlFor="todo">Enter Task</label>
      <input type="text" id="todo" name="todo" required />
      <SubmitButton />
      <p aria-live="polite" className="sr-only">
        {state?.message}
      </p>
    </form>
  )
}
```

</AppOnly>

<PagesOnly>

ููููู ุงุณุชุฎุฏุงู ุญุงูุฉ (state) React ูุนุฑุถ ุฑุณุงูุฉ ุฎุทุฃ ุนูุฏ ูุดู ุฅุฑุณุงู ุงููููุฐุฌ:

```tsx filename="pages/index.tsx" switcher
import React, { useState, FormEvent } from 'react'

export default function Page() {
  const [isLoading, setIsLoading] = useState<boolean>(false)
  const [error, setError] = useState<string | null>(null)

  async function onSubmit(event: FormEvent<HTMLFormElement>) {
    event.preventDefault()
    setIsLoading(true)
    setError(null) // Clear previous errors when a new request starts

    try {
      const formData = new FormData(event.currentTarget)
      const response = await fetch('/api/submit', {
        method: 'POST',
        body: formData,
      })

      if (!response.ok) {
        throw new Error('Failed to submit the data. Please try again.')
      }

      // Handle response if necessary
      const data = await response.json()
      // ...
    } catch (error) {
      // Capture the error message to display to the user
      setError(error.message)
      console.error(error)
    } finally {
      setIsLoading(false)
    }
  }

  return (
    <div>
      {error && <div style={{ color: 'red' }}>{error}</div>}
      <form onSubmit={onSubmit}>
        <input type="text" name="name" />
        <button type="submit" disabled={isLoading}>
          {isLoading ? 'Loading...' : 'Submit'}
        </button>
      </form>
    </div>
  )
}
```

```jsx filename="pages/index.jsx" switcher
import React, { useState } from 'react'

export default function Page() {
  const [isLoading, setIsLoading] = useState(false)
  const [error, setError] = useState(null)

  async function onSubmit(event) {
    event.preventDefault()
    setIsLoading(true)
    setError(null) // Clear previous errors when a new request starts

    try {
      const formData = new FormData(event.currentTarget)
      const response = await fetch('/api/submit', {
        method: 'POST',
        body: formData,
      })

      if (!response.ok) {
        throw new Error('Failed to submit the data. Please try again.')
      }

      // Handle response if necessary
      const data = await response.json()
      // ...
    } catch (error) {
      // Capture the error message to display to the user
      setError(error.message)
      console.error(error)
    } finally {
      setIsLoading(false)
    }
  }

  return (
    <div>
      {error && <div style={{ color: 'red' }}>{error}</div>}
      <form onSubmit={onSubmit}>
        <input type="text" name="name" />
        <button type="submit" disabled={isLoading}>
          {isLoading ? 'Loading...' : 'Submit'}
        </button>
      </form>
    </div>
  )
}
```

</PagesOnly>

<AppOnly>

### ุงูุชุญุฏูุซุงุช ุงูุชูุงุคููุฉ (Optimistic Updates)

ุงุณุชุฎุฏู `useOptimistic` ูุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุดูู ุชูุงุคูู ูุจู ุงูุชูุงุก ุฅุฌุฑุงุก ุงูุฎุงุฏูุ ุจุฏูุงู ูู ุงูุชุธุงุฑ ุงูุฑุฏ:

```tsx filename="app/page.tsx" switcher
'use client'

import { experimental_useOptimistic as useOptimistic } from 'react'
import { send } from './actions'

type Message = {
  message: string
}

export function Thread({ messages }: { messages: Message[] }) {
  const [optimisticMessages, addOptimisticMessage] = useOptimistic<Message[]>(
    messages,
    (state: Message[], newMessage: string) => [
      ...state,
      { message: newMessage },
    ]
  )

  return (
    <div>
      {optimisticMessages.map((m, k) => (
        <div key={k}>{m.message}</div>
      ))}
      <form
        action={async (formData: FormData) => {
          const message = formData.get('message')
          addOptimisticMessage(message)
          await send(message)
        }}
      >
        <input type="text" name="message" />
        <button type="submit">Send</button>
      </form>
    </div>
  )
}
```

```jsx filename="app/page.jsx" switcher
'use client'

import { experimental_useOptimistic as useOptimistic } from 'react'
import { send } from './actions'

export function Thread({ messages }) {
  const [optimisticMessages, addOptimisticMessage] = useOptimistic(
    messages,
    (state, newMessage) => [...state, { message: newMessage }]
  )

  return (
    <div>
      {optimisticMessages.map((m) => (
        <div>{m.message}</div>
      ))}
      <form
        action={async (formData) => {
          const message = formData.get('message')
          addOptimisticMessage(message)
          await send(message)
        }}
      >
        <input type="text" name="message" />
        <button type="submit">Send</button>
      </form>
    </div>
  )
}
```

</AppOnly>

### ุชุนููู ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท (Cookies)

<PagesOnly>

ููููู ุชุนููู ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท ุฏุงุฎู ูุณุงุฑ API ุจุงุณุชุฎุฏุงู ุทุฑููุฉ `setHeader` ุนูู ุงูุงุณุชุฌุงุจุฉ:

```ts filename="pages/api/cookie.ts" switcher
import type { NextApiRequest, NextApiResponse } from 'next'

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  res.setHeader('Set-Cookie', 'username=lee; Path=/; HttpOnly')
  res.status(200).send('Cookie has been set.')
}
```

```js filename="pages/api/cookie.js" switcher
export default async function handler(req, res) {
  res.setHeader('Set-Cookie', 'username=lee; Path=/; HttpOnly')
  res.status(200).send('Cookie has been set.')
}
```

</PagesOnly>

<AppOnly>

ููููู ุชุนููู ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท ุฏุงุฎู ุฅุฌุฑุงุก ุฎุงุฏู ุจุงุณุชุฎุฏุงู ุฏุงูุฉ [`cookies`](/docs/app/api-reference/functions/cookies):

```ts filename="app/actions.ts" switcher
'use server'

import { cookies } from 'next/headers'

export async function create() {
  const cart = await createCart()
  cookies().set('cartId', cart.id)
}
```

```js filename="app/actions.js" switcher
'use server'

import { cookies } from 'next/headers'

export async function create() {
  const cart = await createCart()
  cookies().set('cartId', cart.id)
}
```

</AppOnly>

### ูุฑุงุกุฉ ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท (Cookies)

<PagesOnly>

ููููู ูุฑุงุกุฉ ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท ุฏุงุฎู ูุณุงุฑ API ุจุงุณุชุฎุฏุงู ูุณุงุนุฏ ุงูุทูุจ [`cookies`](/docs/pages/building-your-application/routing/api-routes#request-helpers):

```ts filename="pages/api/cookie.ts" switcher
import type { NextApiRequest, NextApiResponse } from 'next'

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  const auth = req.cookies.authorization
  // ...
}
```

```js filename="pages/api/cookie.js" switcher
export default async function handler(req, res) {
  const auth = req.cookies.authorization
  // ...
}
```

</PagesOnly>

<AppOnly>

ููููู ูุฑุงุกุฉ ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท ุฏุงุฎู ุฅุฌุฑุงุก ุฎุงุฏู ุจุงุณุชุฎุฏุงู ุฏุงูุฉ [`cookies`](/docs/app/api-reference/functions/cookies):

```ts filename="app/actions.ts" switcher
'use server'

import { cookies } from 'next/headers'

export async function read() {
  const auth = cookies().get('authorization')?.value
  // ...
}
```

```js filename="app/actions.js" switcher
'use server'

import { cookies } from 'next/headers'

export async function read() {
  const auth = cookies().get('authorization')?.value
  // ...
}
```

</AppOnly>

### ุญุฐู ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท (Cookies)

<PagesOnly>

ููููู ุญุฐู ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท ุฏุงุฎู ูุณุงุฑ API ุจุงุณุชุฎุฏุงู ุทุฑููุฉ `setHeader` ุนูู ุงูุงุณุชุฌุงุจุฉ:

```ts filename="pages/api/cookie.ts" switcher
import type { NextApiRequest, NextApiResponse } from 'next'

export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  res.setHeader('Set-Cookie', 'username=; Path=/; HttpOnly; Max-Age=0')
  res.status(200).send('Cookie has been deleted.')
}
```

```js filename="pages/api/cookie.js" switcher
export default async function handler(req, res) {
  res.setHeader('Set-Cookie', 'username=; Path=/; HttpOnly; Max-Age=0')
  res.status(200).send('Cookie has been deleted.')
}
```

</PagesOnly>

<AppOnly>

ููููู ุญุฐู ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท ุฏุงุฎู ุฅุฌุฑุงุก ุฎุงุฏู ุจุงุณุชุฎุฏุงู ุฏุงูุฉ [`cookies`](/docs/app/api-reference/functions/cookies):

```ts filename="app/actions.ts" switcher
'use server'

import { cookies } from 'next/headers'

export async function delete() {
  cookies().delete('name')
  // ...
}
```

```js filename="app/actions.js" switcher
'use server'

import { cookies } from 'next/headers'

export async function delete() {
  cookies().delete('name')
  // ...
}
```

ุฑุงุฌุน [ุฃูุซูุฉ ุฅุถุงููุฉ](/docs/app/api-reference/functions/cookies#deleting-cookies) ูุญุฐู ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท ูู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู.

</AppOnly>
