---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-06-06T17:49:33.007Z
title: ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ูุงูุชุญููุงุช (Server Actions and Mutations)
nav_title: ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ูุงูุชุญููุงุช (Server Actions and Mutations)
description: ุชุนูู ููููุฉ ุงูุชุนุงูู ูุน ุฅุฑุณุงู ุงูููุงุฐุฌ ูุชุญููุงุช ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู Next.js.
related:
  description: ุชุนูู ููููุฉ ุชูููู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ูู Next.js
  links:
    - app/api-reference/next-config-js/serverActions
---

ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู (Server Actions) ูู **ูุธุงุฆู ุบูุฑ ูุชุฒุงููุฉ** ูุชู ุชูููุฐูุง ุนูู ุงูุฎุงุฏู. ูููู ุงุณุชุฎุฏุงููุง ูู ููููุงุช ุงูุฎุงุฏู ูุงูุนููู ููุชุนุงูู ูุน ุฅุฑุณุงู ุงูููุงุฐุฌ ูุชุญููุงุช ุงูุจูุงูุงุช ูู ุชุทุจููุงุช Next.js.

> **๐ฅ ุดุงูุฏ:** ุชุนูู ุงููุฒูุฏ ุนู ุงูููุงุฐุฌ ูุงูุชุญููุงุช ุจุงุณุชุฎุฏุงู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู โ [YouTube (10 ุฏูุงุฆู)](https://youtu.be/dDpZfOQBMaU?si=cJZHlUu_jFhCzHUg).

## ุงูุงุตุทูุงุญ

ูููู ุชุนุฑูู ุฅุฌุฑุงุก ุงูุฎุงุฏู ุจุงุณุชุฎุฏุงู ุชูุฌูู React [`"use server"`](https://react.dev/reference/react/use-server). ููููู ูุถุน ุงูุชูุฌูู ูู ุฃุนูู ุฏุงูุฉ `async` ูุชูููุฒูุง ูุฅุฌุฑุงุก ุฎุงุฏูุ ุฃู ูู ุฃุนูู ููู ูููุตู ูุชูููุฒ ุฌููุน ุงูุตุงุฏุฑุงุช ูู ูุฐุง ุงูููู ูุฅุฌุฑุงุกุงุช ุฎุงุฏู.

### ููููุงุช ุงูุฎุงุฏู (Server Components)

ูููู ูููููุงุช ุงูุฎุงุฏู ุงุณุชุฎุฏุงู ุชูุฌูู `"use server"` ุนูู ูุณุชูู ุงูุฏุงูุฉ ุฃู ุนูู ูุณุชูู ุงููุญุฏุฉ. ูุชุถููู ุฅุฌุฑุงุก ุฎุงุฏูุ ุฃุถู `"use server"` ูู ุฃุนูู ุฌุณู ุงูุฏุงูุฉ:

```tsx filename="app/page.tsx" switcher
// ูููู ุงูุฎุงุฏู
export default function Page() {
  // ุฅุฌุฑุงุก ุงูุฎุงุฏู
  async function create() {
    'use server'

    // ...
  }

  return (
    // ...
  )
}
```

```jsx filename="app/page.jsx" switcher
// ูููู ุงูุฎุงุฏู
export default function Page() {
  // ุฅุฌุฑุงุก ุงูุฎุงุฏู
  async function create() {
    'use server'

    // ...
  }

  return (
    // ...
  )
}
```

### ููููุงุช ุงูุนููู (Client Components)

ูููู ูููููุงุช ุงูุนููู ุงุณุชูุฑุงุฏ ุงูุฅุฌุฑุงุกุงุช ุงูุชู ุชุณุชุฎุฏู ุชูุฌูู `"use server"` ุนูู ูุณุชูู ุงููุญุฏุฉ ููุท.

ูุงุณุชุฏุนุงุก ุฅุฌุฑุงุก ุฎุงุฏู ูู ูููู ุนูููุ ุฃูุดุฆ ููููุง ุฌุฏูุฏูุง ูุฃุถู ุชูุฌูู `"use server"` ูู ุฃุนูู ุงูููู. ุณูุชู ุชูููุฒ ุฌููุน ุงูุฏูุงู ุฏุงุฎู ุงูููู ูุฅุฌุฑุงุกุงุช ุฎุงุฏู ูููู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงููุง ูู ูู ูู ููููุงุช ุงูุนููู ูุงูุฎุงุฏู:

```tsx filename="app/actions.ts" switcher
'use server'

export async function create() {
  // ...
}
```

```js filename="app/actions.js" switcher
'use server'

export async function create() {
  // ...
}
```

```tsx filename="app/ui/button.tsx" switcher
import { create } from '@/app/actions'

export function Button() {
  return (
    // ...
  )
}
```

```jsx filename="app/ui/button.js" switcher
import { create } from '@/app/actions'

export function Button() {
  return (
    // ...
  )
}
```

ููููู ุฃูุถูุง ุชูุฑูุฑ ุฅุฌุฑุงุก ุฎุงุฏู ุฅูู ูููู ุนููู ูุฎุงุตูุฉ:

```jsx
<ClientComponent updateItem={updateItem} />
```

```jsx filename="app/client-component.jsx"
'use client'

export default function ClientComponent({ updateItem }) {
  return <form action={updateItem}>{/* ... */}</form>
}
```

## ุงูุณููู

- ูููู ุงุณุชุฏุนุงุก ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ุจุงุณุชุฎุฏุงู ุณูุฉ `action` ูู ุนูุตุฑ [`<form>`](#forms):
  - ุชุฏุนู ููููุงุช ุงูุฎุงุฏู ุงูุชุญุณูู ุงูุชุฏุฑูุฌู ุงูุชุฑุงุถููุงุ ููุง ูุนูู ุฃู ุงููููุฐุฌ ุณูุชู ุฅุฑุณุงูู ุญุชู ุฅุฐุง ูู ูุชู ุชุญููู JavaScript ุจุนุฏ ุฃู ุชู ุชุนุทููู.
  - ูู ููููุงุช ุงูุนูููุ ุณุชููู ุงูููุงุฐุฌ ุงูุชู ุชุณุชุฏุนู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ุจูุถุน ุนูููุงุช ุงูุฅุฑุณุงู ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุฅุฐุง ูู ูุชู ุชุญููู JavaScript ุจุนุฏุ ูุน ุฅุนุทุงุก ุงูุฃููููุฉ ูุชุฑุทูุจ ุงูุนููู.
  - ุจุนุฏ ุงูุชุฑุทูุจุ ูุง ูููู ุงููุชุตูุญ ุจุงูุชุญุฏูุซ ุนูุฏ ุฅุฑุณุงู ุงููููุฐุฌ.
- ูุง ุชูุชุตุฑ ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ุนูู `<form>` ููููู ุงุณุชุฏุนุงุคูุง ูู ูุนุงูุฌู ุงูุฃุญุฏุงุซุ ู`useEffect`ุ ูููุชุจุงุช ุงูุทุฑู ุงูุซุงูุซุ ูุนูุงุตุฑ ุงููููุฐุฌ ุงูุฃุฎุฑู ูุซู `<button>`.
- ุชูุฏูุฌ ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ูุน ุจููุฉ ุงูุชุฎุฒูู ุงููุคูุช ูุฅุนุงุฏุฉ ุงูุชุญูู ูู Next.js. ุนูุฏ ุงุณุชุฏุนุงุก ุฅุฌุฑุงุกุ ูููู ูู Next.js ุฅุฑุฌุงุน ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุญุฏุซุฉ ูุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ ูู ุฌููุฉ ูุงุญุฏุฉ ูู ุงูุฎุงุฏู.
- ุฎูู ุงูููุงููุณุ ุชุณุชุฎุฏู ุงูุฅุฌุฑุงุกุงุช ุทุฑููุฉ `POST`ุ ููุฐู ุงูุทุฑููุฉ ููุท ูู ุงูุชู ูููููุง ุงุณุชุฏุนุงุคูุง.
- ูุฌุจ ุฃู ุชููู ูุณูุทุงุช ููููุฉ ุฅุฑุฌุงุน ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ูุงุจูุฉ ููุชุณูุณู ุจูุงุณุทุฉ React. ุฑุงุฌุน ูุซุงุฆู React ููุญุตูู ุนูู ูุงุฆูุฉ [ุจุงููุนุงููุงุช ูููู ุงูุฅุฑุฌุงุน ุงููุงุจูุฉ ููุชุณูุณู](https://react.dev/reference/react/use-server#serializable-parameters-and-return-values).
- ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ูู ุฏูุงู. ูุฐุง ูุนูู ุฃูู ูููู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงููุง ูู ุฃู ููุงู ูู ุชุทุจููู.
- ุชุฑุซ ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู [ุจูุฆุฉ ุงูุชุดุบูู](/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes) ูู ุงูุตูุญุฉ ุฃู ุงูุชุฎุทูุท ุงูุฐู ุชุณุชุฎุฏูู.
- ุชุฑุซ ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู [ุชูููู ููุทุน ุงููุณุงุฑ](/docs/app/api-reference/file-conventions/route-segment-config) ูู ุงูุตูุญุฉ ุฃู ุงูุชุฎุทูุท ุงูุฐู ุชุณุชุฎุฏููุ ุจูุง ูู ุฐูู ุงูุญููู ูุซู `maxDuration`.

## ุฃูุซูุฉ

### ุงูููุงุฐุฌ

ููุชุฏ React ุนูุตุฑ [`<form>`](https://developer.mozilla.org/docs/Web/HTML/Element/form) ูู HTML ููุณูุงุญ ุจุงุณุชุฏุนุงุก ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ุจุงุณุชุฎุฏุงู ุฎุงุตูุฉ `action`.

ุนูุฏ ุงุณุชุฏุนุงุฆูุง ูู ูููุฐุฌุ ูุชููู ุงูุฅุฌุฑุงุก ุชููุงุฆููุง ูุงุฆู [`FormData`](https://developer.mozilla.org/docs/Web/API/FormData/FormData). ูุง ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู React `useState` ูุฅุฏุงุฑุฉ ุงูุญูููุ ุจุฏูุงู ูู ุฐููุ ููููู ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู [ุทุฑู `FormData` ุงูุฃุตููุฉ](https://developer.mozilla.org/en-US/docs/Web/API/FormData#instance_methods):

```tsx filename="app/invoices/page.tsx" switcher
export default function Page() {
  async function createInvoice(formData: FormData) {
    'use server'

    const rawFormData = {
      customerId: formData.get('customerId'),
      amount: formData.get('amount'),
      status: formData.get('status'),
    }

    // ุชุญููู ุงูุจูุงูุงุช
    // ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูุชุฎุฒูู ุงููุคูุช
  }

  return <form action={createInvoice}>...</form>
}
```

```jsx filename="app/invoices/page.jsx" switcher
export default function Page() {
  async function createInvoice(formData) {
    'use server'

    const rawFormData = {
      customerId: formData.get('customerId'),
      amount: formData.get('amount'),
      status: formData.get('status'),
    }

    // ุชุญููู ุงูุจูุงูุงุช
    // ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูุชุฎุฒูู ุงููุคูุช
  }

  return <form action={createInvoice}>...</form>
}
```

> **ูุนูููุฉ ูููุฏุฉ:**
>
> - ูุซุงู: [ูููุฐุฌ ูุน ุญุงูุงุช ุงูุชุญููู ูุงูุฃุฎุทุงุก](https://github.com/vercel/next.js/tree/canary/examples/next-forms)
> - ุนูุฏ ุงูุนูู ูุน ููุงุฐุฌ ุชุญุชูู ุนูู ุงูุนุฏูุฏ ูู ุงูุญูููุ ูุฏ ุชุฑุบุจ ูู ุงูุชูููุฑ ูู ุงุณุชุฎุฏุงู ุทุฑููุฉ [`entries()`](https://developer.mozilla.org/en-US/docs/Web/API/FormData/entries) ูุน [`Object.fromEntries()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries) ูู JavaScript. ุนูู ุณุจูู ุงููุซุงู: `const rawFormData = Object.fromEntries(formData)`. ุดูุก ูุงุญุฏ ูุฌุจ ููุงุญุธุชู ูู ุฃู `formData` ุณูุชุถูู ุฎุตุงุฆุต `$ACTION_` ุฅุถุงููุฉ.
> - ุฑุงุฌุน [ูุซุงุฆู React `<form>`](https://react.dev/reference/react-dom/components/form#handle-form-submission-with-a-server-action) ููุนุฑูุฉ ุงููุฒูุฏ.

#### ุชูุฑูุฑ ูุณูุทุงุช ุฅุถุงููุฉ

ููููู ุชูุฑูุฑ ูุณูุทุงุช ุฅุถุงููุฉ ุฅูู ุฅุฌุฑุงุก ุฎุงุฏู ุจุงุณุชุฎุฏุงู ุทุฑููุฉ `bind` ูู JavaScript.

```tsx filename="app/client-component.tsx" highlight={6} switcher
'use client'

import { updateUser } from './actions'

export function UserProfile({ userId }: { userId: string }) {
  const updateUserWithId = updateUser.bind(null, userId)

  return (
    <form action={updateUserWithId}>
      <input type="text" name="name" />
      <button type="submit">ุชุญุฏูุซ ุงุณู ุงููุณุชุฎุฏู</button>
    </form>
  )
}
```

```jsx filename="app/client-component.js" highlight={6} switcher
'use client'

import { updateUser } from './actions'

export function UserProfile({ userId }) {
  const updateUserWithId = updateUser.bind(null, userId)

  return (
    <form action={updateUserWithId}>
      <input type="text" name="name" />
      <button type="submit">ุชุญุฏูุซ ุงุณู ุงููุณุชุฎุฏู</button>
    </form>
  )
}
```

ุณูุณุชูุจู ุฅุฌุฑุงุก ุงูุฎุงุฏู ูุณูุทุฉ `userId`ุ ุจุงูุฅุถุงูุฉ ุฅูู ุจูุงูุงุช ุงููููุฐุฌ:

```js filename="app/actions.js"
'use server'

export async function updateUser(userId, formData) {
  // ...
}
```

> **ูุนูููุฉ ูููุฏุฉ:**
>
> - ุจุฏูู ูู ุชูุฑูุฑ ุงููุณูุทุงุช ูุญููู ุฅุฏุฎุงู ูุฎููุฉ ูู ุงููููุฐุฌ (ูุซู `<input type="hidden" name="userId" value={userId} />`). ููุน ุฐููุ ุณุชููู ุงููููุฉ ุฌุฒุกูุง ูู HTML ุงูููุฏู ููู ุชููู ูุดูุฑุฉ.
> - ูุนูู `.bind` ูู ูู ูู ููููุงุช ุงูุฎุงุฏู ูุงูุนููู. ููุง ูุฏุนู ุงูุชุญุณูู ุงูุชุฏุฑูุฌู.

#### ุญุงูุงุช ุงูุงูุชุธุงุฑ

ููููู ุงุณุชุฎุฏุงู ุฎุทุงู React [`useFormStatus`](https://react.dev/reference/react-dom/hooks/useFormStatus) ูุนุฑุถ ุญุงูุฉ ุงูุชุธุงุฑ ุฃุซูุงุก ุฅุฑุณุงู ุงููููุฐุฌ.

- `useFormStatus` ุชูุฑุฌุน ุงูุญุงูุฉ ููููุฐุฌ ูุนูู `<form>`ุ ูุฐุง **ูุฌุจ ุชุนุฑูููุง ูุนูุตุฑ ูุฑุนู ูุนูุตุฑ `<form>`**.
- `useFormStatus` ูู ุฎุทุงู React ูุจุงูุชุงูู ูุฌุจ ุงุณุชุฎุฏุงูู ูู ูููู ุนููู.

```tsx filename="app/submit-button.tsx" switcher
'use client'

import { useFormStatus } from 'react-dom'

export function SubmitButton() {
  const { pending } = useFormStatus()

  return (
    <button type="submit" disabled={pending}>
      ุฅุถุงูุฉ
    </button>
  )
}
```

```jsx filename="app/submit-button.jsx" switcher
'use client'

import { useFormStatus } from 'react-dom'

export function SubmitButton() {
  const { pending } = useFormStatus()

  return (
    <button type="submit" disabled={pending}>
      ุฅุถุงูุฉ
    </button>
  )
}
```

ูููู ุจุนุฏ ุฐูู ุชุถููู `<SubmitButton />` ูู ุฃู ูููุฐุฌ:

```tsx filename="app/page.tsx" switcher
import { SubmitButton } from '@/app/submit-button'
import { createItem } from '@/app/actions'

// ูููู ุงูุฎุงุฏู
export default async function Home() {
  return (
    <form action={createItem}>
      <input type="text" name="field-name" />
      <SubmitButton />
    </form>
  )
}
```

```jsx filename="app/page.jsx" switcher
import { SubmitButton } from '@/app/submit-button'
import { createItem } from '@/app/actions'

// ูููู ุงูุฎุงุฏู
export default async function Home() {
  return (
    <form action={createItem}>
      <input type="text" name="field-name" />
      <SubmitButton />
    </form>
  )
}
```

#### ุงูุชุญูู ูู ุตุญุฉ ุงูุฎุงุฏู ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก

ููุตู ุจุงุณุชุฎุฏุงู ุงูุชุญูู ูู ุตุญุฉ HTML ูุซู `required` ู `type="email"` ููุชุญูู ุงูุฃุณุงุณู ูู ุตุญุฉ ุงููููุฐุฌ ุนูู ุฌุงูุจ ุงูุนููู.

ููุชุญูู ุงููุชูุฏู ูู ุตุญุฉ ุงูุฎุงุฏูุ ููููู ุงุณุชุฎุฏุงู ููุชุจุฉ ูุซู [zod](https://zod.dev/) ููุชุญูู ูู ุญููู ุงููููุฐุฌ ูุจู ุชุญููู ุงูุจูุงูุงุช:

```tsx filename="app/actions.ts" switcher
'use server'

import { z } from 'zod'

const schema = z.object({
  email: z.string({
    invalid_type_error: 'ุจุฑูุฏ ุฅููุชุฑููู ุบูุฑ ุตุงูุญ',
  }),
})

export default async function createUser(formData: FormData) {
  const validatedFields = schema.safeParse({
    email: formData.get('email'),
  })

  // ุงูุนูุฏุฉ ูุจูุฑูุง ุฅุฐุง ูุงูุช ุจูุงูุงุช ุงููููุฐุฌ ุบูุฑ ุตุงูุญุฉ
  if (!validatedFields.success) {
    return {
      errors: validatedFields.error.flatten().fieldErrors,
    }
  }

  // ุชุญููู ุงูุจูุงูุงุช
}
```

```jsx filename="app/actions.js" switcher
'use server'

import { z } from 'zod'

const schema = z.object({
  email: z.string({
    invalid_type_error: 'ุจุฑูุฏ ุฅููุชุฑููู ุบูุฑ ุตุงูุญ',
  }),
})

export default async function createsUser(formData) {
  const validatedFields = schema.safeParse({
    email: formData.get('email'),
  })

  // ุงูุนูุฏุฉ ูุจูุฑูุง ุฅุฐุง ูุงูุช ุจูุงูุงุช ุงููููุฐุฌ ุบูุฑ ุตุงูุญุฉ
  if (!validatedFields.success) {
    return {
      errors: validatedFields.error.flatten().fieldErrors,
    }
  }

  // ุชุญููู ุงูุจูุงูุงุช
}
```

ุจุนุฏ ุงูุชุญูู ูู ุตุญุฉ ุงูุญููู ุนูู ุงูุฎุงุฏูุ ููููู ุฅุฑุฌุงุน ูุงุฆู ูุงุจู ููุชุณูุณู ูู ุฅุฌุฑุงุกู ูุงุณุชุฎุฏุงู ุฎุทุงู React [`useFormState`](https://react.dev/reference/react-dom/hooks/useFormState) ูุนุฑุถ ุฑุณุงูุฉ ูููุณุชุฎุฏู.

- ุนู ุทุฑูู ุชูุฑูุฑ ุงูุฅุฌุฑุงุก ุฅูู `useFormState`ุ ูุชุบูุฑ ุชูููุน ุงูุฏุงูุฉ ููุฅุฌุฑุงุก ูุชููู ูุนููุฉ ุฌุฏูุฏุฉ `prevState` ุฃู `initialState` ูุฃูู ูุณูุทุฉ ููุง.
- `useFormState` ูู ุฎุทุงู React ูุจุงูุชุงูู ูุฌุจ ุงุณุชุฎุฏุงูู ูู ูููู ุนููู.

```tsx filename="app/actions.ts" switcher
'use server'

export async function createUser(prevState: any, formData: FormData) {
  // ...
  return {
    message: 'ุงูุฑุฌุงุก ุฅุฏุฎุงู ุจุฑูุฏ ุฅููุชุฑููู ุตุงูุญ',
  }
}
```

```jsx filename="app/actions.js" switcher
'use server'

export async function createUser(prevState, formData) {
  // ...
  return {
    message: 'ุงูุฑุฌุงุก ุฅุฏุฎุงู ุจุฑูุฏ ุฅููุชุฑููู ุตุงูุญ',
  }
}
```

ุซูุ ููููู ุชูุฑูุฑ ุฅุฌุฑุงุกู ุฅูู ุฎุทุงู `useFormState` ูุงุณุชุฎุฏุงู `state` ุงูููุฑุฌุนุฉ ูุนุฑุถ ุฑุณุงูุฉ ุฎุทุฃ.

```tsx filename="app/ui/signup.tsx" switcher
'use client'

import { useFormState } from 'react-dom'
import { createUser } from '@/app/actions'

const initialState = {
  message: '',
}

export function Signup() {
  const [state, formAction] = useFormState(createUser, initialState)

  return (
    <form action={formAction}>
      <label htmlFor="email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
      <input type="text" id="email" name="email" required />
      {/* ... */}
      <p aria-live="polite" className="sr-only">
        {state?.message}
      </p>
      <button>ุงุดุชุฑุงู</button>
    </form>
  )
}
```

```jsx filename="app/ui/signup.js" switcher
'use client'

import { useFormState } from 'react-dom'
import { createUser } from '@/app/actions'

const initialState = {
  message: '',
}

export function Signup() {
  const [state, formAction] = useFormState(createUser, initialState)

  return (
    <form action={formAction}>
      <label htmlFor="email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
      <input type="text" id="email" name="email" required />
      {/* ... */}
      <p aria-live="polite" className="sr-only">
        {state?.message}
      </p>
      <button>ุงุดุชุฑุงู</button>
    </form>
  )
}
```

> **ูุนูููุฉ ูููุฏุฉ:**
>
> - ูุจู ุชุญููู ุงูุจูุงูุงุชุ ูุฌุจ ุนููู ุฏุงุฆููุง ุงูุชุฃูุฏ ูู ุฃู ุงููุณุชุฎุฏู ูุฎูู ุฃูุถูุง ูุชูููุฐ ุงูุฅุฌุฑุงุก. ุฑุงุฌุน [ุงููุตุงุฏูุฉ ูุงูุชูููุถ](#authentication-and-authorization).

#### ุงูุชุญุฏูุซุงุช ุงููุชูุงุฆูุฉ

ููููู ุงุณุชุฎุฏุงู ุฎุทุงู React [`useOptimistic`](https://react.dev/reference/react/useOptimistic) ูุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุดูู ูุชูุงุฆู ูุจู ุงูุชูุงุก ุฅุฌุฑุงุก ุงูุฎุงุฏูุ ุจุฏูุงู ูู ุงูุชุธุงุฑ ุงูุฑุฏ:

```tsx filename="app/page.tsx" switcher
'use client'

import { useOptimistic } from 'react'
import { send } from './actions'

type Message = {
  message: string
}

export function Thread({ messages }: { messages: Message[] }) {
  const [optimisticMessages, addOptimisticMessage] = useOptimistic<
    Message[],
    string
  >(messages, (state, newMessage) => [...state, { message: newMessage }])

  return (
    <div>
      {optimisticMessages.map((m, k) => (
        <div key={k}>{m.message}</div>
      ))}
      <form
        action={async (formData: FormData) => {
          const message = formData.get('message')
          addOptimisticMessage(message)
          await send(message)
        }}
      >
        <input type="text" name="message" />
        <button type="submit">ุฅุฑุณุงู</button>
      </form>
    </div>
  )
}
```

```jsx filename="app/page.jsx" switcher
'use client'

import { useOptimistic } from 'react'
import { send } from './actions'

export function Thread({ messages }) {
  const [optimisticMessages, addOptimisticMessage] = useOptimistic(
    messages,
    (state, newMessage) => [...state, { message: newMessage }]
  )

  return (
    <div>
      {optimisticMessages.map((m) => (
        <div>{m.message}</div>
      ))}
      <form
        action={async (formData) => {
          const message = formData.get('message')
          addOptimisticMessage(message)
          await send(message)
        }}
      >
        <input type="text" name="message" />
        <button type="submit">ุฅุฑุณุงู</button>
      </form>
    </div>
  )
}
```

#### ุงูุนูุงุตุฑ ุงููุชุฏุงุฎูุฉ

ููููู ุงุณุชุฏุนุงุก ุฅุฌุฑุงุก ุฎุงุฏู ูู ุนูุงุตุฑ ูุชุฏุงุฎูุฉ ุฏุงุฎู `<form>` ูุซู `<button>`ุ ู`<input type="submit">`ุ ู`<input type="image">`. ุชูุจู ูุฐู ุงูุนูุงุตุฑ ุฎุงุตูุฉ `formAction` ุฃู [ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ](#event-handlers).

ูุฐุง ูููุฏ ูู ุงูุญุงูุงุช ุงูุชู ุชุฑุบุจ ูููุง ูู ุงุณุชุฏุนุงุก ุฅุฌุฑุงุกุงุช ุฎุงุฏู ูุชุนุฏุฏุฉ ุฏุงุฎู ูููุฐุฌ. ุนูู ุณุจูู ุงููุซุงูุ ููููู ุฅูุดุงุก ุนูุตุฑ `<button>` ูุญุฏุฏ ูุญูุธ ูุณูุฏุฉ ููุดูุฑ ุจุงูุฅุถุงูุฉ ุฅูู ูุดุฑู. ุฑุงุฌุน [ูุซุงุฆู React `<form>`](https://react.dev/reference/react-dom/components/form#handling-multiple-submission-types) ููุฒูุฏ ูู ุงููุนูููุงุช.

#### ุฅุฑุณุงู ุงููููุฐุฌ ุจุฑูุฌููุง

ููููู ุชุดุบูู ุฅุฑุณุงู ุงููููุฐุฌ ุจุงุณุชุฎุฏุงู ุทุฑููุฉ [`requestSubmit()`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/requestSubmit). ุนูู ุณุจูู ุงููุซุงูุ ุนูุฏูุง ูุถุบุท ุงููุณุชุฎุฏู ุนูู `โ` + `Enter`ุ ููููู ุงูุงุณุชูุงุน ูุญุฏุซ `onKeyDown`:

```tsx filename="app/entry.tsx" switcher
'use client'

export function Entry() {
  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {
    if (
      (e.ctrlKey || e.metaKey) &&
      (e.key === 'Enter' || e.key === 'NumpadEnter')
    ) {
      e.preventDefault()
      e.currentTarget.form?.requestSubmit()
    }
  }

  return (
    <div>
      <textarea name="entry" rows={20} required onKeyDown={handleKeyDown} />
    </div>
  )
}
```

```jsx filename="app/entry.jsx" switcher
'use client'

export function Entry() {
  const handleKeyDown = (e) => {
    if (
      (e.ctrlKey || e.metaKey) &&
      (e.key === 'Enter' || e.key === 'NumpadEnter')
    ) {
      e.preventDefault()
      e.currentTarget.form?.requestSubmit()
    }
  }

  return (
    <div>
      <textarea name="entry" rows={20} required onKeyDown={handleKeyDown} />
    </div>
  )
}
```

ุณูุคุฏู ูุฐุง ุฅูู ุชุดุบูู ุฅุฑุณุงู ุฃูุฑุจ ุนูุตุฑ `<form>` ุฃุจููุ ููุง ุณูุณุชุฏุนู ุฅุฌุฑุงุก ุงูุฎุงุฏู (Server Action).

### ุนูุงุตุฑ ุบูุฑ ุงูููุงุฐุฌ

ุจูููุง ููุดุงุน ุงุณุชุฎุฏุงู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ุฏุงุฎู ุนูุงุตุฑ `<form>`ุ ุฅูุง ุฃูู ูููู ุฃูุถูุง ุงุณุชุฏุนุงุคูุง ูู ุฃุฌุฒุงุก ุฃุฎุฑู ูู ุงูููุฏ ูุซู ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ ู `useEffect`.

#### ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ

ููููู ุงุณุชุฏุนุงุก ุฅุฌุฑุงุก ุฎุงุฏู ูู ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ ูุซู `onClick`. ุนูู ุณุจูู ุงููุซุงูุ ูุฒูุงุฏุฉ ุนุฏุฏ ุงูุฅุนุฌุงุจุงุช:

```tsx filename="app/like-button.tsx" switcher
'use client'

import { incrementLike } from './actions'
import { useState } from 'react'

export default function LikeButton({ initialLikes }: { initialLikes: number }) {
  const [likes, setLikes] = useState(initialLikes)

  return (
    <>
      <p>Total Likes: {likes}</p>
      <button
        onClick={async () => {
          const updatedLikes = await incrementLike()
          setLikes(updatedLikes)
        }}
      >
        Like
      </button>
    </>
  )
}
```

```jsx filename="app/like-button.js" switcher
'use client'

import { incrementLike } from './actions'
import { useState } from 'react'

export default function LikeButton({ initialLikes }) {
  const [likes, setLikes] = useState(initialLikes)

  return (
    <>
      <p>Total Likes: {likes}</p>
      <button
        onClick={async () => {
          const updatedLikes = await incrementLike()
          setLikes(updatedLikes)
        }}
      >
        Like
      </button>
    </>
  )
}
```

ูุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏูุ ููุตู ุจุงุณุชุฎุฏุงู ูุงุฌูุงุช ุจุฑูุฌุฉ ุชุทุจููุงุช React ุงูุฃุฎุฑู ูุซู [`useOptimistic`](https://react.dev/reference/react/useOptimistic) ู [`useTransition`](https://react.dev/reference/react/useTransition) ูุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุจู ุงูุชูุงุก ุชูููุฐ ุฅุฌุฑุงุก ุงูุฎุงุฏู ุนูู ุงูุฎุงุฏูุ ุฃู ูุฅุธูุงุฑ ุญุงูุฉ ุงูุชุธุงุฑ.

ููููู ุฃูุถูุง ุฅุถุงูุฉ ูุนุงูุฌุงุช ุฃุญุฏุงุซ ูุนูุงุตุฑ ุงููููุฐุฌุ ุนูู ุณุจูู ุงููุซุงูุ ูุญูุธ ุญูู ูููุฐุฌ ุนูุฏ `onChange`:

```tsx filename="app/ui/edit-post.tsx"
'use client'

import { publishPost, saveDraft } from './actions'

export default function EditPost() {
  return (
    <form action={publishPost}>
      <textarea
        name="content"
        onChange={async (e) => {
          await saveDraft(e.target.value)
        }}
      />
      <button type="submit">Publish</button>
    </form>
  )
}
```

ูู ุญุงูุงุช ูุซู ูุฐูุ ุญูุซ ูุฏ ูุชู ุชุดุบูู ุฃุญุฏุงุซ ูุชุนุฏุฏุฉ ุจุณุฑุนุฉุ ููุตู ุจุงุณุชุฎุฏุงู **ุชูููู ุงูุชุฑุฏุฏ (debouncing)** ูููุน ุงุณุชุฏุนุงุกุงุช ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ุบูุฑ ุงูุถุฑูุฑูุฉ.

#### `useEffect`

ููููู ุงุณุชุฎุฏุงู ุฎุทุงู React [`useEffect`](https://react.dev/reference/react/useEffect) ูุงุณุชุฏุนุงุก ุฅุฌุฑุงุก ุฎุงุฏู ุนูุฏ ุชุฑููุจ ุงููููู ุฃู ุชุบููุฑ ุชุจุนูุฉ. ูุฐุง ูููุฏ ููุชุญููุงุช ุงูุชู ุชุนุชูุฏ ุนูู ุฃุญุฏุงุซ ุนุงูููุฉ ุฃู ุชุญุชุงุฌ ุฅูู ุชุดุบูู ุชููุงุฆู. ุนูู ุณุจูู ุงููุซุงูุ `onKeyDown` ูุงุฎุชุตุงุฑุงุช ุงูุชุทุจููุ ุฎุทุงู ูุฑุงูุจุฉ ุงูุชูุงุทุน (intersection observer) ููุชูุฑูุฑ ุงููุงููุงุฆูุ ุฃู ุนูุฏ ุชุฑููุจ ุงููููู ูุชุญุฏูุซ ุนุฏุฏ ุงููุดุงูุฏุงุช:

```tsx filename="app/view-count.tsx" switcher
'use client'

import { incrementViews } from './actions'
import { useState, useEffect } from 'react'

export default function ViewCount({ initialViews }: { initialViews: number }) {
  const [views, setViews] = useState(initialViews)

  useEffect(() => {
    const updateViews = async () => {
      const updatedViews = await incrementViews()
      setViews(updatedViews)
    }

    updateViews()
  }, [])

  return <p>Total Views: {views}</p>
}
```

```jsx filename="app/view-count.js" switcher
'use client'

import { incrementViews } from './actions'
import { useState, useEffect } from 'react'

export default function ViewCount({ initialViews }: { initialViews: number }) {
  const [views, setViews] = useState(initialViews)

  useEffect(() => {
    const updateViews = async () => {
      const updatedViews = await incrementViews()
      setViews(updatedViews)
    }

    updateViews()
  }, [])

  return <p>Total Views: {views}</p>
}
```

ุชุฐูุฑ ูุฑุงุนุงุฉ [ุณููููุงุช ููุญุงุฐูุฑ](https://react.dev/reference/react/useEffect#caveats) `useEffect`.

### ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

ุนูุฏ ุญุฏูุซ ุฎุทุฃุ ุณูุชู ุงูุชูุงุทู ุจูุงุณุทุฉ [`error.js`](/docs/app/building-your-application/routing/error-handling) ุงูุฃูุฑุจ ุฃู ุญุฏูุฏ `<Suspense>` ุนูู ุงูุนููู. ููุตู ุจุงุณุชุฎุฏุงู `try/catch` ูุฅุฑุฌุงุน ุงูุฃุฎุทุงุก ููุชู ูุนุงูุฌุชูุง ุจูุงุณุทุฉ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฎุงุตุฉ ุจู.

ุนูู ุณุจูู ุงููุซุงูุ ูุฏ ูุชุนุงูู ุฅุฌุฑุงุก ุงูุฎุงุฏู ุงูุฎุงุต ุจู ูุน ุงูุฃุฎุทุงุก ูู ุฅูุดุงุก ุนูุตุฑ ุฌุฏูุฏ ุนู ุทุฑูู ุฅุฑุฌุงุน ุฑุณุงูุฉ:

```ts filename="app/actions.ts" switcher
'use server'

export async function createTodo(prevState: any, formData: FormData) {
  try {
    // Mutate data
  } catch (e) {
    throw new Error('Failed to create task')
  }
}
```

```js filename="app/actions.js" switcher
'use server'

export async function createTodo(prevState, formData) {
  try {
    //  Mutate data
  } catch (e) {
    throw new Error('Failed to create task')
  }
}
```

> **ูุนูููุฉ ุฌูุฏุฉ:**
>
> - ุจุงูุฅุถุงูุฉ ุฅูู ุฅููุงุก ุงูุฎุทุฃุ ููููู ุฃูุถูุง ุฅุฑุฌุงุน ูุงุฆู ููุชู ูุนุงูุฌุชู ุจูุงุณุทุฉ `useFormState`. ุฑุงุฌุน [ุงูุชุญูู ูู ุตุญุฉ ุงูุฎุงุฏู ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก](#server-side-validation-and-error-handling).

### ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูุจูุงูุงุช

ููููู ุฅุนุงุฏุฉ ุงูุชุญูู ูู [ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูู Next.js](/docs/app/building-your-application/caching) ุฏุงุฎู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ุงูุฎุงุตุฉ ุจู ุจุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช [`revalidatePath`](/docs/app/api-reference/functions/revalidatePath):

```ts filename="app/actions.ts" switcher
'use server'

import { revalidatePath } from 'next/cache'

export async function createPost() {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidatePath('/posts')
}
```

```js filename="app/actions.js" switcher
'use server'

import { revalidatePath } from 'next/cache'

export async function createPost() {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidatePath('/posts')
}
```

ุฃู ุฅุจุทุงู ุฌูุจ ุจูุงูุงุช ูุญุฏุฏ ุจุนูุงูุฉ ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ุจุงุณุชุฎุฏุงู [`revalidateTag`](/docs/app/api-reference/functions/revalidateTag):

```ts filename="app/actions.ts" switcher
'use server'

import { revalidateTag } from 'next/cache'

export async function createPost() {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidateTag('posts')
}
```

```js filename="app/actions.js" switcher
'use server'

import { revalidateTag } from 'next/cache'

export async function createPost() {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidateTag('posts')
}
```

### ุฅุนุงุฏุฉ ุงูุชูุฌูู

ุฅุฐุง ููุช ุชุฑุบุจ ูู ุชูุฌูู ุงููุณุชุฎุฏู ุฅูู ูุณุงุฑ ูุฎุชูู ุจุนุฏ ุงูุชูุงู ุฅุฌุฑุงุก ุงูุฎุงุฏูุ ููููู ุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช [`redirect`](/docs/app/api-reference/functions/redirect). ูุฌุจ ุงุณุชุฏุนุงุก `redirect` ุฎุงุฑุฌ ูุชูุฉ `try/catch`:

```ts filename="app/actions.ts" switcher
'use server'

import { redirect } from 'next/navigation'
import { revalidateTag } from 'next/cache'

export async function createPost(id: string) {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidateTag('posts') // ุชุญุฏูุซ ุงูููุดูุฑุงุช ุงููุฎุฒูุฉ ูุคูุชูุง
  redirect(`/post/${id}`) // ุงูุงูุชูุงู ุฅูู ุตูุญุฉ ุงูููุดูุฑ ุงูุฌุฏูุฏุฉ
}
```

```js filename="app/actions.js" switcher
'use server'

import { redirect } from 'next/navigation'
import { revalidateTag } from 'next/cache'

export async function createPost(id) {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidateTag('posts') // ุชุญุฏูุซ ุงูููุดูุฑุงุช ุงููุฎุฒูุฉ ูุคูุชูุง
  redirect(`/post/${id}`) // ุงูุงูุชูุงู ุฅูู ุตูุญุฉ ุงูููุดูุฑ ุงูุฌุฏูุฏุฉ
}
```

### ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท (Cookies)

ููููู `ุงูุญุตูู ุนูู`ุ `ุชุนููู`ุ ู`ุญุฐู` ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท ุฏุงุฎู ุฅุฌุฑุงุก ุฎุงุฏู ุจุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช [`cookies`](/docs/app/api-reference/functions/cookies):

```ts filename="app/actions.ts" switcher
'use server'

import { cookies } from 'next/headers'

export async function exampleAction() {
  // ุงูุญุตูู ุนูู ููู ุชุนุฑูู ุงูุงุฑุชุจุงุท
  const value = cookies().get('name')?.value

  // ุชุนููู ููู ุชุนุฑูู ุงูุงุฑุชุจุงุท
  cookies().set('name', 'Delba')

  // ุญุฐู ููู ุชุนุฑูู ุงูุงุฑุชุจุงุท
  cookies().delete('name')
}
```

```js filename="app/actions.js" switcher
'use server'

import { cookies } from 'next/headers'

export async function exampleAction() {
  // ุงูุญุตูู ุนูู ููู ุชุนุฑูู ุงูุงุฑุชุจุงุท
  const value = cookies().get('name')?.value

  // ุชุนููู ููู ุชุนุฑูู ุงูุงุฑุชุจุงุท
  cookies().set('name', 'Delba')

  // ุญุฐู ููู ุชุนุฑูู ุงูุงุฑุชุจุงุท
  cookies().delete('name')
}
```

ุฑุงุฌุน [ุฃูุซูุฉ ุฅุถุงููุฉ](/docs/app/api-reference/functions/cookies#deleting-cookies) ูุญุฐู ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท ูู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู.

## ุงูุฃูุงู

### ุงููุตุงุฏูุฉ ูุงูุชูููุถ

ูุฌุจ ูุนุงููุฉ ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ููุง ูู ูุงูุช ููุงุท ููุงูุฉ API ุนุงูุฉุ ูุงูุชุฃูุฏ ูู ุฃู ุงููุณุชุฎุฏู ูุฎูู ูุชูููุฐ ุงูุฅุฌุฑุงุก. ุนูู ุณุจูู ุงููุซุงู:

```tsx filename="app/actions.ts"
'use server'

import { auth } from './lib'

export function addItem() {
  const { user } = auth()
  if (!user) {
    throw new Error('You must be signed in to perform this action')
  }

  // ...
}
```

### ุงูุฅุบูุงูุงุช ูุงูุชุดููุฑ

ูุคุฏู ุชุนุฑูู ุฅุฌุฑุงุก ุฎุงุฏู ุฏุงุฎู ูููู ุฅูู ุฅูุดุงุก [ุฅุบูุงู (closure)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures) ุญูุซ ูููู ููุฅุฌุฑุงุก ุญู ุงููุตูู ุฅูู ูุทุงู ุงููุธููุฉ ุงูุฎุงุฑุฌูุฉ. ุนูู ุณุจูู ุงููุซุงูุ ูุฏู ุฅุฌุฑุงุก `publish` ุญู ุงููุตูู ุฅูู ุงููุชุบูุฑ `publishVersion`:

```tsx filename="app/page.tsx" switcher
export default function Page() {
  const publishVersion = await getLatestVersion();

  async function publish(formData: FormData) {
    "use server";
    if (publishVersion !== await getLatestVersion()) {
      throw new Error('The version has changed since pressing publish');
    }
    ...
  }

  return <button action={publish}>Publish</button>;
}
```

```jsx filename="app/page.js" switcher
export default function Page() {
  const publishVersion = await getLatestVersion();

  async function publish() {
    "use server";
    if (publishVersion !== await getLatestVersion()) {
      throw new Error('The version has changed since pressing publish');
    }
    ...
  }

  return <button action={publish}>Publish</button>;
}
```

ุชููู ุงูุฅุบูุงูุงุช ูููุฏุฉ ุนูุฏูุง ุชุญุชุงุฌ ุฅูู ุงูุชูุงุท ููุทุฉ ููุจูุงูุงุช (ูุซู `publishVersion`) ูู ููุช ุงูุนุฑุถ ุจุญูุซ ูููู ุงุณุชุฎุฏุงููุง ูุงุญููุง ุนูุฏ ุงุณุชุฏุนุงุก ุงูุฅุฌุฑุงุก.

ููุน ุฐููุ ูุญุฏูุซ ูุฐุงุ ูุชู ุฅุฑุณุงู ุงููุชุบูุฑุงุช ุงูููุชูุทุฉ ุฅูู ุงูุนููู ูุงูุนูุฏุฉ ุฅูู ุงูุฎุงุฏู ุนูุฏ ุงุณุชุฏุนุงุก ุงูุฅุฌุฑุงุก. ูููุน ุชุนุฑุถ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ ููุนูููุ ูููู Next.js ุชููุงุฆููุง ุจุชุดููุฑ ุงููุชุบูุฑุงุช ุงููุบููุฉ. ูุชู ุฅูุดุงุก ููุชุงุญ ุฎุงุต ุฌุฏูุฏ ููู ุฅุฌุฑุงุก ูู ูู ูุฑุฉ ูุชู ูููุง ุจูุงุก ุชุทุจูู Next.js. ูุฐุง ูุนูู ุฃูู ูููู ุงุณุชุฏุนุงุก ุงูุฅุฌุฑุงุกุงุช ููุท ูุจูุงุก ูุญุฏุฏ.

> **ูุนูููุฉ ุฌูุฏุฉ:** ูุง ููุตู ุจุงูุงุนุชูุงุฏ ุนูู ุงูุชุดููุฑ ูุญุฏู ูููุน ุชุนุฑุถ ุงูููู ุงูุญุณุงุณุฉ ููุนููู. ุจุฏูุงู ูู ุฐููุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู [ูุงุฌูุงุช ุจุฑูุฌุฉ ุชุทุจููุงุช React ููุชุฏููุณ (taint APIs)](/docs/app/building-your-application/data-fetching/patterns#preventing-sensitive-data-from-being-exposed-to-the-client) ูููุน ุจูุงูุงุช ูุนููุฉ ูู ุฅุฑุณุงููุง ุฅูู ุงูุนููู ุจุดูู ุงุณุชุจุงูู.

### ุชุฌุงูุฒ ููุงุชูุญ ุงูุชุดููุฑ (ูุชูุฏู)

ุนูุฏ ุงุณุชุถุงูุฉ ุชุทุจูู Next.js ุงูุฎุงุต ุจู ุนูู ุฎูุงุฏู ูุชุนุฏุฏุฉุ ูุฏ ููุชูู ูู ูุซูู ุฎุงุฏู ุจููุชุงุญ ุชุดููุฑ ูุฎุชููุ ููุง ูุคุฏู ุฅูู ุชูุงูุถุงุช ูุญุชููุฉ.

ูุชุฎููู ูุฐุงุ ููููู ุชุฌุงูุฒ ููุชุงุญ ุงูุชุดููุฑ ุจุงุณุชุฎุฏุงู ูุชุบูุฑ ุงูุจูุฆุฉ `process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY`. ูุถูู ุชุญุฏูุฏ ูุฐุง ุงููุชุบูุฑ ุฃู ููุงุชูุญ ุงูุชุดููุฑ ุงูุฎุงุตุฉ ุจู ุซุงุจุชุฉ ุนุจุฑ ุงูุจูุงุกุงุชุ ูุฌููุน ูุซููุงุช ุงูุฎุงุฏู ุชุณุชุฎุฏู ููุณ ุงูููุชุงุญ.

ูุฐู ุญุงูุฉ ุงุณุชุฎุฏุงู ูุชูุฏูุฉ ุญูุซ ูููู ุณููู ุงูุชุดููุฑ ุงููุชุณู ุนุจุฑ ุนูููุงุช ุงููุดุฑ ุงููุชุนุฏุฏุฉ ุฃูุฑูุง ุจุงูุบ ุงูุฃูููุฉ ูุชุทุจููู. ูุฌุจ ุนููู ูุฑุงุนุงุฉ ููุงุฑุณุงุช ุงูุฃูุงู ุงูููุงุณูุฉ ูุซู ุชุฏููุฑ ุงูููุงุชูุญ ูุงูุชูููุน.

> **ูุนูููุฉ ุฌูุฏุฉ:** ูุชู ุงูุชุนุงูู ูุน ูุฐุง ุชููุงุฆููุง ูู ุชุทุจููุงุช Next.js ุงูููุฒุนุฉ ุนูู Vercel.

### ุงูุฃุตูู ุงููุณููุญ ุจูุง (ูุชูุฏู)

ูุธุฑูุง ูุฃูู ูููู ุงุณุชุฏุนุงุก ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ูู ุนูุตุฑ `<form>`ุ ููุฐุง ูุนุฑุถูุง ููุฌูุงุช [CSRF](https://developer.mozilla.org/en-US/docs/Glossary/CSRF).

ุฎูู ุงูููุงููุณุ ุชุณุชุฎุฏู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ุทุฑููุฉ `POST`ุ ููุฐู ุงูุทุฑููุฉ HTTP ุงููุญูุฏุฉ ุงููุณููุญ ุจูุง ูุงุณุชุฏุนุงุฆูุง. ูุฐุง ูููุน ูุนุธู ููุงุท ุงูุถุนู CSRF ูู ุงููุชุตูุญุงุช ุงูุญุฏูุซุฉุ ุฎุงุตุฉ ูุน ููู [ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท SameSite](https://web.dev/articles/samesite-cookies-explained) ูู ุงูุงูุชุฑุงุถูุฉ.

ูุญูุงูุฉ ุฅุถุงููุฉุ ุชูุงุฑู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ูู Next.js ุฃูุถูุง [ุฑุฃุณ ุงูุฃุตู (Origin header)](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin) ุจู[ุฑุฃุณ ุงููุถูู (Host header)](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Host) (ุฃู `X-Forwarded-Host`). ุฅุฐุง ูู ุชุชุทุงุจู ูุฐูุ ุณูุชู ุฅุญุจุงุท ุงูุทูุจ. ุจูุนูู ุขุฎุฑุ ูููู ุงุณุชุฏุนุงุก ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู ููุท ุนูู ููุณ ุงููุถูู ุงูุฐู ูุณุชุถูู ุงูุตูุญุฉ.

ุจุงููุณุจุฉ ููุชุทุจููุงุช ุงููุจูุฑุฉ ุงูุชู ุชุณุชุฎุฏู ูููุงุก ุนูุณููู ุฃู ุจูู ุฎูููุฉ ูุชุนุฏุฏุฉ ุงูุทุจูุงุช (ุญูุซ ูุฎุชูู ุฎุงุฏู API ุนู ูุทุงู ุงูุฅูุชุงุฌ)ุ ูููุตู ุจุงุณุชุฎุฏุงู ุฎูุงุฑ ุงูุชูููู [`serverActions.allowedOrigins`](/docs/app/api-reference/next-config-js/serverActions) ูุชุญุฏูุฏ ูุงุฆูุฉ ุจุงูุฃุตูู ุงูุขููุฉ. ููุจู ุงูุฎูุงุฑ ูุตูููุฉ ูู ุงูุณูุงุณู.

```js filename="next.config.js"
/** @type {import('next').NextConfig} */
module.exports = {
  experimental: {
    serverActions: {
      allowedOrigins: ['my-proxy.com', '*.my-proxy.com'],
    },
  },
}
```

ุชุนุฑู ุนูู ุงููุฒูุฏ ุญูู [ุงูุฃูุงู ูุฅุฌุฑุงุกุงุช ุงูุฎุงุฏู](https://nextjs.org/blog/security-nextjs-server-components-actions).

## ููุงุฑุฏ ุฅุถุงููุฉ

ููุฒูุฏ ูู ุงููุนูููุงุช ุญูู ุฅุฌุฑุงุกุงุช ุงูุฎุงุฏูุ ุฑุงุฌุน ูุซุงุฆู React ุงูุชุงููุฉ:

- [`"use server"`](https://react.dev/reference/react/use-server)
- [`<form>`](https://react.dev/reference/react-dom/components/form)
- [`useFormStatus`](https://react.dev/reference/react-dom/hooks/useFormStatus)
- [`useFormState`](https://react.dev/reference/react-dom/hooks/useFormState)
- [`useOptimistic`](https://react.dev/reference/react/useOptimistic)
