---
source-updated-at: 2025-05-29T18:05:49.000Z
translation-updated-at: 2025-06-02T19:44:51.732Z
title: Configuration de votre base de donn√©es
headline: Routeur d\'application - Configuration de votre base de donn√©es
description: Configurez une base de donn√©es pour votre application et initialisez-la avec des donn√©es de d√©part.
image: >-
  https://nextjs.org/api/learn-og?title=Setting%20Up%20Your%20Database&amp;chapter=6
---

Avant de pouvoir continuer √† travailler sur votre tableau de bord, vous aurez besoin de donn√©es. Dans ce chapitre, vous allez configurer une base de donn√©es PostgreSQL √† partir d'une des [int√©grations du marketplace Vercel](https://vercel.com/marketplace?category=databases). Si vous √™tes d√©j√† familier avec PostgreSQL et pr√©f√©rez utiliser votre propre fournisseur de base de donn√©es, vous pouvez sauter ce chapitre et la configurer vous-m√™me. Sinon, continuons !

[Cr√©er un d√©p√¥t GitHub](#create-a-github-repository)
---------------------------------------------------------

Pour commencer, poussons votre d√©p√¥t vers GitHub si ce n'est pas d√©j√† fait. Cela facilitera la configuration de votre base de donn√©es et le d√©ploiement.

Si vous avez besoin d'aide pour configurer votre d√©p√¥t, consultez [ce guide sur GitHub](https://help.github.com/en/github/getting-started-with-github/create-a-repo).

> **Bon √† savoir :**
> 
> *   Vous pouvez √©galement utiliser d'autres fournisseurs git comme GitLab ou Bitbucket.
> *   Si vous d√©butez avec GitHub, nous recommandons l'[application GitHub Desktop](https://desktop.github.com/) pour un flux de d√©veloppement simplifi√©.

[Cr√©er un compte Vercel](#create-a-vercel-account)
---------------------------------------------------

Visitez [vercel.com/signup](https://vercel.com/signup) pour cr√©er un compte. Choisissez le plan gratuit "hobby". S√©lectionnez **Continuer avec GitHub** pour connecter vos comptes GitHub et Vercel.

[Connecter et d√©ployer votre projet](#connect-and-deploy-your-project)
-------------------------------------------------------------------

Ensuite, vous serez redirig√© vers cet √©cran o√π vous pourrez s√©lectionner et **importer** le d√©p√¥t GitHub que vous venez de cr√©er :

<Image
  alt="Capture d'√©cran du tableau de bord Vercel, montrant l'√©cran d'importation de projet avec une liste des d√©p√¥ts GitHub de l'utilisateur"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/import-git-repo.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/import-git-repo.png"
  width="960"
  height="511"
/>

Nommez votre projet et cliquez sur **D√©ployer**.

<Image
  alt="√âcran de d√©ploiement montrant le champ de nom du projet et un bouton de d√©ploiement"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/configure-project.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/configure-project.png"
  width="960"
  height="491"
/>

Hourra ! üéâ Votre projet est maintenant d√©ploy√©.

<Image
  alt="√âcran de vue d'ensemble du projet montrant le nom du projet, le domaine et l'√©tat du d√©ploiement"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/deployed-project.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/deployed-project.png"
  width="960"
  height="479"
/>

En connectant votre d√©p√¥t GitHub, chaque fois que vous pousserez des modifications vers la branche **main**, Vercel red√©ploiera automatiquement votre application sans configuration n√©cessaire. Lors de l'ouverture de pull requests, vous aurez √©galement acc√®s √† des [URLs de pr√©visualisation instantan√©e](https://vercel.com/docs/deployments/environments#preview-environment-pre-production#preview-urls) qui vous permettront de d√©tecter les erreurs de d√©ploiement t√¥t et de partager un aper√ßu de votre projet avec les membres de l'√©quipe pour obtenir des retours.

[Cr√©er une base de donn√©es Postgres](#create-a-postgres-database)
---------------------------------------------------------

Ensuite, pour configurer une base de donn√©es, cliquez sur **Continuer vers le tableau de bord** et s√©lectionnez l'onglet **Stockage** depuis votre tableau de bord de projet. S√©lectionnez **Cr√©er une base de donn√©es**. Selon la date de cr√©ation de votre compte Vercel, vous pourriez voir des options comme Neon ou Supabase. Choisissez votre fournisseur pr√©f√©r√© et cliquez sur **Continuer**.

<Image
  alt="√âcran Connecter un stockage montrant l'option Postgres avec KV, Blob et Edge Config"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/create-database.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/create-database.png"
  width="960"
  height="513"
/>

Choisissez votre r√©gion et votre plan de stockage, si n√©cessaire. La [r√©gion par d√©faut](https://vercel.com/docs/functions/configuring-functions/region) pour tous les projets Vercel est **Washington D.C (iad1)**, et nous recommandons de choisir celle-ci si disponible pour r√©duire la [latence](https://developer.mozilla.org/en-US/docs/Web/Performance/Understanding_latency) des requ√™tes de donn√©es.

<Image
  alt="Modal de cr√©ation de base de donn√©es montrant le nom de la base de donn√©es et la r√©gion"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/database-region.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/database-region.png"
  width="960"
  height="513"
/>

Une fois connect√©, naviguez vers l'onglet `.env.local`, cliquez sur **Afficher le secret** et **Copier l'extrait**. Assurez-vous de r√©v√©ler les secrets avant de les copier.

<Image
  alt="L'onglet .env.local montrant les secrets cach√©s de la base de donn√©es"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/database-dashboard.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/database-dashboard.png"
  width="960"
  height="358"
/>

Naviguez vers votre √©diteur de code et renommez le fichier `.env.example` en **`.env`**. Collez-y le contenu copi√© depuis Vercel.

> **Important :** Allez dans votre fichier `.gitignore` et assurez-vous que `.env` est dans les fichiers ignor√©s pour √©viter que vos secrets de base de donn√©es ne soient expos√©s lorsque vous poussez vers GitHub.

[Initialiser votre base de donn√©es](#seed-your-database)
-----------------------------------------

Maintenant que votre base de donn√©es a √©t√© cr√©√©e, initialisons-la avec des donn√©es de d√©part.

Nous avons inclus une API accessible depuis votre navigateur, qui ex√©cutera un script d'initialisation pour peupler la base de donn√©es avec un jeu de donn√©es initial.

Le script utilise **SQL** pour cr√©er les tables, et les donn√©es du fichier `placeholder-data.ts` pour les remplir apr√®s leur cr√©ation.

Assurez-vous que votre serveur de d√©veloppement local est en cours d'ex√©cution avec `pnpm run dev` et naviguez vers [`localhost:3000/seed`](http://localhost:3000/seed) dans votre navigateur. Une fois termin√©, vous verrez un message "Base de donn√©es initialis√©e avec succ√®s" dans le navigateur. Une fois termin√©, vous pouvez supprimer ce fichier.

> **D√©pannage :**
> 
> *   Assurez-vous de r√©v√©ler vos secrets de base de donn√©es avant de les copier dans votre fichier `.env`.
> *   Le script utilise `bcrypt` pour hacher les mots de passe des utilisateurs. Si `bcrypt` n'est pas compatible avec votre environnement, vous pouvez mettre √† jour le script pour utiliser [`bcryptjs`](https://www.npmjs.com/package/bcryptjs) √† la place.
> *   Si vous rencontrez des probl√®mes lors de l'initialisation de votre base de donn√©es et souhaitez r√©ex√©cuter le script, vous pouvez supprimer les tables existantes en ex√©cutant `DROP TABLE nomdelatable` dans votre interface de requ√™te de base de donn√©es. Voir la section [ex√©cution de requ√™tes](#executing-queries) ci-dessous pour plus de d√©tails. Mais soyez prudent, cette commande supprimera les tables et toutes leurs donn√©es. C'est acceptable pour cette application exemple puisque vous travaillez avec des donn√©es factices, mais vous ne devriez pas ex√©cuter cette commande dans une application en production.

[Ex√©cution de requ√™tes](#executing-queries)
---------------------------------------

Ex√©cutons une requ√™te pour nous assurer que tout fonctionne comme pr√©vu. Nous utiliserons un autre gestionnaire de route, `app/query/route.ts`, pour interroger la base de donn√©es. Dans ce fichier, vous trouverez une fonction `listInvoices()` qui contient la requ√™te SQL suivante.

```
SELECT invoices.amount, customers.name
FROM invoices
JOIN customers ON invoices.customer_id = customers.id
WHERE invoices.amount = 666;
```

D√©commentez le fichier, supprimez le bloc `Response.json()`, et naviguez vers [`localhost:3000/query`](http://localhost:3000/query) dans votre navigateur. Vous devriez voir qu'un `montant` de facture et un `nom` sont retourn√©s.