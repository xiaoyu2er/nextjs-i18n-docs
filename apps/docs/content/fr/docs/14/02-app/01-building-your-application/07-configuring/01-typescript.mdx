---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-06-06T17:15:03.917Z
title: TypeScript
description: Next.js offre une exp√©rience de d√©veloppement ax√©e sur TypeScript pour construire votre application React.
---

{/* Le contenu de ce document est partag√© entre le routeur App et Pages. Vous pouvez utiliser le composant `<PagesOnly>Contenu</PagesOnly>` pour ajouter du contenu sp√©cifique au routeur Pages. Tout contenu partag√© ne doit pas √™tre encapsul√© dans un composant. */}

Next.js offre une exp√©rience de d√©veloppement ax√©e sur TypeScript pour construire votre application React.

Il inclut un support int√©gr√© de TypeScript pour installer automatiquement les packages n√©cessaires et configurer les param√®tres appropri√©s.

<AppOnly>

Ainsi qu'un [Plugin TypeScript](#typescript-plugin) pour votre √©diteur.

> **üé• Regarder :** D√©couvrez le plugin TypeScript int√©gr√© ‚Üí [YouTube (3 minutes)](https://www.youtube.com/watch?v=pqMqn9fKEf8)

</AppOnly>

## Nouveaux projets

`create-next-app` inclut d√©sormais TypeScript par d√©faut.

```bash filename="Terminal"
npx create-next-app@latest
```

## Projets existants

Ajoutez TypeScript √† votre projet en renommant un fichier en `.ts` / `.tsx`. Ex√©cutez `next dev` et `next build` pour installer automatiquement les d√©pendances n√©cessaires et ajouter un fichier `tsconfig.json` avec les options de configuration recommand√©es.

Si vous aviez d√©j√† un fichier `jsconfig.json`, copiez l'option `paths` du compilateur depuis l'ancien `jsconfig.json` vers le nouveau `tsconfig.json`, puis supprimez l'ancien fichier `jsconfig.json`.

<AppOnly>

## Plugin TypeScript

Next.js inclut un plugin TypeScript personnalis√© et un v√©rificateur de types, que VSCode et d'autres √©diteurs de code peuvent utiliser pour une v√©rification de types avanc√©e et une auto-compl√©tion.

Vous pouvez activer le plugin dans VS Code en :

1. Ouvrant la palette de commandes (`Ctrl/‚åò` + `Shift` + `P`)
2. Cherchant "TypeScript: Select TypeScript Version"
3. S√©lectionnant "Use Workspace Version"

<Image
  alt="Palette de commandes TypeScript"
  srcLight="/docs/light/typescript-command-palette.png"
  srcDark="/docs/dark/typescript-command-palette.png"
  width="1600"
  height="637"
/>

Maintenant, lors de l'√©dition de fichiers, le plugin personnalis√© sera activ√©. Lors de l'ex√©cution de `next build`, le v√©rificateur de types personnalis√© sera utilis√©.

### Fonctionnalit√©s du plugin

Le plugin TypeScript peut aider avec :

- Un avertissement si des valeurs invalides pour les [options de configuration de segment](/docs/app/api-reference/file-conventions/route-segment-config) sont pass√©es.
- L'affichage des options disponibles et de la documentation en contexte.
- La v√©rification que la directive `use client` est utilis√©e correctement.
- La v√©rification que les hooks clients (comme `useState`) ne sont utilis√©s que dans les composants clients.

> **Bon √† savoir :** D'autres fonctionnalit√©s seront ajout√©es √† l'avenir.

</AppOnly>

## Version minimale de TypeScript

Il est fortement recommand√© d'utiliser au moins la version `v4.5.2` de TypeScript pour b√©n√©ficier de fonctionnalit√©s syntaxiques comme les [modificateurs de type sur les noms d'import](https://devblogs.microsoft.com/typescript/announcing-typescript-4-5/#type-on-import-names) et les [am√©liorations de performance](https://devblogs.microsoft.com/typescript/announcing-typescript-4-5/#real-path-sync-native).

<AppOnly>

## Liens typ√©s statiquement

Next.js peut typer statiquement les liens pour pr√©venir les fautes de frappe et autres erreurs lors de l'utilisation de `next/link`, am√©liorant ainsi la s√©curit√© des types lors de la navigation entre les pages.

Pour activer cette fonctionnalit√©, `experimental.typedRoutes` doit √™tre activ√© et le projet doit utiliser TypeScript.

```js filename="next.config.js"
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    typedRoutes: true,
  },
}

module.exports = nextConfig
```

Next.js g√©n√©rera une d√©finition de lien dans `.next/types` qui contient des informations sur toutes les routes existantes dans votre application, que TypeScript peut ensuite utiliser pour fournir des retours dans votre √©diteur sur les liens invalides.

Actuellement, le support exp√©rimental inclut tout litt√©ral de cha√Æne, y compris les segments dynamiques. Pour les cha√Ænes non litt√©rales, vous devez actuellement caster manuellement le `href` avec `as Route` :

```tsx
import type { Route } from 'next';
import Link from 'next/link'

// Aucune erreur TypeScript si href est une route valide
<Link href="/about" />
<Link href="/blog/nextjs" />
<Link href={`/blog/${slug}`} />
<Link href={('/blog' + slug) as Route} />

// Erreurs TypeScript si href n'est pas une route valide
<Link href="/aboot" />
```

Pour accepter `href` dans un composant personnalis√© encapsulant `next/link`, utilisez un g√©n√©rique :

```tsx
import type { Route } from 'next'
import Link from 'next/link'

function Card<T extends string>({ href }: { href: Route<T> | URL }) {
  return (
    <Link href={href}>
      <div>Ma Carte</div>
    </Link>
  )
}
```

> **Comment √ßa marche ?**
>
> Lors de l'ex√©cution de `next dev` ou `next build`, Next.js g√©n√®re un fichier `.d.ts` cach√© dans `.next` qui contient des informations sur toutes les routes existantes dans votre application (toutes les routes valides comme type `href` de `Link`). Ce fichier `.d.ts` est inclus dans `tsconfig.json` et le compilateur TypeScript v√©rifiera ce `.d.ts` et fournira des retours dans votre √©diteur sur les liens invalides.

## S√©curit√© des types de bout en bout

Le routeur App de Next.js offre une **s√©curit√© des types am√©lior√©e**. Cela inclut :

1. **Aucune s√©rialisation des donn√©es entre la fonction de r√©cup√©ration et la page** : Vous pouvez `fetch` directement dans les composants, layouts et pages sur le serveur. Ces donn√©es _n'ont pas_ besoin d'√™tre s√©rialis√©es (converties en cha√Æne) pour √™tre pass√©es c√¥t√© client pour consommation dans React. Au lieu de cela, puisque `app` utilise des composants serveur par d√©faut, nous pouvons utiliser des valeurs comme `Date`, `Map`, `Set`, et plus sans √©tapes suppl√©mentaires. Auparavant, vous deviez typer manuellement la fronti√®re entre serveur et client avec des types sp√©cifiques √† Next.js.
2. **Flux de donn√©es simplifi√© entre composants** : Avec la suppression de `_app` en faveur des layouts racine, il est maintenant plus facile de visualiser le flux de donn√©es entre composants et pages. Auparavant, les donn√©es circulant entre les `pages` individuelles et `_app` √©taient difficiles √† typer et pouvaient introduire des bugs d√©routants. Avec la [r√©cup√©ration de donn√©es colocalis√©e](/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating) dans le routeur App, ce n'est plus un probl√®me.

La [R√©cup√©ration de donn√©es dans Next.js](/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating) offre d√©sormais une s√©curit√© des types aussi proche que possible de bout en bout sans √™tre prescriptif quant √† votre choix de base de donn√©es ou de fournisseur de contenu.

Nous pouvons typer les donn√©es de r√©ponse comme vous vous y attendriez avec TypeScript normal. Par exemple :

```tsx filename="app/page.tsx"
async function getData() {
  const res = await fetch('https://api.example.com/...')
  // La valeur de retour n'est *pas* s√©rialis√©e
  // Vous pouvez retourner Date, Map, Set, etc.
  return res.json()
}

export default async function Page() {
  const name = await getData()

  return '...'
}
```

Pour une s√©curit√© des types _compl√®te_ de bout en bout, cela n√©cessite √©galement que votre base de donn√©es ou fournisseur de contenu supporte TypeScript. Cela peut √™tre via l'utilisation d'un [ORM](https://fr.wikipedia.org/wiki/Mapping_objet-relationnel) ou d'un constructeur de requ√™tes typ√©.

## Erreur TypeScript avec les composants serveur asynchrones

Pour utiliser un composant serveur `async` avec TypeScript, assurez-vous d'utiliser TypeScript `5.1.3` ou sup√©rieur et `@types/react` `18.2.8` ou sup√©rieur.

Si vous utilisez une version plus ancienne de TypeScript, vous pourriez voir une erreur de type `'Promise<Element>' is not a valid JSX element`. Mettre √† jour vers la derni√®re version de TypeScript et `@types/react` devrait r√©soudre ce probl√®me.

## Passage de donn√©es entre composants serveur et client

Lors du passage de donn√©es entre un composant serveur et un composant client via les props, les donn√©es sont toujours s√©rialis√©es (converties en cha√Æne) pour utilisation dans le navigateur. Cependant, elles n'ont pas besoin d'un type sp√©cial. Elles sont typ√©es de la m√™me mani√®re que le passage de n'importe quelle autre prop entre composants.

De plus, il y a moins de code √† s√©rialiser, car les donn√©es non rendues ne passent pas entre le serveur et le client (elles restent sur le serveur). Ceci n'est possible que gr√¢ce au support des composants serveur.

</AppOnly>

<PagesOnly>

## G√©n√©ration statique et rendu c√¥t√© serveur

Pour [`getStaticProps`](/docs/pages/api-reference/functions/get-static-props), [`getStaticPaths`](/docs/pages/api-reference/functions/get-static-paths), et [`getServerSideProps`](/docs/pages/api-reference/functions/get-server-side-props), vous pouvez utiliser respectivement les types `GetStaticProps`, `GetStaticPaths`, et `GetServerSideProps` :

```tsx filename="pages/blog/[slug].tsx"
import { GetStaticProps, GetStaticPaths, GetServerSideProps } from 'next'

export const getStaticProps = (async (context) => {
  // ...
}) satisfies GetStaticProps

export const getStaticPaths = (async () => {
  // ...
}) satisfies GetStaticPaths

export const getServerSideProps = (async (context) => {
  // ...
}) satisfies GetServerSideProps
```

> **Bon √† savoir :** `satisfies` a √©t√© ajout√© √† TypeScript dans la [version 4.9](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-9.html). Nous recommandons de mettre √† jour vers la derni√®re version de TypeScript.

## Routes API

Voici un exemple d'utilisation des types int√©gr√©s pour les routes API :

```ts
import type { NextApiRequest, NextApiResponse } from 'next'

export default function handler(req: NextApiRequest, res: NextApiResponse) {
  res.status(200).json({ name: 'John Doe' })
}
```

Vous pouvez √©galement typer les donn√©es de r√©ponse :

```ts
import type { NextApiRequest, NextApiResponse } from 'next'

type Data = {
  name: string
}

export default function handler(
  req: NextApiRequest,
  res: NextApiResponse<Data>
) {
  res.status(200).json({ name: 'John Doe' })
}
```

## `App` personnalis√©

Si vous avez une [`App` personnalis√©e](/docs/pages/building-your-application/routing/custom-app), vous pouvez utiliser le type int√©gr√© `AppProps` et renommer le fichier en `./pages/_app.tsx` comme suit :

```ts
import type { AppProps } from 'next/app'

export default function MyApp({ Component, pageProps }: AppProps) {
  return <Component {...pageProps} />
}
```

</PagesOnly>

## Alias de chemin et baseUrl

Next.js supporte automatiquement les options `"paths"` et `"baseUrl"` de `tsconfig.json`.

<AppOnly>

Vous pouvez en apprendre plus sur cette fonctionnalit√© dans la documentation [Alias de module et imports absolus](/docs/app/building-your-application/configuring/absolute-imports-and-module-aliases).

</AppOnly>

<PagesOnly>

Vous pouvez en apprendre plus sur cette fonctionnalit√© dans la documentation [Alias de module et imports absolus](/docs/pages/building-your-application/configuring/absolute-imports-and-module-aliases).

</PagesOnly>

## V√©rification des types dans next.config.js

Le fichier `next.config.js` doit √™tre un fichier JavaScript car il n'est pas analys√© par Babel ou TypeScript, mais vous pouvez ajouter une v√©rification de type dans votre IDE en utilisant JSDoc comme ci-dessous :

```js
// @ts-check

/**
 * @type {import('next').NextConfig}
 **/
const nextConfig = {
  /* options de configuration ici */
}

module.exports = nextConfig
```

## V√©rification incr√©mentale des types

Depuis la `v10.2.1`, Next.js supporte la [v√©rification incr√©mentale des types](https://www.typescriptlang.org/tsconfig#incremental) lorsqu'elle est activ√©e dans votre `tsconfig.json`, ce qui peut aider √† acc√©l√©rer la v√©rification des types dans les applications plus grandes.

## Ignorer les erreurs TypeScript

Next.js fait √©chouer votre **build de production** (`next build`) lorsque des erreurs TypeScript sont pr√©sentes dans votre projet.

Si vous souhaitez que Next.js produise dangereusement du code de production m√™me lorsque votre application contient des erreurs, vous pouvez d√©sactiver l'√©tape de v√©rification des types int√©gr√©e.

Si d√©sactiv√©, assurez-vous d'ex√©cuter des v√©rifications de types dans le cadre de votre processus de build ou de d√©ploiement, sinon cela peut √™tre tr√®s dangereux.

Ouvrez `next.config.js` et activez l'option `ignoreBuildErrors` dans la configuration `typescript` :

```js filename="next.config.js"
module.exports = {
  typescript: {
    // !! ATTENTION !!
    // Permet dangereusement aux builds de production de se terminer avec succ√®s m√™me si
    // votre projet contient des erreurs de type.
    // !! ATTENTION !!
    ignoreBuildErrors: true,
  },
}
```

## D√©clarations de types personnalis√©es

Lorsque vous avez besoin de d√©clarer des types personnalis√©s, vous pourriez √™tre tent√© de modifier `next-env.d.ts`. Cependant, ce fichier est g√©n√©r√© automatiquement, donc toute modification sera √©cras√©e. √Ä la place, vous devriez cr√©er un nouveau fichier, appelons-le `new-types.d.ts`, et le r√©f√©rencer dans votre `tsconfig.json` :

```json filename="tsconfig.json"
{
  "compilerOptions": {
    "skipLibCheck": true
    //...tronqu√©...
  },
  "include": [
    "new-types.d.ts",
    "next-env.d.ts",
    ".next/types/**/*.ts",
    "**/*.ts",
    "**/*.tsx"
  ],
  "exclude": ["node_modules"]
}
```

## Changements de version

| Version   | Changements                                                                                                                              |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------ |
| `v13.2.0` | Les liens typ√©s statiquement sont disponibles en b√™ta.                                                                                        |
| `v12.0.0` | [SWC](/docs/architecture/nextjs-compiler) est maintenant utilis√© par d√©faut pour compiler TypeScript et TSX pour des builds plus rapides.                    |
| `v10.2.1` | Support de la [v√©rification incr√©mentale des types](https://www.typescriptlang.org/tsconfig#incremental) ajout√© lorsqu'activ√© dans votre `tsconfig.json`. |