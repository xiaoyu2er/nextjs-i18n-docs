---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-06-02T20:12:37.921Z
title: serverComponentsHmrCache
description: Configuration du cache des réponses fetch dans les composants serveur lors des requêtes de rafraîchissement HMR.
version: experimental
---

L'option expérimentale `serverComponentsHmrCache` permet de mettre en cache les réponses `fetch` dans les composants serveur lors des rafraîchissements par remplacement de module à chaud (HMR) en développement local. Cela permet d'obtenir des réponses plus rapides et de réduire les coûts des appels d'API facturés.

Par défaut, le cache HMR s'applique à toutes les requêtes `fetch`, y compris celles avec l'option `cache: 'no-store'`. Cela signifie que les requêtes non mises en cache n'afficheront pas de données fraîches entre les rafraîchissements HMR. Cependant, le cache sera vidé lors d'une navigation ou d'un rechargement complet de la page.

Vous pouvez désactiver le cache HMR en définissant `serverComponentsHmrCache` sur `false` dans votre fichier `next.config.js` :

```ts filename="next.config.ts" switcher
import type { NextConfig } from 'next'

const nextConfig: NextConfig = {
  experimental: {
    serverComponentsHmrCache: false, // valeur par défaut : true
  },
}

export default nextConfig
```

```js filename="next.config.js" switcher
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    serverComponentsHmrCache: false, // valeur par défaut : true
  },
}

module.exports = nextConfig
```

> **Bon à savoir** : Pour une meilleure observabilité, nous recommandons d'utiliser l'option [`logging.fetches`](/docs/app/api-reference/config/next-config-js/logging) qui enregistre dans la console les succès et échecs du cache fetch pendant le développement.