---
source-updated-at: 2025-05-29T18:05:49.000Z
translation-updated-at: 2025-06-02T19:23:02.065Z
title: Configuraci칩n de tu base de datos
headline: 'App Router: Configuraci칩n de tu base de datos'
description: Configura una base de datos para tu aplicaci칩n y ll칠nala con datos iniciales.
image: >-
  https://nextjs.org/api/learn-og?title=Setting%20Up%20Your%20Database&amp;chapter=6
---

Antes de continuar trabajando en tu panel de control, necesitar치s algunos datos. En este cap칤tulo, configurar치s una base de datos PostgreSQL utilizando una de las [integraciones del marketplace de Vercel](https://vercel.com/marketplace?category=databases). Si ya est치s familiarizado con PostgreSQL y prefieres usar tu propio proveedor de base de datos, puedes saltarte este cap칤tulo y configurarlo por tu cuenta. De lo contrario, 춰continuemos!

[Crear un repositorio en GitHub](#create-a-github-repository)
---------------------------------------------------------

Para comenzar, sube tu repositorio a GitHub si a칰n no lo has hecho. Esto facilitar치 la configuraci칩n de tu base de datos y el despliegue.

Si necesitas ayuda para configurar tu repositorio, consulta [esta gu칤a en GitHub](https://help.github.com/en/github/getting-started-with-github/create-a-repo).

> **Nota importante:**
> 
> *   Tambi칠n puedes usar otros proveedores de git como GitLab o Bitbucket.
> *   Si eres nuevo en GitHub, recomendamos la [aplicaci칩n GitHub Desktop](https://desktop.github.com/) para un flujo de trabajo de desarrollo simplificado.

[Crear una cuenta en Vercel](#create-a-vercel-account)
---------------------------------------------------

Visita [vercel.com/signup](https://vercel.com/signup) para crear una cuenta. Elige el plan gratuito "hobby". Selecciona **Continuar con GitHub** para conectar tus cuentas de GitHub y Vercel.

[Conectar y desplegar tu proyecto](#connect-and-deploy-your-project)
-------------------------------------------------------------------

A continuaci칩n, ser치s llevado a esta pantalla donde puedes seleccionar e **importar** el repositorio de GitHub que acabas de crear:

<Image
  alt="Captura de pantalla del Dashboard de Vercel, mostrando la pantalla de importaci칩n de proyectos con una lista de los repositorios GitHub del usuario"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/import-git-repo.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/import-git-repo.png"
  width="960"
  height="511"
/>

Nombra tu proyecto y haz clic en **Desplegar**.

<Image
  alt="Pantalla de despliegue mostrando el campo de nombre del proyecto y un bot칩n de despliegue"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/configure-project.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/configure-project.png"
  width="960"
  height="491"
/>

춰Enhorabuena! 游꿀 Tu proyecto ya est치 desplegado.

<Image
  alt="Pantalla de resumen del proyecto mostrando el nombre del proyecto, dominio y estado del despliegue"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/deployed-project.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/deployed-project.png"
  width="960"
  height="479"
/>

Al conectar tu repositorio de GitHub, cada vez que hagas push a tu rama **main**, Vercel volver치 a desplegar tu aplicaci칩n autom치ticamente sin necesidad de configuraci칩n. Al abrir pull requests, tambi칠n tendr치s [URLs de vista previa instant치nea](https://vercel.com/docs/deployments/environments#preview-environment-pre-production#preview-urls) que te permitir치n detectar errores de despliegue temprano y compartir una vista previa de tu proyecto con miembros del equipo para recibir comentarios.

[Crear una base de datos Postgres](#create-a-postgres-database)
---------------------------------------------------------

A continuaci칩n, para configurar una base de datos, haz clic en **Continuar al Dashboard** y selecciona la pesta침a **Storage** desde el dashboard de tu proyecto. Selecciona **Crear base de datos**. Dependiendo de cu치ndo se cre칩 tu cuenta de Vercel, puedes ver opciones como Neon o Supabase. Elige tu proveedor preferido y haz clic en **Continuar**.

<Image
  alt="Pantalla Connect Store mostrando la opci칩n Postgres junto con KV, Blob y Edge Config"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/create-database.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/create-database.png"
  width="960"
  height="513"
/>

Elige tu regi칩n y plan de almacenamiento, si es requerido. La [regi칩n por defecto](https://vercel.com/docs/functions/configuring-functions/region) para todos los proyectos de Vercel es **Washington D.C (iad1)**, y recomendamos elegir esta si est치 disponible para reducir la [latencia](https://developer.mozilla.org/en-US/docs/Web/Performance/Understanding_latency) en las solicitudes de datos.

<Image
  alt="Modal de creaci칩n de base de datos mostrando el nombre de la base de datos y la regi칩n"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/database-region.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/database-region.png"
  width="960"
  height="513"
/>

Una vez conectado, navega a la pesta침a `.env.local`, haz clic en **Mostrar secreto** y **Copiar fragmento**. Aseg칰rate de revelar los secretos antes de copiarlos.

<Image
  alt="La pesta침a .env.local mostrando los secretos ocultos de la base de datos"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/database-dashboard.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/database-dashboard.png"
  width="960"
  height="358"
/>

Navega a tu editor de c칩digo y renombra el archivo `.env.example` a **`.env`**. Pega el contenido copiado desde Vercel.

> **Importante:** Ve a tu archivo `.gitignore` y aseg칰rate de que `.env` est칠 en los archivos ignorados para evitar que tus secretos de base de datos sean expuestos cuando hagas push a GitHub.

[Llenar tu base de datos con datos iniciales](#seed-your-database)
-----------------------------------------

Ahora que tu base de datos ha sido creada, vamos a llenarla con algunos datos iniciales.

Hemos incluido una API a la que puedes acceder en el navegador, que ejecutar치 un script de llenado para poblar la base de datos con un conjunto inicial de datos.

El script usa **SQL** para crear las tablas, y los datos del archivo `placeholder-data.ts` para llenarlas despu칠s de que hayan sido creadas.

Aseg칰rate de que tu servidor de desarrollo local est칠 ejecut치ndose con `pnpm run dev` y navega a [`localhost:3000/seed`](http://localhost:3000/seed) en tu navegador. Cuando termine, ver치s un mensaje "Base de datos llenada exitosamente" en el navegador. Una vez completado, puedes eliminar este archivo.

> **Soluci칩n de problemas**:
> 
> *   Aseg칰rate de revelar tus secretos de base de datos antes de copiarlos en tu archivo `.env`.
> *   El script usa `bcrypt` para hashear la contrase침a del usuario, si `bcrypt` no es compatible con tu entorno, puedes actualizar el script para usar [`bcryptjs`](https://www.npmjs.com/package/bcryptjs) en su lugar.
> *   Si encuentras alg칰n problema mientras llenas tu base de datos y quieres ejecutar el script nuevamente, puedes eliminar cualquier tabla existente ejecutando `DROP TABLE nombredetabla` en tu interfaz de consulta de base de datos. Consulta la [secci칩n de ejecuci칩n de consultas](#executing-queries) a continuaci칩n para m치s detalles. Pero ten cuidado, este comando eliminar치 las tablas y todos sus datos. Est치 bien hacer esto con tu aplicaci칩n de ejemplo ya que est치s trabajando con datos de ejemplo, pero no deber칤as ejecutar este comando en una aplicaci칩n en producci칩n.

[Ejecuci칩n de consultas](#executing-queries)
---------------------------------------

Ejecutemos una consulta para asegurarnos de que todo funciona como se espera. Usaremos otro Router Handler, `app/query/route.ts`, para consultar la base de datos. Dentro de este archivo, encontrar치s una funci칩n `listInvoices()` que tiene la siguiente consulta SQL.

```
SELECT invoices.amount, customers.name
FROM invoices
JOIN customers ON invoices.customer_id = customers.id
WHERE invoices.amount = 666;
```

Descomenta el archivo, elimina el bloque `Response.json()`, y navega a [`localhost:3000/query`](http://localhost:3000/query) en tu navegador. Deber칤as ver que se devuelve un `amount` de factura y un `name`.