---
source-updated-at: 2025-05-29T18:05:49.000Z
translation-updated-at: 2025-06-02T19:22:19.714Z
title: APIルートの作成
headline: 'Pages Router: APIルートの作成'
image: 'https://nextjs.org/api/learn-og?title=Creating%20API%20Routes&amp;chapter=39'
---

[APIルート](/docs/api-routes/introduction)を使用すると、Next.jsアプリ内にAPIエンドポイントを作成できます。`pages/api`ディレクトリ内に以下の形式の**関数**を作成することで実現できます：

```
// req = HTTP受信メッセージ、res = HTTPサーバーレスポンス
export default function handler(req, res) {
  // ...
}
```

> 上記のリクエストハンドラについて詳しくは、[APIルートのドキュメント](/docs/api-routes/introduction)をご覧ください。

これらはサーバーレス関数（Lambdaとも呼ばれます）としてデプロイ可能です。

### [シンプルなAPIエンドポイントの作成](#creating-a-simple-api-endpoint)

実際に試してみましょう。`pages/api`ディレクトリに`hello.js`というファイルを作成し、以下のコードを記述します：

```
export default function handler(req, res) {
  res.status(200).json({ text: 'Hello' });
}
```

[http://localhost:3000/api/hello](http://localhost:3000/api/hello)にアクセスしてみてください。`{"text":"Hello"}`が表示されるはずです。以下の点に注意してください：

*   `req`は[http.IncomingMessage](https://nodejs.org/api/http.html#http_class_http_incomingmessage)のインスタンスに加え、いくつかの[組み込みミドルウェア](/docs/api-routes/api-middlewares)が含まれています。
*   `res`は[http.ServerResponse](https://nodejs.org/api/http.html#http_class_http_serverresponse)のインスタンスに加え、いくつかの[ヘルパー関数](/docs/api-routes/response-helpers)が含まれています。

これで完了です！このレッスンを終える前に、次のページで[APIルート](/docs/api-routes/introduction)を使用する際のいくつかのヒントについて説明します。