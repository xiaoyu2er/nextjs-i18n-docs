---
source-updated-at: 2025-06-01T01:32:20.000Z
translation-updated-at: 2025-06-02T20:17:21.399Z
title: Pages Routerã‹ã‚‰App Routerã¸ã®ç§»è¡Œæ–¹æ³•
nav_title: App Router
description: æ—¢å­˜ã®Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’Pages Routerã‹ã‚‰App Routerã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦å­¦ã³ã¾ã™ã€‚
---

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯æ¬¡ã®å†…å®¹ã‚’èª¬æ˜ã—ã¾ã™:

- [Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³12ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³13ã«æ›´æ–°ã™ã‚‹](#nextjs-version)
- [`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸¡æ–¹ã§å‹•ä½œã™ã‚‹æ©Ÿèƒ½ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰](#upgrading-new-features)
- [æ—¢å­˜ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’`pages`ã‹ã‚‰`app`ã¸æ®µéšçš„ã«ç§»è¡Œã™ã‚‹](#migrating-from-pages-to-app)

## ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰

### Node.jsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³

Node.jsã®æœ€ä½è¦ä»¶ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯**v18.17**ã«ãªã‚Šã¾ã—ãŸã€‚è©³ç´°ã¯[Node.jsãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://nodejs.org/docs/latest-v18.x/api/)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### Next.jsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³

Next.jsãƒãƒ¼ã‚¸ãƒ§ãƒ³13ã«æ›´æ–°ã™ã‚‹ã«ã¯ã€ãŠå¥½ã¿ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’ä½¿ç”¨ã—ã¦æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™:

```bash filename="Terminal"
npm install next@latest react@latest react-dom@latest
```

### ESLintã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³

ESLintã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€ESLintã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™:

```bash filename="Terminal"
npm install -D eslint-config-next@latest
```

> **è£œè¶³**: ESLintã®å¤‰æ›´ã‚’åæ˜ ã•ã›ã‚‹ã«ã¯ã€VS Codeã§ESLintã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆï¼ˆMacã§ã¯`cmd+shift+p`ã€Windowsã§ã¯`ctrl+shift+p`ï¼‰ã‚’é–‹ãã€`ESLint: Restart ESLint Server`ã‚’æ¤œç´¢ã—ã¦ãã ã•ã„ã€‚

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

æ›´æ–°ãŒå®Œäº†ã—ãŸã‚‰ã€æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§ã—ã¦ãã ã•ã„:

- [æ–°æ©Ÿèƒ½ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰](#upgrading-new-features): Imageã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„Linkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ”¹å–„ãªã©ã€æ–°æ©Ÿèƒ½ã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚¬ã‚¤ãƒ‰
- [`pages`ã‹ã‚‰`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸ã®ç§»è¡Œ](#migrating-from-pages-to-app): `pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸æ®µéšçš„ã«ç§»è¡Œã™ã‚‹ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

## æ–°æ©Ÿèƒ½ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰

Next.js 13ã§ã¯æ–°ã—ã„[App Router](/docs/app/building-your-application/routing)ãŒå°å…¥ã•ã‚Œã€æ–°æ©Ÿèƒ½ã¨è¦ç´„ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚æ–°ã—ã„Routerã¯`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§åˆ©ç”¨å¯èƒ½ã§ã€`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨å…±å­˜ã§ãã¾ã™ã€‚

Next.js 13ã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã¯App Routerã®ä½¿ç”¨ã‚’**å¿…é ˆã¨ã—ã¾ã›ã‚“**ã€‚æ›´æ–°ã•ã‚ŒãŸ[Imageã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](#image-component)ã€[Linkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](#link-component)ã€[Scriptã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](#script-component)ã€[ãƒ•ã‚©ãƒ³ãƒˆæœ€é©åŒ–](#font-optimization)ãªã©ã€`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã‚‚å‹•ä½œã™ã‚‹æ–°æ©Ÿèƒ½ã‚’å¼•ãç¶šãä½¿ç”¨ã§ãã¾ã™ã€‚

### `<Image/>`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

Next.js 12ã§ã¯ã€`next/future/image`ã¨ã„ã†ä¸€æ™‚çš„ãªã‚¤ãƒ³ãƒãƒ¼ãƒˆã§Imageã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ–°ã—ã„æ”¹å–„ãŒå°å…¥ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã‚‰ã®æ”¹å–„ã«ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰JavaScriptã®å‰Šæ¸›ã€ç”»åƒã®æ‹¡å¼µã¨ã‚¹ã‚¿ã‚¤ãƒ«è¨­å®šã®ç°¡ç´ åŒ–ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®å‘ä¸Šã€ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ–ãƒ©ã‚¦ã‚¶ã®é…å»¶èª­ã¿è¾¼ã¿ãªã©ãŒå«ã¾ã‚Œã¾ã™ã€‚

ãƒãƒ¼ã‚¸ãƒ§ãƒ³13ã§ã¯ã€ã“ã®æ–°ã—ã„å‹•ä½œãŒ`next/image`ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ãªã‚Šã¾ã—ãŸã€‚

æ–°ã—ã„Imageã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¸ã®ç§»è¡Œã‚’æ”¯æ´ã™ã‚‹2ã¤ã®ã‚³ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã™:

- [**`next-image-to-legacy-image`ã‚³ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰**](/docs/app/guides/upgrading/codemods#next-image-to-legacy-image): `next/image`ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’å®‰å…¨ã‹ã¤è‡ªå‹•çš„ã«`next/legacy/image`ã«ãƒªãƒãƒ¼ãƒ ã—ã¾ã™ã€‚æ—¢å­˜ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯åŒã˜å‹•ä½œã‚’ç¶­æŒã—ã¾ã™ã€‚
- [**`next-image-experimental`ã‚³ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰**](/docs/app/guides/upgrading/codemods#next-image-experimental): ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€æœªä½¿ç”¨ã®ãƒ—ãƒ­ãƒƒãƒ—ã‚’å‰Šé™¤ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šæ—¢å­˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•ä½œãŒæ–°ã—ã„ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«å¤‰æ›´ã•ã‚Œã¾ã™ã€‚ã“ã®ã‚³ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€ã¾ãš`next-image-to-legacy-image`ã‚³ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### `<Link>`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

[`<Link>`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](/docs/app/building-your-application/routing/linking-and-navigating#link-component)ã¯ã€å­è¦ç´ ã¨ã—ã¦æ‰‹å‹•ã§`<a>`ã‚¿ã‚°ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒãªããªã‚Šã¾ã—ãŸã€‚ã“ã®å‹•ä½œã¯[ãƒãƒ¼ã‚¸ãƒ§ãƒ³12.2](https://nextjs.org/blog/next-12-2)ã§å®Ÿé¨“çš„ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦è¿½åŠ ã•ã‚Œã€ç¾åœ¨ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ãªã‚Šã¾ã—ãŸã€‚Next.js 13ã§ã¯ã€`<Link>`ã¯å¸¸ã«`<a>`ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã€åŸºç¤ã¨ãªã‚‹ã‚¿ã‚°ã«ãƒ—ãƒ­ãƒƒãƒ—ã‚’è»¢é€ã§ãã¾ã™ã€‚

ä¾‹:

```jsx
import Link from 'next/link'

// Next.js 12: `<a>`ã‚’ãƒã‚¹ãƒˆã—ãªã„ã¨é™¤å¤–ã•ã‚Œã‚‹
<Link href="/about">
  <a>About</a>
</Link>

// Next.js 13: `<Link>`ã¯å†…éƒ¨ã§å¸¸ã«`<a>`ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
<Link href="/about">
  About
</Link>
```

Next.js 13ã«ãƒªãƒ³ã‚¯ã‚’ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹ã«ã¯ã€[`new-link`ã‚³ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰](/docs/app/guides/upgrading/codemods#new-link)ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

### `<Script>`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

[`next/script`](/docs/app/api-reference/components/script)ã®å‹•ä½œãŒ`pages`ã¨`app`ã®ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«æ›´æ–°ã•ã‚Œã¾ã—ãŸãŒã€ã‚¹ãƒ ãƒ¼ã‚ºãªç§»è¡Œã®ãŸã‚ã«ã„ãã¤ã‹ã®å¤‰æ›´ãŒå¿…è¦ã§ã™:

- `_document.js`ã«å«ã‚ã¦ã„ãŸ`beforeInteractive`ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«(`app/layout.tsx`)ã«ç§»å‹•ã—ã¦ãã ã•ã„ã€‚
- å®Ÿé¨“çš„ãª`worker`æˆ¦ç•¥ã¯ã¾ã `app`ã§å‹•ä½œã›ãšã€ã“ã®æˆ¦ç•¥ã§æŒ‡å®šã•ã‚ŒãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯å‰Šé™¤ã™ã‚‹ã‹ã€åˆ¥ã®æˆ¦ç•¥ï¼ˆä¾‹: `lazyOnload`ï¼‰ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
- `onLoad`ã€`onReady`ã€`onError`ãƒãƒ³ãƒ‰ãƒ©ã¯ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯å‹•ä½œã—ãªã„ãŸã‚ã€[ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](/docs/app/getting-started/server-and-client-components)ã«ç§»å‹•ã™ã‚‹ã‹ã€å®Œå…¨ã«å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚

### ãƒ•ã‚©ãƒ³ãƒˆæœ€é©åŒ–

ä»¥å‰ã€Next.jsã¯[ãƒ•ã‚©ãƒ³ãƒˆCSSã®ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³åŒ–](/docs/app/api-reference/components/font)ã«ã‚ˆã£ã¦ãƒ•ã‚©ãƒ³ãƒˆã®æœ€é©åŒ–ã‚’æ”¯æ´ã—ã¦ã„ã¾ã—ãŸã€‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³13ã§ã¯æ–°ã—ã„[`next/font`](/docs/app/api-reference/components/font)ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå°å…¥ã•ã‚Œã€å„ªã‚ŒãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã‚’ç¢ºä¿ã—ãªãŒã‚‰ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿ä½“é¨“ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚`next/font`ã¯`pages`ã¨`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸¡æ–¹ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚

[CSSã®ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³åŒ–](/docs/app/api-reference/components/font)ã¯`pages`ã§ã¯å¼•ãç¶šãå‹•ä½œã—ã¾ã™ãŒã€`app`ã§ã¯å‹•ä½œã—ã¾ã›ã‚“ã€‚[`next/font`](/docs/app/api-reference/components/font)ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

`next/font`ã®ä½¿ç”¨æ–¹æ³•ã«ã¤ã„ã¦ã¯ã€[ãƒ•ã‚©ãƒ³ãƒˆæœ€é©åŒ–](/docs/app/api-reference/components/font)ãƒšãƒ¼ã‚¸ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## `pages`ã‹ã‚‰`app`ã¸ã®ç§»è¡Œ

> **ğŸ¥ å‹•ç”»ã§å­¦ã¶:** App Routerã®æ®µéšçš„ãªæ¡ç”¨æ–¹æ³• â†’ [YouTube (16åˆ†)](https://www.youtube.com/watch?v=YQMSietiFm0).

App Routerã¸ã®ç§»è¡Œã¯ã€ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€Suspenseãªã©ã€Next.jsãŒæ§‹ç¯‰ã—ã¦ã„ã‚‹Reactæ©Ÿèƒ½ã‚’åˆã‚ã¦ä½¿ç”¨ã™ã‚‹æ©Ÿä¼šã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚[ç‰¹åˆ¥ãªãƒ•ã‚¡ã‚¤ãƒ«](/docs/app/api-reference/file-conventions)ã‚„[ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ](/docs/app/api-reference/file-conventions/layout)ãªã©ã®æ–°ã—ã„Next.jsæ©Ÿèƒ½ã¨çµ„ã¿åˆã‚ã›ã‚‹ã¨ã€ç§»è¡Œã«ã¯æ–°ã—ã„æ¦‚å¿µã€ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ¢ãƒ‡ãƒ«ã€å‹•ä½œå¤‰æ›´ã‚’å­¦ã¶å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ã“ã‚Œã‚‰ã®æ›´æ–°ã‚’å°ã•ãªã‚¹ãƒ†ãƒƒãƒ—ã«åˆ†å‰²ã—ã¦è¤‡é›‘ã•ã‚’è»½æ¸›ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ã€`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨åŒæ™‚ã«å‹•ä½œã™ã‚‹ã‚ˆã†ã«æ„å›³çš„ã«è¨­è¨ˆã•ã‚Œã¦ãŠã‚Šã€ãƒšãƒ¼ã‚¸ã”ã¨ã«æ®µéšçš„ã«ç§»è¡Œã§ãã¾ã™ã€‚

- `app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ«ãƒ¼ãƒˆ_ã¨_ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚[è©³ç´°](/docs/app/building-your-application/routing)
- ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½¿ç”¨ã—ã¦ãƒ«ãƒ¼ãƒˆã‚’å®šç¾©ã—ã€ç‰¹åˆ¥ãª`page.js`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¦ãƒ«ãƒ¼ãƒˆã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’å…¬é–‹ã—ã¾ã™ã€‚[è©³ç´°](#step-4-migrating-pages)
- [ç‰¹åˆ¥ãªãƒ•ã‚¡ã‚¤ãƒ«è¦ç´„](/docs/app/api-reference/file-conventions)ã‚’ä½¿ç”¨ã—ã¦å„ãƒ«ãƒ¼ãƒˆã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®UIã‚’ä½œæˆã—ã¾ã™ã€‚æœ€ã‚‚ä¸€èˆ¬çš„ãªç‰¹åˆ¥ãªãƒ•ã‚¡ã‚¤ãƒ«ã¯`page.js`ã¨`layout.js`ã§ã™ã€‚
  - `page.js`ã‚’ä½¿ç”¨ã—ã¦ãƒ«ãƒ¼ãƒˆå›ºæœ‰ã®UIã‚’å®šç¾©ã—ã¾ã™ã€‚
  - `layout.js`ã‚’ä½¿ç”¨ã—ã¦è¤‡æ•°ã®ãƒ«ãƒ¼ãƒˆã§å…±æœ‰ã•ã‚Œã‚‹UIã‚’å®šç¾©ã—ã¾ã™ã€‚
  - ç‰¹åˆ¥ãªãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯`.js`ã€`.jsx`ã€`.tsx`ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€ã‚¹ã‚¿ã‚¤ãƒ«ã€ãƒ†ã‚¹ãƒˆãªã©ã€ä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«é…ç½®ã§ãã¾ã™ã€‚[è©³ç´°](/docs/app/building-your-application/routing)
- `getServerSideProps`ã‚„`getStaticProps`ãªã©ã®ãƒ‡ãƒ¼ã‚¿å–å¾—é–¢æ•°ã¯ã€`app`å†…ã®[æ–°ã—ã„API](/docs/app/building-your-application/data-fetching)ã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã—ãŸã€‚`getStaticPaths`ã¯[`generateStaticParams`](/docs/app/api-reference/functions/generate-static-params)ã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã—ãŸã€‚
- `pages/_app.js`ã¨`pages/_document.js`ã¯å˜ä¸€ã®`app/layout.js`ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã—ãŸã€‚[è©³ç´°](/docs/app/api-reference/file-conventions/layout#root-layout)
- `pages/_error.js`ã¯ã‚ˆã‚Šç´°ã‹ã„`error.js`ç‰¹åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã—ãŸã€‚[è©³ç´°](/docs/app/getting-started/error-handling)
- `pages/404.js`ã¯[`not-found.js`](/docs/app/api-reference/file-conventions/not-found)ãƒ•ã‚¡ã‚¤ãƒ«ã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã—ãŸã€‚
- `pages/api/*` APIãƒ«ãƒ¼ãƒˆã¯[`route.js`](/docs/app/api-reference/file-conventions/route)ï¼ˆãƒ«ãƒ¼ãƒˆãƒãƒ³ãƒ‰ãƒ©ï¼‰ç‰¹åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã—ãŸã€‚

### ã‚¹ãƒ†ãƒƒãƒ—1: `app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆ

æœ€æ–°ã®Next.jsãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆ13.4ä»¥ä¸ŠãŒå¿…è¦ï¼‰ã«æ›´æ–°ã—ã¾ã™:

```bash
npm install next@latest
```

æ¬¡ã«ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆï¼ˆã¾ãŸã¯`src/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰ã«æ–°ã—ã„`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™ã€‚

### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ä½œæˆ

`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«æ–°ã—ã„`app/layout.tsx`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã‚Œã¯[ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ](/docs/app/api-reference/file-conventions/layout#root-layout)ã§ã€`app`å†…ã®ã™ã¹ã¦ã®ãƒ«ãƒ¼ãƒˆã«é©ç”¨ã•ã‚Œã¾ã™ã€‚

```tsx filename="app/layout.tsx" switcher
export default function RootLayout({
  // ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯childrenãƒ—ãƒ­ãƒƒãƒ—ã‚’å—ã‘å…¥ã‚Œã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
  // ã“ã‚Œã¯ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¾ãŸã¯ãƒšãƒ¼ã‚¸ã§åŸ‹ã‚ã‚‰ã‚Œã¾ã™
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}
```

```jsx filename="app/layout.js" switcher
export default function RootLayout({
  // ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯childrenãƒ—ãƒ­ãƒƒãƒ—ã‚’å—ã‘å…¥ã‚Œã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
  // ã“ã‚Œã¯ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¾ãŸã¯ãƒšãƒ¼ã‚¸ã§åŸ‹ã‚ã‚‰ã‚Œã¾ã™
  children,
}) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}
```

- `app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯**å¿…ãš**ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
- Next.jsãŒè‡ªå‹•çš„ã«ä½œæˆã—ãªã„ãŸã‚ã€ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯`<html>`ã¨`<body>`ã‚¿ã‚°ã‚’å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
- ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯`pages/_app.tsx`ã¨`pages/_document.tsx`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãæ›ãˆã¾ã™ã€‚
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯`.js`ã€`.jsx`ã€`.tsx`æ‹¡å¼µå­ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

`<head>` HTMLè¦ç´ ã‚’ç®¡ç†ã™ã‚‹ã«ã¯ã€[çµ„ã¿è¾¼ã¿ã®SEOã‚µãƒãƒ¼ãƒˆ](/docs/app/getting-started/metadata-and-og-images)ã‚’ä½¿ç”¨ã§ãã¾ã™:

```tsx filename="app/layout.tsx" switcher
import type { Metadata } from 'next'

export const metadata: Metadata = {
  title: 'Home',
  description: 'Welcome to Next.js',
}
```

```jsx filename="app/layout.js" switcher
export const metadata = {
  title: 'Home',
  description: 'Welcome to Next.js',
}
```

#### `_document.js`ã¨`_app.js`ã®ç§»è¡Œ

æ—¢å­˜ã®`_app`ã¾ãŸã¯`_document`ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹å ´åˆã€ãã®å†…å®¹ï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«ãªã©ï¼‰ã‚’ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ(`app/layout.tsx`)ã«ã‚³ãƒ”ãƒ¼ã§ãã¾ã™ã€‚`app/layout.tsx`ã®ã‚¹ã‚¿ã‚¤ãƒ«ã¯`pages/*`ã«ã¯é©ç”¨ã•ã‚Œã¾ã›ã‚“ã€‚`pages/*`ãƒ«ãƒ¼ãƒˆãŒå£Šã‚Œãªã„ã‚ˆã†ã«ã€ç§»è¡Œä¸­ã¯`_app`/`_document`ã‚’ä¿æŒã—ã¦ãã ã•ã„ã€‚å®Œå…¨ã«ç§»è¡Œã—ãŸã‚‰å®‰å…¨ã«å‰Šé™¤ã§ãã¾ã™ã€‚

React Contextãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€ãã‚Œã‚‰ã¯[ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](/docs/app/getting-started/server-and-client-components)ã«ç§»å‹•ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

#### `getLayout()`ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ã‚‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¸ã®ç§»è¡Œï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

Next.jsã§ã¯ã€`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ãƒšãƒ¼ã‚¸ã”ã¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«[ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã™ã‚‹](/docs/pages/building-your-application/routing/pages-and-layouts#layout-pattern)ã“ã¨ã‚’æ¨å¥¨ã—ã¦ã„ã¾ã—ãŸã€‚ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®[ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ](/docs/app/api-reference/file-conventions/layout)ã®ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚µãƒãƒ¼ãƒˆã§ç½®ãæ›ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

<details>
  <summary>ç§»è¡Œå‰å¾Œã®ä¾‹ã‚’è¦‹ã‚‹</summary>

**ç§»è¡Œå‰**

```jsx filename="components/DashboardLayout.js"
export default function DashboardLayout({ children }) {
  return (
    <div>
      <h2>My Dashboard</h2>
      {children}
    </div>
  )
}
```

```jsx filename="pages/dashboard/index.js"
import DashboardLayout from '../components/DashboardLayout'

export default function Page() {
  return <p>My Page</p>
}

Page.getLayout = function getLayout(page) {
  return <DashboardLayout>{page}</DashboardLayout>
}
```

**ç§»è¡Œå¾Œ**

- `pages/dashboard/index.js`ã‹ã‚‰`Page.getLayout`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‰Šé™¤ã—ã€[ãƒšãƒ¼ã‚¸ç§»è¡Œã®æ‰‹é †](#step-4-migrating-pages)ã«å¾“ã£ã¦`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»è¡Œã—ã¾ã™ã€‚

  ```jsx filename="app/dashboard/page.js"
  export default function Page() {
    return <p>My Page</p>
  }
  ```

- `DashboardLayout`ã®å†…å®¹ã‚’æ–°ã—ã„[ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](/docs/app/getting-started/server-and-client-components)ã«ç§»å‹•ã—ã¦ã€`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å‹•ä½œã‚’ç¶­æŒã—ã¾ã™ã€‚

  ```jsx filename="app/dashboard/DashboardLayout.js"
  'use client' // ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ã€ã™ã¹ã¦ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã®å‰ã«ç½®ãå¿…è¦ãŒã‚ã‚Šã¾ã™

  // ã“ã‚Œã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™
  export default function DashboardLayout({ children }) {
    return (
      <div>
        <h2>My Dashboard</h2>
        {children}
      </div>
    )
  }
  ```

- `DashboardLayout`ã‚’`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®æ–°ã—ã„`layout.js`ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

  ```jsx filename="app/dashboard/layout.js"
  import DashboardLayout from './DashboardLayout'

  // ã“ã‚Œã¯ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™
  export default function Layout({ children }) {
    return <DashboardLayout>{children}</DashboardLayout>
  }
  ```

- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆJavaScriptã®é‡ã‚’æ¸›ã‚‰ã™ãŸã‚ã«ã€`DashboardLayout.js`ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ã®éã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–éƒ¨åˆ†ã‚’`layout.js`ï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ã«æ®µéšçš„ã«ç§»å‹•ã§ãã¾ã™ã€‚

</details>

### ã‚¹ãƒ†ãƒƒãƒ—3: `next/head`ã®ç§»è¡Œ

`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€`next/head` Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦`title`ã‚„`meta`ãªã©ã®`<head>` HTMLè¦ç´ ã‚’ç®¡ç†ã—ã¦ã„ã¾ã—ãŸã€‚`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€`next/head`ã¯æ–°ã—ã„[çµ„ã¿è¾¼ã¿SEOã‚µãƒãƒ¼ãƒˆ](/docs/app/getting-started/metadata-and-og-images)ã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã—ãŸã€‚

**ç§»è¡Œå‰:**

```tsx filename="pages/index.tsx" switcher
import Head from 'next/head'

export default function Page() {
  return (
    <>
      <Head>
        <title>My page title</title>
      </Head>
    </>
  )
}
```

```jsx filename="pages/index.js" switcher
import Head from 'next/head'

export default function Page() {
  return (
    <>
      <Head>
        <title>My page title</title>
      </Head>
    </>
  )
}
```

**ç§»è¡Œå¾Œ:**

```tsx filename="app/page.tsx" switcher
import type { Metadata } from 'next'

export const metadata: Metadata = {
  title: 'My Page Title',
}

export default function Page() {
  return '...'
}
```

```jsx filename="app/page.js" switcher
export const metadata = {
  title: 'My Page Title',
}

export default function Page() {
  return '...'
}
```

[ã™ã¹ã¦ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç¢ºèª](/docs/app/api-reference/functions/generate-metadata)

### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒšãƒ¼ã‚¸ã®ç§»è¡Œ

- [`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª](/docs/app/building-your-application/routing)ã®ãƒšãƒ¼ã‚¸ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§[ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (Server Components)](/docs/app/getting-started/server-and-client-components)ã§ã™ã€‚ã“ã‚Œã¯[ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (Client Components)](/docs/app/getting-started/server-and-client-components)ã§ã‚ã‚‹`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒšãƒ¼ã‚¸ã¨ã¯ç•°ãªã‚Šã¾ã™ã€‚
- `app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯[ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚° (Data Fetching)](/docs/app/building-your-application/data-fetching)ãŒå¤‰æ›´ã•ã‚Œã¦ã„ã¾ã™ã€‚`getServerSideProps`ã€`getStaticProps`ã€`getInitialProps`ã¯ã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ãªAPIã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã—ãŸã€‚
- `app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€ãƒ«ãƒ¼ãƒˆã‚’å®šç¾©ã™ã‚‹ãŸã‚ã«ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½¿ç”¨ã—ã€ç‰¹åˆ¥ãª`page.js`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¦ãƒ«ãƒ¼ãƒˆã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’å…¬é–‹å¯èƒ½ã«ã—ã¾ã™ã€‚
- | `pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | `app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª       | ãƒ«ãƒ¼ãƒˆ          |
  | ----------------- | --------------------- | -------------- |
  | `index.js`        | `page.js`             | `/`            |
  | `about.js`        | `about/page.js`       | `/about`       |
  | `blog/[slug].js`  | `blog/[slug]/page.js` | `/blog/post-1` |

ãƒšãƒ¼ã‚¸ã®ç§»è¡Œã¯ä»¥ä¸‹ã®2ã¤ã®ä¸»è¦ãªã‚¹ãƒ†ãƒƒãƒ—ã«åˆ†ã‘ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ï¼š

1. ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ–°ã—ã„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ç§»å‹•ã™ã‚‹
2. ã‚¹ãƒ†ãƒƒãƒ—2: æ–°ã—ã„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®æ–°ã—ã„`page.js`ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹

> **è£œè¶³**: ã“ã‚Œã¯`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨æœ€ã‚‚å‹•ä½œãŒé¡ä¼¼ã—ã¦ã„ã‚‹ãŸã‚ã€æœ€ã‚‚ç°¡å˜ãªç§»è¡Œæ–¹æ³•ã§ã™ã€‚

**ã‚¹ãƒ†ãƒƒãƒ—1: æ–°ã—ã„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆ**

- `app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹: `app/home-page.tsx`ãªã©ï¼‰ã‚’ä½œæˆã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©ã™ã‚‹ã«ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ï¼ˆã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–‡ã®å‰ï¼‰ã«`'use client'`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’è¿½åŠ ã—ã¾ã™ã€‚
  - Pages Routerã¨åŒæ§˜ã«ã€[æœ€é©åŒ–ã‚¹ãƒ†ãƒƒãƒ—](/docs/app/getting-started/server-and-client-components#on-the-client-first-load)ãŒã‚ã‚Šã€åˆæœŸãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é™çš„HTMLã«ãƒ—ãƒªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¾ã™ã€‚
- `pages/index.js`ã‹ã‚‰ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’`app/home-page.tsx`ã«ç§»å‹•ã—ã¾ã™ã€‚

```tsx filename="app/home-page.tsx" switcher
'use client'

// ã“ã‚Œã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ï¼ˆ`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ï¼‰
// ãƒ‡ãƒ¼ã‚¿ã‚’propsã¨ã—ã¦å—ã‘å–ã‚Šã€stateã‚„effectã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã€
// åˆæœŸãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«ã‚µãƒ¼ãƒãƒ¼ã§ãƒ—ãƒªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¾ã™ã€‚
export default function HomePage({ recentPosts }) {
  return (
    <div>
      {recentPosts.map((post) => (
        <div key={post.id}>{post.title}</div>
      ))}
    </div>
  )
}
```

```jsx filename="app/home-page.js" switcher
'use client'

// ã“ã‚Œã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚ãƒ‡ãƒ¼ã‚¿ã‚’propsã¨ã—ã¦å—ã‘å–ã‚Šã€
// `pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒæ§˜ã«stateã‚„effectã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚
export default function HomePage({ recentPosts }) {
  return (
    <div>
      {recentPosts.map((post) => (
        <div key={post.id}>{post.title}</div>
      ))}
    </div>
  )
}
```

**ã‚¹ãƒ†ãƒƒãƒ—2: æ–°ã—ã„ãƒšãƒ¼ã‚¸ã‚’ä½œæˆ**

- `app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«æ–°ã—ã„`app/page.tsx`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã‚Œã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚
- `home-page.tsx`ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒšãƒ¼ã‚¸ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚
- `pages/index.js`ã§ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒã—ã¦ã„ãŸå ´åˆã€ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ–°ã—ã„[ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°API](/docs/app/getting-started/fetching-data)ã‚’ä½¿ç”¨ã—ã¦ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ç›´æ¥ç§»å‹•ã—ã¾ã™ã€‚è©³ç´°ã¯[ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚¬ã‚¤ãƒ‰](#step-6-migrating-data-fetching-methods)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

  ```tsx filename="app/page.tsx" switcher
  // ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
  import HomePage from './home-page'

  async function getPosts() {
    const res = await fetch('https://...')
    const posts = await res.json()
    return posts
  }

  export default async function Page() {
    // ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ç›´æ¥ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒ
    const recentPosts = await getPosts()
    // ãƒ•ã‚§ãƒƒãƒã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã™
    return <HomePage recentPosts={recentPosts} />
  }
  ```

  ```jsx filename="app/page.js" switcher
  // ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
  import HomePage from './home-page'

  async function getPosts() {
    const res = await fetch('https://...')
    const posts = await res.json()
    return posts
  }

  export default async function Page() {
    // ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ç›´æ¥ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒ
    const recentPosts = await getPosts()
    // ãƒ•ã‚§ãƒƒãƒã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã™
    return <HomePage recentPosts={recentPosts} />
  }
  ```

- ä»¥å‰ã®ãƒšãƒ¼ã‚¸ã§`useRouter`ã‚’ä½¿ç”¨ã—ã¦ã„ãŸå ´åˆã¯ã€æ–°ã—ã„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ•ãƒƒã‚¯ã«æ›´æ–°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚[è©³ç´°ã‚’ç¢ºèª](/docs/app/api-reference/functions/use-router)ã€‚
- é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã€[`http://localhost:3000`](http://localhost:3000)ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚æ—¢å­˜ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ«ãƒ¼ãƒˆãŒappãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’é€šã˜ã¦æä¾›ã•ã‚Œã¦ã„ã‚‹ã®ãŒç¢ºèªã§ãã‚‹ã¯ãšã§ã™ã€‚

### ã‚¹ãƒ†ãƒƒãƒ—5: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ•ãƒƒã‚¯ã®ç§»è¡Œ

`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ–°ã—ã„å‹•ä½œã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã«ã€æ–°ã—ã„ãƒ«ãƒ¼ã‚¿ãƒ¼ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚

`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€`next/navigation`ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹3ã¤ã®æ–°ã—ã„ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š[`useRouter()`](/docs/app/api-reference/functions/use-router)ã€[`usePathname()`](/docs/app/api-reference/functions/use-pathname)ã€[`useSearchParams()`](/docs/app/api-reference/functions/use-search-params)ã€‚

- æ–°ã—ã„`useRouter`ãƒ•ãƒƒã‚¯ã¯`next/navigation`ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã€`next/router`ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã‚‹`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®`useRouter`ãƒ•ãƒƒã‚¯ã¨ã¯ç•°ãªã‚‹å‹•ä½œã‚’ã—ã¾ã™ã€‚
  - [`next/router`ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã‚‹`useRouter`ãƒ•ãƒƒã‚¯](/docs/pages/api-reference/functions/use-router)ã¯`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ãŒã€`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯å¼•ãç¶šãä½¿ç”¨ã§ãã¾ã™ã€‚
- æ–°ã—ã„`useRouter`ã¯`pathname`æ–‡å­—åˆ—ã‚’è¿”ã—ã¾ã›ã‚“ã€‚ä»£ã‚ã‚Šã«åˆ¥ã®`usePathname`ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
- æ–°ã—ã„`useRouter`ã¯`query`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã—ã¾ã›ã‚“ã€‚æ¤œç´¢ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨å‹•çš„ãƒ«ãƒ¼ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯åˆ†é›¢ã•ã‚Œã¾ã—ãŸã€‚ä»£ã‚ã‚Šã«`useSearchParams`ã¨`useParams`ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
- `useSearchParams`ã¨`usePathname`ã‚’ä¸€ç·’ã«ä½¿ç”¨ã—ã¦ãƒšãƒ¼ã‚¸å¤‰æ›´ã‚’ç›£è¦–ã§ãã¾ã™ã€‚è©³ç´°ã¯[ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆ](/docs/app/api-reference/functions/use-router#router-events)ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
- ã“ã‚Œã‚‰ã®æ–°ã—ã„ãƒ•ãƒƒã‚¯ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®ã¿ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯ä½¿ç”¨ã§ãã¾ã›ã‚“ã€‚

```tsx filename="app/example-client-component.tsx" switcher
'use client'

import { useRouter, usePathname, useSearchParams } from 'next/navigation'

export default function ExampleClientComponent() {
  const router = useRouter()
  const pathname = usePathname()
  const searchParams = useSearchParams()

  // ...
}
```

```jsx filename="app/example-client-component.js" switcher
'use client'

import { useRouter, usePathname, useSearchParams } from 'next/navigation'

export default function ExampleClientComponent() {
  const router = useRouter()
  const pathname = usePathname()
  const searchParams = useSearchParams()

  // ...
}
```

ã•ã‚‰ã«ã€æ–°ã—ã„`useRouter`ãƒ•ãƒƒã‚¯ã«ã¯ä»¥ä¸‹ã®å¤‰æ›´ãŒã‚ã‚Šã¾ã™ï¼š

- `isFallback`ã¯å‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚`fallback`ã¯[ç½®ãæ›ãˆã‚‰ã‚Œã¾ã—ãŸ](#replacing-fallback)ã€‚
- `locale`ã€`locales`ã€`defaultLocales`ã€`domainLocales`ã®å€¤ã¯å‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯Next.jsã®çµ„ã¿è¾¼ã¿i18næ©Ÿèƒ½ã¯ä¸è¦ã«ãªã£ãŸãŸã‚ã§ã™ã€‚[i18nã«ã¤ã„ã¦è©³ã—ãå­¦ã¶](/docs/app/guides/internationalization)ã€‚
- `basePath`ã¯å‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚ä»£æ›¿æ©Ÿèƒ½ã¯`useRouter`ã®ä¸€éƒ¨ã§ã¯ãªãã€ã¾ã å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
- `asPath`ã¯å‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚æ–°ã—ã„ãƒ«ãƒ¼ã‚¿ãƒ¼ã§ã¯`as`ã®æ¦‚å¿µãŒãªããªã£ãŸãŸã‚ã§ã™ã€‚
- `isReady`ã¯ä¸è¦ã«ãªã£ãŸãŸã‚å‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚[é™çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° (Static Rendering)](/docs/app/getting-started/partial-prerendering#static-rendering)ä¸­ã«ã€[`useSearchParams()`](/docs/app/api-reference/functions/use-search-params)ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ãƒ—ãƒªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚¹ãƒ†ãƒƒãƒ—ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã€ä»£ã‚ã‚Šã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§å®Ÿè¡Œæ™‚ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¾ã™ã€‚
- `route`ã¯å‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚ä»£ã‚ã‚Šã«`usePathname`ã¾ãŸã¯`useSelectedLayoutSegments()`ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

[`useRouter()` APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’ç¢ºèª](/docs/app/api-reference/functions/use-router)ã€‚

#### `pages`ã¨`app`é–“ã§ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå…±æœ‰

`pages`ã¨`app`ãƒ«ãƒ¼ã‚¿ãƒ¼é–“ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’äº’æ›æ€§ã‚’æŒãŸã›ã‚‹ã«ã¯ã€[`next/compat/router`ã®`useRouter`ãƒ•ãƒƒã‚¯](/docs/pages/api-reference/functions/use-router#the-nextcompatrouter-export)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
ã“ã‚Œã¯`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®`useRouter`ãƒ•ãƒƒã‚¯ã§ã™ãŒã€ãƒ«ãƒ¼ã‚¿ãƒ¼é–“ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å…±æœ‰ã™ã‚‹éš›ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æ„å›³ã—ã¦ã„ã¾ã™ã€‚`app`ãƒ«ãƒ¼ã‚¿ãƒ¼ã§ã®ã¿ä½¿ç”¨ã™ã‚‹æº–å‚™ãŒã§ããŸã‚‰ã€æ–°ã—ã„[`next/navigation`ã®`useRouter`](/docs/app/api-reference/functions/use-router)ã«æ›´æ–°ã—ã¦ãã ã•ã„ã€‚

### ã‚¹ãƒ†ãƒƒãƒ—6: ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°ãƒ¡ã‚½ãƒƒãƒ‰ã®ç§»è¡Œ

`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€`getServerSideProps`ã¨`getStaticProps`ã‚’ä½¿ç”¨ã—ã¦ãƒšãƒ¼ã‚¸ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒã—ã¦ã„ã¾ã—ãŸã€‚`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€ã“ã‚Œã‚‰ã®å¾“æ¥ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°é–¢æ•°ã¯`fetch()`ã¨éåŒæœŸReactã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åŸºç›¤ã¨ã—ãŸ[ã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ãªAPI](/docs/app/building-your-application/data-fetching)ã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã—ãŸã€‚

```tsx filename="app/page.tsx" switcher
export default async function Page() {
  // ã“ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯æ‰‹å‹•ã§ç„¡åŠ¹åŒ–ã•ã‚Œã‚‹ã¾ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ã€‚
  // `getStaticProps`ã¨åŒæ§˜ã§ã™ã€‚
  // `force-cache`ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§çœç•¥å¯èƒ½ã§ã™ã€‚
  const staticData = await fetch(`https://...`, { cache: 'force-cache' })

  // ã“ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯æ¯å›å†ãƒ•ã‚§ãƒƒãƒã•ã‚Œã¾ã™ã€‚
  // `getServerSideProps`ã¨åŒæ§˜ã§ã™ã€‚
  const dynamicData = await fetch(`https://...`, { cache: 'no-store' })

  // ã“ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯10ç§’é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ã€‚
  // `revalidate`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ãã®`getStaticProps`ã¨åŒæ§˜ã§ã™ã€‚
  const revalidatedData = await fetch(`https://...`, {
    next: { revalidate: 10 },
  })

  return <div>...</div>
}
```

```jsx filename="app/page.js" switcher
export default async function Page() {
  // ã“ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯æ‰‹å‹•ã§ç„¡åŠ¹åŒ–ã•ã‚Œã‚‹ã¾ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ã€‚
  // `getStaticProps`ã¨åŒæ§˜ã§ã™ã€‚
  // `force-cache`ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§çœç•¥å¯èƒ½ã§ã™ã€‚
  const staticData = await fetch(`https://...`, { cache: 'force-cache' })

  // ã“ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯æ¯å›å†ãƒ•ã‚§ãƒƒãƒã•ã‚Œã¾ã™ã€‚
  // `getServerSideProps`ã¨åŒæ§˜ã§ã™ã€‚
  const dynamicData = await fetch(`https://...`, { cache: 'no-store' })

  // ã“ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯10ç§’é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ã€‚
  // `revalidate`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ãã®`getStaticProps`ã¨åŒæ§˜ã§ã™ã€‚
  const revalidatedData = await fetch(`https://...`, {
    next: { revalidate: 10 },
  })

  return <div>...</div>
}
```

#### ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° (`getServerSideProps`)

`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€`getServerSideProps`ã‚’ä½¿ç”¨ã—ã¦ã‚µãƒ¼ãƒãƒ¼ä¸Šã§ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒã—ã€ãƒ•ã‚¡ã‚¤ãƒ«å†…ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã‚‹Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«propsã¨ã—ã¦æ¸¡ã—ã¦ã„ã¾ã—ãŸã€‚ãƒšãƒ¼ã‚¸ã®åˆæœŸHTMLã¯ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ãƒ—ãƒªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã€ãã®å¾Œãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒšãƒ¼ã‚¸ã‚’ã€Œãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ãƒˆã€ï¼ˆã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«ï¼‰ã—ã¦ã„ã¾ã—ãŸã€‚

```jsx filename="pages/dashboard.js"
// `pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

export async function getServerSideProps() {
  const res = await fetch(`https://...`)
  const projects = await res.json()

  return { props: { projects } }
}

export default function Dashboard({ projects }) {
  return (
    <ul>
      {projects.map((project) => (
        <li key={project.id}>{project.name}</li>
      ))}
    </ul>
  )
}
```

App Routerã§ã¯ã€[ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (Server Components)](/docs/app/getting-started/server-and-client-components)å†…ã§ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°ã‚’ç›´æ¥è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã™ã‚‹JavaScriptã‚’æ¸›ã‚‰ã—ãªãŒã‚‰ã€ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚ŒãŸHTMLã‚’ç¶­æŒã§ãã¾ã™ã€‚

`cache`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’`no-store`ã«è¨­å®šã™ã‚‹ã“ã¨ã§ã€ãƒ•ã‚§ãƒƒãƒã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’[ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ãªã„](/docs/app/getting-started/fetching-data)ã‚ˆã†ã«æŒ‡ç¤ºã§ãã¾ã™ã€‚ã“ã‚Œã¯`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®`getServerSideProps`ã¨åŒæ§˜ã®å‹•ä½œã§ã™ã€‚

```tsx filename="app/dashboard/page.tsx" switcher
// `app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

// ã“ã®é–¢æ•°ã¯ä»»æ„ã®åå‰ã‚’ä»˜ã‘ã‚‰ã‚Œã¾ã™
async function getProjects() {
  const res = await fetch(`https://...`, { cache: 'no-store' })
  const projects = await res.json()

  return projects
}

export default async function Dashboard() {
  const projects = await getProjects()

  return (
    <ul>
      {projects.map((project) => (
        <li key={project.id}>{project.name}</li>
      ))}
    </ul>
  )
}
```

```jsx filename="app/dashboard/page.js" switcher
// `app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

// ã“ã®é–¢æ•°ã¯ä»»æ„ã®åå‰ã‚’ä»˜ã‘ã‚‰ã‚Œã¾ã™
async function getProjects() {
  const res = await fetch(`https://...`, { cache: 'no-store' })
  const projects = await res.json()

  return projects
}

export default async function Dashboard() {
  const projects = await getProjects()

  return (
    <ul>
      {projects.map((project) => (
        <li key={project.id}>{project.name}</li>
      ))}
    </ul>
  )
}
```

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹

`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€Node.js HTTP APIã«åŸºã¥ã„ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã§ãã¾ã—ãŸã€‚

ä¾‹ãˆã°ã€`getServerSideProps`ã‹ã‚‰`req`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–å¾—ã—ã€ãã‚Œã‚’ä½¿ç”¨ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã‚¯ãƒƒã‚­ãƒ¼ã‚„ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’å–å¾—ã§ãã¾ã—ãŸã€‚

```jsx filename="pages/index.js"
// `pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

export async function getServerSideProps({ req, query }) {
  const authHeader = req.getHeaders()['authorization'];
  const theme = req.cookies['theme'];

  return { props: { ... }}
}

export default function Page(props) {
  return ...
}
```

`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®æ–°ã—ã„èª­ã¿å–ã‚Šå°‚ç”¨é–¢æ•°ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ï¼š

- [`headers`](/docs/app/api-reference/functions/headers): Web Headers APIã«åŸºã¥ã„ã¦ãŠã‚Šã€[ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](/docs/app/getting-started/server-and-client-components)å†…ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ãƒ¼ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã¾ã™ã€‚
- [`cookies`](/docs/app/api-reference/functions/cookies): Web Cookies APIã«åŸºã¥ã„ã¦ãŠã‚Šã€[ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](/docs/app/getting-started/server-and-client-components)å†…ã§ã‚¯ãƒƒã‚­ãƒ¼ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã¾ã™ã€‚

```tsx filename="app/page.tsx" switcher
// `app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
import { cookies, headers } from 'next/headers'

async function getData() {
  const authHeader = (await headers()).get('authorization')

  return '...'
}

export default async function Page() {
  // ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ç›´æ¥ã€ã¾ãŸã¯ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°é–¢æ•°å†…ã§
  // `cookies`ã‚„`headers`ã‚’ä½¿ç”¨ã§ãã¾ã™
  const theme = (await cookies()).get('theme')
  const data = await getData()
  return '...'
}
```

```jsx filename="app/page.js" switcher
// `app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
import { cookies, headers } from 'next/headers'

async function getData() {
  const authHeader = (await headers()).get('authorization')

  return '...'
}

export default async function Page() {
  // ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ç›´æ¥ã€ã¾ãŸã¯ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°é–¢æ•°å†…ã§
  // `cookies`ã‚„`headers`ã‚’ä½¿ç”¨ã§ãã¾ã™
  const theme = (await cookies()).get('theme')
  const data = await getData()
  return '...'
}
```

#### é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆ (`getStaticProps`)

`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€`getStaticProps`é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ãƒ“ãƒ«ãƒ‰æ™‚ã«ãƒšãƒ¼ã‚¸ã‚’ãƒ—ãƒªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¦ã„ã¾ã—ãŸã€‚ã“ã®é–¢æ•°ã¯å¤–éƒ¨APIã‚„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ç›´æ¥ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒã—ã€ãƒ“ãƒ«ãƒ‰æ™‚ã«ç”Ÿæˆã•ã‚Œã‚‹ãƒšãƒ¼ã‚¸å…¨ä½“ã«ã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã—ãŸã€‚

```jsx filename="pages/index.js"
// `pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

export async function getStaticProps() {
  const res = await fetch(`https://...`)
  const projects = await res.json()

  return { props: { projects } }
}

export default function Index({ projects }) {
  return projects.map((project) => <div>{project.name}</div>)
}
```

`app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€[`fetch()`](/docs/app/api-reference/functions/fetch)ã‚’ä½¿ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§`cache: 'force-cache'`ã«ãªã‚Šã€æ‰‹å‹•ã§ç„¡åŠ¹åŒ–ã•ã‚Œã‚‹ã¾ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¾ã™ã€‚ã“ã‚Œã¯`pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®`getStaticProps`ã¨åŒæ§˜ã®å‹•ä½œã§ã™ã€‚

```jsx filename="app/page.js"
// `app`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

// ã“ã®é–¢æ•°ã¯ä»»æ„ã®åå‰ã‚’ä»˜ã‘ã‚‰ã‚Œã¾ã™
async function getProjects() {
  const res = await fetch(`https://...`)
  const projects = await res.json()

  return projects
}

export default async function Index() {
  const projects = await getProjects()

  return projects.map((project) => <div>{project.name}</div>)
}
```

#### ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãƒ‘ã‚¹ (`getStaticPaths`)

`pages` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€`getStaticPaths` é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ãƒ“ãƒ«ãƒ‰æ™‚ã«ãƒ—ãƒªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãƒ‘ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚

```jsx filename="pages/posts/[id].js"
// `pages` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
import PostLayout from '@/components/post-layout'

export async function getStaticPaths() {
  return {
    paths: [{ params: { id: '1' } }, { params: { id: '2' } }],
  }
}

export async function getStaticProps({ params }) {
  const res = await fetch(`https://.../posts/${params.id}`)
  const post = await res.json()

  return { props: { post } }
}

export default function Post({ post }) {
  return <PostLayout post={post} />
}
```

`app` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€`getStaticPaths` ã¯ [`generateStaticParams`](/docs/app/api-reference/functions/generate-static-params) ã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã™ã€‚

[`generateStaticParams`](/docs/app/api-reference/functions/generate-static-params) ã¯ `getStaticPaths` ã¨åŒæ§˜ã®å‹•ä½œã‚’ã—ã¾ã™ãŒã€ãƒ«ãƒ¼ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¿”ã™ãŸã‚ã®ç°¡ç´ åŒ–ã•ã‚ŒãŸAPIã‚’æä¾›ã—ã€[ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ](/docs/app/api-reference/file-conventions/layout)å†…ã§ä½¿ç”¨ã§ãã¾ã™ã€‚`generateStaticParams` ã®æˆ»ã‚Šå€¤ã®å½¢å¼ã¯ã€ãƒã‚¹ãƒˆã•ã‚ŒãŸ `param` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é…åˆ—ã‚„è§£æ±ºæ¸ˆã¿ãƒ‘ã‚¹ã®æ–‡å­—åˆ—ã§ã¯ãªãã€ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®é…åˆ—ã§ã™ã€‚

```jsx filename="app/posts/[id]/page.js"
// `app` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
import PostLayout from '@/components/post-layout'

export async function generateStaticParams() {
  return [{ id: '1' }, { id: '2' }]
}

async function getPost(params) {
  const res = await fetch(`https://.../posts/${(await params).id}`)
  const post = await res.json()

  return post
}

export default async function Post({ params }) {
  const post = await getPost(params)

  return <PostLayout post={post} />
}
```

`app` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ–°ã—ã„ãƒ¢ãƒ‡ãƒ«ã§ã¯ã€`getStaticPaths` ã‚ˆã‚Šã‚‚ `generateStaticParams` ã¨ã„ã†åå‰ãŒé©åˆ‡ã§ã™ã€‚`get` ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã¯ã€ã‚ˆã‚Šèª¬æ˜çš„ãª `generate` ã«ç½®ãæ›ãˆã‚‰ã‚Œã€`getStaticProps` ã‚„ `getServerSideProps` ãŒä¸è¦ã«ãªã£ãŸç¾åœ¨ã§ã¯å˜ç‹¬ã§é©åˆ‡ã§ã™ã€‚`Paths` ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹ã¯ã€è¤‡æ•°ã®ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’æŒã¤ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ã‚ˆã‚Šé©ã—ãŸ `Params` ã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã—ãŸã€‚

---

#### `fallback` ã®ç½®ãæ›ãˆ

`pages` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€`getStaticPaths` ã‹ã‚‰è¿”ã•ã‚Œã‚‹ `fallback` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ“ãƒ«ãƒ‰æ™‚ã«ãƒ—ãƒªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¦ã„ãªã„ãƒšãƒ¼ã‚¸ã®å‹•ä½œã‚’å®šç¾©ã—ã¾ã™ã€‚ã“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€ãƒšãƒ¼ã‚¸ç”Ÿæˆä¸­ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹ `true`ã€404ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹ `false`ã€ã¾ãŸã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã«ãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆã™ã‚‹ `blocking` ã«è¨­å®šã§ãã¾ã™ã€‚

```jsx filename="pages/posts/[id].js"
// `pages` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

export async function getStaticPaths() {
  return {
    paths: [],
    fallback: 'blocking'
  };
}

export async function getStaticProps({ params }) {
  ...
}

export default function Post({ post }) {
  return ...
}
```

`app` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€[`config.dynamicParams` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£](/docs/app/api-reference/file-conventions/route-segment-config#dynamicparams) ãŒ [`generateStaticParams`](/docs/app/api-reference/functions/generate-static-params) ã«å«ã¾ã‚Œã¦ã„ãªã„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å‡¦ç†æ–¹æ³•ã‚’åˆ¶å¾¡ã—ã¾ã™:

- **`true`**: (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ) `generateStaticParams` ã«å«ã¾ã‚Œã¦ã„ãªã„ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã¯ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ã§ç”Ÿæˆã•ã‚Œã¾ã™ã€‚
- **`false`**: `generateStaticParams` ã«å«ã¾ã‚Œã¦ã„ãªã„ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã¯404ã‚’è¿”ã—ã¾ã™ã€‚

ã“ã‚Œã¯ `pages` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã® `getStaticPaths` ã® `fallback: true | false | 'blocking'` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç½®ãæ›ãˆã¾ã™ã€‚`fallback: 'blocking'` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ `dynamicParams` ã«å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã§ã¯ `'blocking'` ã¨ `true` ã®é•ã„ãŒã»ã¨ã‚“ã©ãªã„ãŸã‚ã§ã™ã€‚

```jsx filename="app/posts/[id]/page.js"
// `app` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

export const dynamicParams = true;

export async function generateStaticParams() {
  return [...]
}

async function getPost(params) {
  ...
}

export default async function Post({ params }) {
  const post = await getPost(params);

  return ...
}
```

[`dynamicParams`](/docs/app/api-reference/file-conventions/route-segment-config#dynamicparams) ã‚’ `true` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ) ã«è¨­å®šã™ã‚‹ã¨ã€ç”Ÿæˆã•ã‚Œã¦ã„ãªã„ãƒ«ãƒ¼ãƒˆã‚»ã‚°ãƒ¡ãƒ³ãƒˆãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã•ã‚Œã‚‹ã¨ã€ã‚µãƒ¼ãƒãƒ¼ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ã€‚

#### ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«é™çš„å†ç”Ÿæˆ (`getStaticProps` ã® `revalidate`)

`pages` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€`getStaticProps` é–¢æ•°ã« `revalidate` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ã—ã¦ã€ä¸€å®šæ™‚é–“å¾Œã«ãƒšãƒ¼ã‚¸ã‚’è‡ªå‹•çš„ã«å†ç”Ÿæˆã§ãã¾ã™ã€‚

```jsx filename="pages/index.js"
// `pages` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

export async function getStaticProps() {
  const res = await fetch(`https://.../posts`)
  const posts = await res.json()

  return {
    props: { posts },
    revalidate: 60,
  }
}

export default function Index({ posts }) {
  return (
    <Layout>
      <PostList posts={posts} />
    </Layout>
  )
}
```

`app` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€[`fetch()`](/docs/app/api-reference/functions/fetch) ã‚’ä½¿ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿å–å¾—ã§ `revalidate` ã‚’ä½¿ç”¨ã§ãã€æŒ‡å®šã•ã‚ŒãŸç§’æ•°é–“ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¾ã™ã€‚

```jsx filename="app/page.js"
// `app` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

async function getPosts() {
  const res = await fetch(`https://.../posts`, { next: { revalidate: 60 } })
  const data = await res.json()

  return data.posts
}

export default async function PostList() {
  const posts = await getPosts()

  return posts.map((post) => <div>{post.name}</div>)
}
```

#### API ãƒ«ãƒ¼ãƒˆ

API ãƒ«ãƒ¼ãƒˆã¯ `pages/api` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§å¤‰æ›´ãªãå¼•ãç¶šãå‹•ä½œã—ã¾ã™ã€‚ãŸã ã—ã€`app` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ [ãƒ«ãƒ¼ãƒˆãƒãƒ³ãƒ‰ãƒ©](/docs/app/building-your-application/routing/route-handlers) ã«ç½®ãæ›ãˆã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

ãƒ«ãƒ¼ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€Web ã® [Request](https://developer.mozilla.org/docs/Web/API/Request) ãŠã‚ˆã³ [Response](https://developer.mozilla.org/docs/Web/API/Response) API ã‚’ä½¿ç”¨ã—ã¦ã€ç‰¹å®šã®ãƒ«ãƒ¼ãƒˆã®ã‚«ã‚¹ã‚¿ãƒ ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’ä½œæˆã§ãã¾ã™ã€‚

```ts filename="app/api/route.ts" switcher
export async function GET(request: Request) {}
```

```js filename="app/api/route.js" switcher
export async function GET(request) {}
```

> **çŸ¥ã£ã¦ãŠãã¨è‰¯ã„ã“ã¨**: ä»¥å‰ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰å¤–éƒ¨APIã‚’å‘¼ã³å‡ºã™ãŸã‚ã«APIãƒ«ãƒ¼ãƒˆã‚’ä½¿ç”¨ã—ã¦ã„ãŸå ´åˆã€[ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](/docs/app/getting-started/server-and-client-components) ã‚’ä½¿ç”¨ã—ã¦å®‰å…¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚[ãƒ‡ãƒ¼ã‚¿å–å¾—](/docs/app/getting-started/fetching-data) ã«ã¤ã„ã¦è©³ã—ãå­¦ã³ã¾ã—ã‚‡ã†ã€‚

#### ã‚·ãƒ³ã‚°ãƒ«ãƒšãƒ¼ã‚¸ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

ã‚·ãƒ³ã‚°ãƒ«ãƒšãƒ¼ã‚¸ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ (SPA) ã‹ã‚‰ Next.js ã«ç§»è¡Œã™ã‚‹å ´åˆã¯ã€[ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](/docs/app/guides/single-page-applications) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### ã‚¹ãƒ†ãƒƒãƒ—7: ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

`pages` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã¯ `pages/_app.js` ã«é™å®šã•ã‚Œã¦ã„ã¾ã—ãŸã€‚`app` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ã€ã“ã®åˆ¶é™ãŒè§£é™¤ã•ã‚Œã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«ã¯ä»»æ„ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒšãƒ¼ã‚¸ã€ã¾ãŸã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«è¿½åŠ ã§ãã¾ã™ã€‚

- [CSS ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«](/docs/app/getting-started/css#css-modules)
- [Tailwind CSS](/docs/app/guides/tailwind-css)
- [ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«](/docs/app/getting-started/css#global-css)
- [CSS-in-JS](/docs/app/guides/css-in-js)
- [å¤–éƒ¨ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ](/docs/app/getting-started/css#external-stylesheets)
- [Sass](/docs/app/guides/sass)

#### Tailwind CSS

Tailwind CSS ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€`tailwind.config.js` ãƒ•ã‚¡ã‚¤ãƒ«ã« `app` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™:

```js filename="tailwind.config.js"
module.exports = {
  content: [
    './app/**/*.{js,ts,jsx,tsx,mdx}', // <-- ã“ã®è¡Œã‚’è¿½åŠ 
    './pages/**/*.{js,ts,jsx,tsx,mdx}',
    './components/**/*.{js,ts,jsx,tsx,mdx}',
  ],
}
```

ã¾ãŸã€`app/layout.js` ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™:

```jsx filename="app/layout.js"
import '../styles/globals.css'

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}
```

[Tailwind CSS ã‚’ä½¿ã£ãŸã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°](/docs/app/guides/tailwind-css) ã«ã¤ã„ã¦è©³ã—ãå­¦ã³ã¾ã—ã‚‡ã†

## App Router ã¨ Pages Router ã®ä½µç”¨

ç•°ãªã‚‹ Next.js ãƒ«ãƒ¼ã‚¿ãƒ¼ã«ã‚ˆã£ã¦æä¾›ã•ã‚Œã‚‹ãƒ«ãƒ¼ãƒˆé–“ã‚’ãƒŠãƒ“ã‚²ãƒ¼ãƒˆã™ã‚‹å ´åˆã€ãƒãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒç™ºç”Ÿã—ã¾ã™ã€‚`next/link` ã«ã‚ˆã‚‹è‡ªå‹•ãƒªãƒ³ã‚¯ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒã¯ã€ãƒ«ãƒ¼ã‚¿ãƒ¼é–“ã§ã¯ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒã•ã‚Œã¾ã›ã‚“ã€‚

ä»£ã‚ã‚Šã«ã€App Router ã¨ Pages Router é–“ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’[æœ€é©åŒ–](https://vercel.com/guides/optimizing-hard-navigations)ã—ã¦ã€ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒã¨é«˜é€Ÿãªãƒšãƒ¼ã‚¸é·ç§»ã‚’ç¶­æŒã§ãã¾ã™ã€‚[è©³ç´°ã‚’å­¦ã¶](https://vercel.com/guides/optimizing-hard-navigations)

## ã‚³ãƒ¼ãƒ‰ãƒ¢ãƒƒãƒ‰

Next.js ã¯ã€æ©Ÿèƒ½ãŒéæ¨å¥¨ã«ãªã£ãŸã¨ãã«ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹ãŸã‚ã®ã‚³ãƒ¼ãƒ‰ãƒ¢ãƒƒãƒ‰å¤‰æ›ã‚’æä¾›ã—ã¾ã™ã€‚è©³ç´°ã«ã¤ã„ã¦ã¯ [ã‚³ãƒ¼ãƒ‰ãƒ¢ãƒƒãƒ‰](/docs/app/guides/upgrading/codemods) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
