---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-06-02T20:12:35.966Z
title: onDemandEntries
description: Next.js が開発環境で作成したページをメモリ上で保持または破棄する方法を設定します。
---

{/* このドキュメントの内容は App Router と Pages Router で共有されています。Pages Router 固有の内容を追加する場合は `<PagesOnly>Content</PagesOnly>` コンポーネントを使用できます。共有コンテンツはコンポーネントでラップしないでください。 */}

Next.js は、開発環境でビルドされたページをサーバーがどのように破棄またはメモリ上に保持するかを制御するためのいくつかのオプションを提供しています。

デフォルト設定を変更するには、`next.config.js` を開き、`onDemandEntries` 設定を追加します：

```js filename="next.config.js"
module.exports = {
  onDemandEntries: {
    // サーバーがページをバッファに保持する期間（ミリ秒）
    maxInactiveAge: 25 * 1000,
    // 同時に保持するページ数（破棄されない）
    pagesBufferLength: 2,
  },
}
```