---
source-updated-at: 2025-05-29T18:05:49.000Z
translation-updated-at: 2025-06-02T19:44:46.326Z
title: Datenbank einrichten
headline: 'App Router: Datenbank einrichten'
description: Richten Sie eine Datenbank f√ºr Ihre Anwendung ein und bef√ºllen Sie sie mit Initialdaten.
image: >-
  https://nextjs.org/api/learn-og?title=Setting%20Up%20Your%20Database&amp;chapter=6
---

Bevor Sie mit Ihrem Dashboard fortfahren k√∂nnen, ben√∂tigen Sie einige Daten. In diesem Kapitel richten Sie eine PostgreSQL-Datenbank √ºber eine der [Vercel-Marketplace-Integrationen](https://vercel.com/marketplace?category=databases) ein. Falls Sie bereits mit PostgreSQL vertraut sind und Ihren eigenen Datenbankanbieter nutzen m√∂chten, k√∂nnen Sie dieses Kapitel √ºberspringen und die Datenbank selbst einrichten. Ansonsten lassen Sie uns fortfahren!

[GitHub-Repository erstellen](#create-a-github-repository)
---------------------------------------------------------

Zun√§chst sollten Sie Ihr Repository auf GitHub pushen, falls Sie dies noch nicht getan haben. Dies erleichtert die Einrichtung Ihrer Datenbank und das Deployment.

Falls Sie Hilfe bei der Repository-Einrichtung ben√∂tigen, werfen Sie einen Blick auf [diese GitHub-Anleitung](https://help.github.com/en/github/getting-started-with-github/create-a-repo).

> **Gut zu wissen:**
> 
> *   Sie k√∂nnen auch andere Git-Anbieter wie GitLab oder Bitbucket verwenden.
> *   Falls Sie neu bei GitHub sind, empfehlen wir die [GitHub Desktop App](https://desktop.github.com/) f√ºr einen vereinfachten Entwicklungs-Workflow.

[Vercel-Konto erstellen](#create-a-vercel-account)
---------------------------------------------------

Besuchen Sie [vercel.com/signup](https://vercel.com/signup), um ein Konto zu erstellen. W√§hlen Sie den kostenlosen "Hobby"-Plan. Klicken Sie auf **Mit GitHub fortfahren**, um Ihre GitHub- und Vercel-Konten zu verbinden.

[Projekt verbinden und deployen](#connect-and-deploy-your-project)
-------------------------------------------------------------------

Als N√§chstes gelangen Sie zu diesem Bildschirm, wo Sie das soeben erstellte GitHub-Repository ausw√§hlen und **importieren** k√∂nnen:

<Image
  alt="Screenshot des Vercel-Dashboards mit dem Import-Projekt-Bildschirm und einer Liste der GitHub-Repositories des Benutzers"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/import-git-repo.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/import-git-repo.png"
  width="960"
  height="511"
/>

Benennen Sie Ihr Projekt und klicken Sie auf **Deploy**.

<Image
  alt="Deployment-Bildschirm mit dem Projektnamenfeld und einem Deploy-Button"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/configure-project.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/configure-project.png"
  width="960"
  height="491"
/>

Hurra! üéâ Ihr Projekt ist nun deployed.

<Image
  alt="Projekt√ºbersichtsbildschirm mit Projektname, Domain und Deployment-Status"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/deployed-project.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/deployed-project.png"
  width="960"
  height="479"
/>

Durch die Verbindung Ihres GitHub-Repositorys wird Vercel bei jedem Push in den **main**-Branch Ihre Anwendung automatisch ohne zus√§tzliche Konfiguration neu deployen. Bei Pull Requests erhalten Sie au√üerdem [sofortige Preview-URLs](https://vercel.com/docs/deployments/environments#preview-environment-pre-production#preview-urls), die es Ihnen erm√∂glichen, Deployment-Fehler fr√ºhzeitig zu erkennen und eine Vorschau Ihres Projekts mit Teammitgliedern zu teilen.

[Postgres-Datenbank erstellen](#create-a-postgres-database)
---------------------------------------------------------

Um eine Datenbank einzurichten, klicken Sie auf **Continue to Dashboard** und w√§hlen Sie den Tab **Storage** in Ihrem Projekt-Dashboard. W√§hlen Sie **Create Database**. Je nachdem, wann Ihr Vercel-Konto erstellt wurde, sehen Sie m√∂glicherweise Optionen wie Neon oder Supabase. W√§hlen Sie Ihren bevorzugten Anbieter und klicken Sie auf **Continue**.

<Image
  alt="Connect Store-Bildschirm mit der Postgres-Option sowie KV, Blob und Edge Config"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/create-database.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/create-database.png"
  width="960"
  height="513"
/>

W√§hlen Sie Ihre Region und ggf. Ihren Storage-Plan. Die [Standard-Region](https://vercel.com/docs/functions/configuring-functions/region) f√ºr alle Vercel-Projekte ist **Washington D.C (iad1)**, und wir empfehlen diese zu w√§hlen, falls verf√ºgbar, um die [Latenz](https://developer.mozilla.org/en-US/docs/Web/Performance/Understanding_latency) f√ºr Datenanfragen zu reduzieren.

<Image
  alt="Datenbank-Erstellungs-Modal mit Datenbankname und Region"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/database-region.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/database-region.png"
  width="960"
  height="513"
/>

Nach der Verbindung navigieren Sie zum Tab `.env.local`, klicken auf **Show secret** und dann auf **Copy Snippet**. Stellen Sie sicher, dass Sie die Secrets anzeigen lassen, bevor Sie sie kopieren.

<Image
  alt="Der .env.local-Tab mit den versteckten Datenbank-Secrets"
  srcLight="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/light/database-dashboard.png"
  srcDark="https://h8DxKfmAPhn8O0p3.public.blob.vercel-storage.com/learn/dark/database-dashboard.png"
  width="960"
  height="358"
/>

Navigieren Sie zu Ihrem Code-Editor und benennen Sie die `.env.example`-Datei in **`.env`** um. F√ºgen Sie die kopierten Inhalte von Vercel ein.

> **Wichtig:** √úberpr√ºfen Sie Ihre `.gitignore`-Datei und stellen Sie sicher, dass `.env` in den ignorierten Dateien aufgef√ºhrt ist, um zu verhindern, dass Ihre Datenbank-Secrets beim Push zu GitHub exponiert werden.

[Datenbank bef√ºllen](#seed-your-database)
-----------------------------------------

Nachdem Ihre Datenbank erstellt wurde, bef√ºllen wir sie nun mit einigen Initialdaten.

Wir haben eine API eingebunden, die Sie im Browser aufrufen k√∂nnen, um ein Seed-Skript auszuf√ºhren, das die Datenbank mit einem ersten Datensatz bef√ºllt.

Das Skript verwendet **SQL**, um die Tabellen zu erstellen, und die Daten aus der `placeholder-data.ts`-Datei, um sie nach der Erstellung zu bef√ºllen.

Stellen Sie sicher, dass Ihr lokaler Entwicklungsserver mit `pnpm run dev` l√§uft, und navigieren Sie im Browser zu [`localhost:3000/seed`](http://localhost:3000/seed). Nach Abschluss sehen Sie die Meldung "Database seeded successfully" im Browser. Anschlie√üend k√∂nnen Sie diese Datei l√∂schen.

> **Fehlerbehebung**:
> 
> *   Stellen Sie sicher, dass Sie Ihre Datenbank-Secrets anzeigen lassen, bevor Sie sie in Ihre `.env`-Datei kopieren.
> *   Das Skript verwendet `bcrypt`, um das Passwort des Benutzers zu hashen. Falls `bcrypt` nicht mit Ihrer Umgebung kompatibel ist, k√∂nnen Sie das Skript anpassen, um stattdessen [`bcryptjs`](https://www.npmjs.com/package/bcryptjs) zu verwenden.
> *   Falls Sie Probleme beim Bef√ºllen Ihrer Datenbank haben und das Skript erneut ausf√ºhren m√∂chten, k√∂nnen Sie vorhandene Tabellen l√∂schen, indem Sie `DROP TABLE tablename` in Ihrer Datenbank-Abfrageoberfl√§che ausf√ºhren. Weitere Details finden Sie im Abschnitt [Abfragen ausf√ºhren](#executing-queries) unten. Seien Sie jedoch vorsichtig - dieser Befehl l√∂scht die Tabellen und alle darin enthaltenen Daten. F√ºr Ihre Beispiel-App ist dies in Ordnung, da Sie mit Platzhalterdaten arbeiten, aber in einer Produktions-App sollten Sie diesen Befehl nicht ausf√ºhren.

[Abfragen ausf√ºhren](#executing-queries)
---------------------------------------

Lassen Sie uns eine Abfrage ausf√ºhren, um sicherzustellen, dass alles wie erwartet funktioniert. Wir verwenden einen weiteren Router Handler, `app/query/route.ts`, um die Datenbank abzufragen. In dieser Datei finden Sie eine `listInvoices()`-Funktion mit folgender SQL-Abfrage.

```
SELECT invoices.amount, customers.name
FROM invoices
JOIN customers ON invoices.customer_id = customers.id
WHERE invoices.amount = 666;
```

Heben Sie die Kommentierung der Datei auf, entfernen Sie den `Response.json()`-Block und navigieren Sie im Browser zu [`localhost:3000/query`](http://localhost:3000/query). Sie sollten sehen, dass ein Rechnungsbetrag (`amount`) und ein Name (`name`) zur√ºckgegeben wird.