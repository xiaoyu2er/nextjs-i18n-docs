---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-06-06T18:00:07.118Z
title: Server Actions
nav_title: Server Actions
description: API-Referenz f√ºr Server Actions in Next.js.
related:
  title: N√§chste Schritte
  description: F√ºr weitere Informationen zu den n√§chsten Schritten empfehlen wir die folgenden Abschnitte
  links:
    - app/building-your-application/data-fetching/forms-and-mutations
---

{/* TODO: Diese Seite muss auf die unten erw√§hnten React-Dokumente verlinken */}

Next.js integriert React Actions, um eine eingebaute L√∂sung f√ºr [Server-Mutationen](/docs/app/building-your-application/data-fetching/forms-and-mutations) bereitzustellen.

## Konvention

Sie k√∂nnen Server Actions in Ihrem Next.js-Projekt aktivieren, indem Sie das **experimentelle** Flag `serverActions` aktivieren.

```js filename="next.config.js"
module.exports = {
  experimental: {
    serverActions: true,
  },
}
```

Server Actions k√∂nnen an zwei Orten definiert werden:

- Innerhalb der Komponente, die sie verwendet (nur Server Components).
- In einer separaten Datei (Client- und Server Components), zur Wiederverwendbarkeit. Sie k√∂nnen mehrere Server Actions in einer einzelnen Datei definieren.

### Mit Server Components

Erstellen Sie eine Server Action, indem Sie eine asynchrone Funktion mit der [`"use server"`](https://react.dev/reference/react/use-server)-Direktive am Anfang des Funktionsk√∂rpers definieren. `"use server"` stellt sicher, dass diese Funktion nur auf dem Server ausgef√ºhrt wird.

Diese Funktion sollte [serialisierbare Argumente](https://developer.mozilla.org/docs/Glossary/Serialization) und einen [serialisierbaren R√ºckgabewert](https://developer.mozilla.org/docs/Glossary/Serialization) haben.

```jsx filename="app/page.js" highlight={2}
export default function ServerComponent() {
  async function myAction() {
    'use server'
    // ...
  }
}
```

### Mit Client Components

#### Import

Erstellen Sie Ihre Server Action in einer separaten Datei mit der `"use server"`-Direktive am Anfang der Datei. Importieren Sie dann die Server Action in Ihre Client-Komponente:

```js filename="app/actions.js" highlight={1}
'use server'

export async function myAction() {
  // ...
}
```

```jsx filename="app/client-component.jsx" highlight={1}
'use client'

import { myAction } from './actions'

export default function ClientComponent() {
  return (
    <form action={myAction}>
      <button type="submit">Zum Warenkorb hinzuf√ºgen</button>
    </form>
  )
}
```

> **Gut zu wissen**: Wenn eine `"use server"`-Direktive auf oberster Ebene verwendet wird, gelten alle darunter exportierten Funktionen als Server Actions. Sie k√∂nnen mehrere Server Actions in einer einzelnen Datei haben.

#### Props

In einigen F√§llen m√∂chten Sie m√∂glicherweise eine Server Action als Prop an eine Client-Komponente √ºbergeben.

```jsx
<ClientComponent updateItem={updateItem} />
```

```jsx filename="app/client-component.jsx"
'use client'

export default function ClientComponent({ myAction }) {
  return (
    <form action={myAction}>
      <input type="text" name="name" />
      <button type="submit">Element aktualisieren</button>
    </form>
  )
}
```

### Argumente binden

Sie k√∂nnen Argumente an eine Server Action binden, indem Sie die `bind`-Methode verwenden. Dies erm√∂glicht es Ihnen, eine neue Server Action mit bereits gebundenen Argumenten zu erstellen. Dies ist n√ºtzlich, wenn Sie zus√§tzliche Argumente an eine Server Action √ºbergeben m√∂chten.

```jsx filename="app/client-component.jsx" highlight={6}
'use client'

import { updateUser } from './actions'

export function UserProfile({ userId }) {
  const updateUserWithId = updateUser.bind(null, userId)

  return (
    <form action={updateUserWithId}>
      <input type="text" name="name" />
      <button type="submit">Benutzernamen aktualisieren</button>
    </form>
  )
}
```

Dann erh√§lt die `updateUser`-Server Action immer das `userId`-Argument zus√§tzlich zu den Formulardaten:

```js filename="app/actions.js"
'use server'

export async function updateUser(userId, formData) {
  // ...
}
```

> **Gut zu wissen**: `.bind` einer Server Action funktioniert sowohl in Server- als auch in Client-Komponenten. Es unterst√ºtzt auch [Progressive Enhancement](#progressive-enhancement).

## Aufruf

Sie k√∂nnen Server Actions mit folgenden Methoden aufrufen:

- Mit `action`: Reacts `action`-Prop erm√∂glicht den Aufruf einer Server Action auf einem `<form>`-Element.
- Mit `formAction`: Reacts `formAction`-Prop erm√∂glicht die Behandlung von `<button>`, `<input type="submit">` und `<input type="image">`-Elementen in einem `<form>`.
- Benutzerdefinierter Aufruf mit `startTransition`: Rufen Sie Server Actions ohne Verwendung von `action` oder `formAction` mit `startTransition` auf. Diese Methode **deaktiviert [Progressive Enhancement](#progressive-enhancement)**.

## Progressive Enhancement

Progressive Enhancement erm√∂glicht es einem `<form>`, auch ohne JavaScript oder bei deaktiviertem JavaScript ordnungsgem√§√ü zu funktionieren. Dies erm√∂glicht Benutzern die Interaktion mit dem Formular und das Absenden von Daten, auch wenn das JavaScript f√ºr das Formular noch nicht geladen wurde oder fehlschl√§gt.

React Actions (sowohl Server- als auch Client-Actions) unterst√ºtzen Progressive Enhancement mit einer von zwei Strategien:

- Wenn eine **Server Action** direkt an ein `<form>` √ºbergeben wird, ist das Formular **auch bei deaktiviertem JavaScript** interaktiv.
- Wenn eine **Client Action** an ein `<form>` √ºbergeben wird, ist das Formular weiterhin interaktiv, aber die Action wird in eine Warteschlange gestellt, bis das Formular hydratisiert ist. React priorisiert die Action, sodass sie dennoch schnell ausgef√ºhrt wird.

In beiden F√§llen ist das Formular vor der Hydratisierung interaktiv. Obwohl Server Actions den zus√§tzlichen Vorteil haben, nicht auf Client-JavaScript angewiesen zu sein, k√∂nnen Sie dennoch zus√§tzliches Verhalten mit Client Actions kombinieren, ohne die Interaktivit√§t zu beeintr√§chtigen.

## Gr√∂√üenbeschr√§nkung

Standardm√§√üig betr√§gt die maximale Gr√∂√üe des an eine Server Action gesendeten Request-Bodys 1MB, um die √ºberm√§√üige Belastung der Serverressourcen durch das Parsen gro√üer Datenmengen zu verhindern.

Sie k√∂nnen diese Beschr√§nkung jedoch mit der Option `serverActionsBodySizeLimit` konfigurieren. Sie kann die Anzahl der Bytes oder ein beliebiges von bytes unterst√ºtztes Zeichenfolgenformat annehmen, z.B. `1000`, `'500kb'` oder `'3mb'`.

```js filename="next.config.js"
module.exports = {
  experimental: {
    serverActions: true,
    serverActionsBodySizeLimit: '2mb',
  },
}
```

## Zus√§tzliche Ressourcen

Die folgenden React-API-Seiten werden derzeit dokumentiert:

- [`"use server"`](https://react.dev/reference/react/use-server)
- `action` (üöß)
- `formAction` (üöß)
- `useFormStatus` (üöß)
- `useFormState` (üöß)
- `useOptimistic` (üöß)