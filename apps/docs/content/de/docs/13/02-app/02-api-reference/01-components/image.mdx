---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-06-06T18:06:30.187Z
title: <Image>
description: Optimieren Sie Bilder in Ihrer Next.js-Anwendung mit der integrierten `next/image`-Komponente.
---

{/* Der Inhalt dieses Dokuments wird sowohl für den App- als auch für den Pages-Router verwendet. Sie können die `<PagesOnly>Content</PagesOnly>`-Komponente verwenden, um Inhalte hinzuzufügen, die spezifisch für den Pages Router sind. Gemeinsam genutzte Inhalte sollten nicht in eine Komponente eingeschlossen werden. */}

<details>
  <summary>Beispiele</summary>

- [Image-Komponente](https://github.com/vercel/next.js/tree/canary/examples/image-component)

</details>

<PagesOnly>

> **Gut zu wissen**: Wenn Sie eine Version von Next.js vor 13 verwenden, sollten Sie die Dokumentation für [next/legacy/image](/docs/pages/api-reference/components/image-legacy) verwenden, da die Komponente umbenannt wurde.

</PagesOnly>

Diese API-Referenz hilft Ihnen zu verstehen, wie Sie die verfügbaren [Props](#props) und [Konfigurationsoptionen](#configuration-options) für die Image-Komponente verwenden. Für Funktionen und Nutzung siehe die Seite [Image-Komponente](/docs/app/building-your-application/optimizing/images).

```jsx filename="app/page.js"
import Image from 'next/image'

export default function Page() {
  return (
    <Image
      src="/profile.png"
      width={500}
      height={500}
      alt="Bild des Autors"
    />
  )
}
```

## Props

Hier ist eine Übersicht der verfügbaren Props für die Image-Komponente:

<div style={{ overflowX: 'auto', width: '100%' }}>
| Prop                                      | Beispiel                              | Typ             | Erforderlich |
| ----------------------------------------- | ------------------------------------ | --------------- | ------------ |
| [`src`](#src)                             | `src="/profile.png"`                 | String          | Ja           |
| [`width`](#width)                         | `width={500}`                        | Integer (px)    | Ja           |
| [`height`](#height)                       | `height={500}`                       | Integer (px)    | Ja           |
| [`alt`](#alt)                             | `alt="Bild des Autors"`              | String          | Ja           |
| [`loader`](#loader)                       | `loader={imageLoader}`               | Funktion        | -            |
| [`fill`](#fill)                           | `fill={true}`                        | Boolean         | -            |
| [`sizes`](#sizes)                         | `sizes="(max-width: 768px) 100vw"`   | String          | -            |
| [`quality`](#quality)                     | `quality={80}`                       | Integer (1-100) | -            |
| [`priority`](#priority)                   | `priority={true}`                    | Boolean         | -            |
| [`placeholder`](#placeholder)             | `placeholder="blur"`                 | String          | -            |
| [`style`](#style)                         | `style={{objectFit: "contain"}}`     | Objekt          | -            |
| [`onLoadingComplete`](#onloadingcomplete) | `onLoadingComplete={img => done())}` | Funktion        | -            |
| [`onLoad`](#onload)                       | `onLoad={event => done())}`          | Funktion        | -            |
| [`onError`](#onerror)                     | `onError(event => fail()}`           | Funktion        | -            |
| [`loading`](#loading)                     | `loading="lazy"`                     | String          | -            |
| [`blurDataURL`](#blurdataurl)             | `blurDataURL="data:image/jpeg..."`   | String          | -            |
</div>

## Erforderliche Props

Die Image-Komponente erfordert die folgenden Eigenschaften: `src`, `width`, `height` und `alt`.

```jsx filename="app/page.js"
import Image from 'next/image'

export default function Page() {
  return (
    <div>
      <Image
        src="/profile.png"
        width={500}
        height={500}
        alt="Bild des Autors"
      />
    </div>
  )
}
```

### `src`

Muss eines der folgenden sein:

- Eine [statisch importierte](/docs/app/building-your-application/optimizing/images#local-images) Bilddatei
- Ein Pfad-String. Dies kann entweder eine absolute externe URL oder ein interner Pfad sein, abhängig von der [`loader`](#loader)-Prop.

Bei Verwendung einer externen URL müssen Sie diese zu [remotePatterns](#remotepatterns) in `next.config.js` hinzufügen.

### `width`

Die `width`-Prop repräsentiert die _gerenderte_ Breite in Pixeln und beeinflusst somit, wie groß das Bild erscheint.

Erforderlich, außer für [statisch importierte Bilder](/docs/app/building-your-application/optimizing/images#local-images) oder Bilder mit der [`fill`](#fill)-Prop.

### `height`

Die `height`-Prop repräsentiert die _gerenderte_ Höhe in Pixeln und beeinflusst somit, wie groß das Bild erscheint.

Erforderlich, außer für [statisch importierte Bilder](/docs/app/building-your-application/optimizing/images#local-images) oder Bilder mit der [`fill`](#fill)-Prop.

### `alt`

Die `alt`-Prop wird verwendet, um das Bild für Screenreader und Suchmaschinen zu beschreiben. Sie ist auch der Fallback-Text, wenn Bilder deaktiviert wurden oder ein Fehler beim Laden auftritt.

Sie sollte Text enthalten, der das Bild [ohne Änderung der Seitenbedeutung](https://html.spec.whatwg.org/multipage/images.html#general-guidelines) ersetzen kann. Sie ist nicht dazu gedacht, das Bild zu ergänzen oder Informationen zu wiederholen, die bereits in den Bildunterschriften enthalten sind.

Wenn das Bild [rein dekorativ](https://html.spec.whatwg.org/multipage/images.html#a-purely-decorative-image-that-doesn't-add-any-information) oder [nicht für den Benutzer bestimmt](https://html.spec.whatwg.org/multipage/images.html#an-image-not-intended-for-the-user) ist, sollte die `alt`-Prop ein leerer String sein (`alt=""`).

[Mehr erfahren](https://html.spec.whatwg.org/multipage/images.html#alt)

## Optionale Props

Die `<Image />`-Komponente akzeptiert eine Reihe zusätzlicher Eigenschaften neben den erforderlichen. Dieser Abschnitt beschreibt die am häufigsten verwendeten Props der Image-Komponente. Details zu seltener verwendeten Props finden Sie im Abschnitt [Erweiterte Props](#advanced-props).

### `loader`

Eine benutzerdefinierte Funktion zur Auflösung von Bild-URLs.

Ein `loader` ist eine Funktion, die einen URL-String für das Bild zurückgibt, basierend auf folgenden Parametern:

- [`src`](#src)
- [`width`](#width)
- [`quality`](#quality)

Hier ist ein Beispiel für die Verwendung eines benutzerdefinierten Loaders:

```js
'use client'

import Image from 'next/image'

const imageLoader = ({ src, width, quality }) => {
  return `https://example.com/${src}?w=${width}&q=${quality || 75}`
}

export default function Page() {
  return (
    <Image
      loader={imageLoader}
      src="me.png"
      alt="Bild des Autors"
      width={500}
      height={500}
    />
  )
}
```

<AppOnly>

> **Gut zu wissen**: Die Verwendung von Props wie `loader`, die eine Funktion akzeptieren, erfordert die Verwendung von [Client Components](/docs/app/building-your-application/rendering/client-components), um die bereitgestellte Funktion zu serialisieren.

</AppOnly>

Alternativ können Sie die [loaderFile](#loaderfile)-Konfiguration in `next.config.js` verwenden, um jede Instanz von `next/image` in Ihrer Anwendung zu konfigurieren, ohne eine Prop zu übergeben.

### `fill`

```js
fill={true} // {true} | {false}
```

Ein Boolean, der bewirkt, dass das Bild das übergeordnete Element ausfüllt, was nützlich ist, wenn die [`width`](#width) und [`height`](#height) unbekannt sind.

Das übergeordnete Element _muss_ den Style `position: "relative"`, `position: "fixed"` oder `position: "absolute"` zuweisen.

Standardmäßig erhält das img-Element automatisch den Style `position: "absolute"`.

Wenn keine Styles auf das Bild angewendet werden, wird das Bild gestreckt, um den Container auszufüllen. Möglicherweise bevorzugen Sie `object-fit: "contain"` für ein Bild, das an den Container angepasst wird und das Seitenverhältnis beibehält.

Alternativ bewirkt `object-fit: "cover"`, dass das Bild den gesamten Container ausfüllt und zugeschnitten wird, um das Seitenverhältnis beizubehalten. Damit dies korrekt aussieht, sollte der Style `overflow: "hidden"` dem übergeordneten Element zugewiesen werden.

Weitere Informationen siehe auch:

- [`position`](https://developer.mozilla.org/docs/Web/CSS/position)
- [`object-fit`](https://developer.mozilla.org/docs/Web/CSS/object-fit)
- [`object-position`](https://developer.mozilla.org/docs/Web/CSS/object-position)

### `sizes`

Ein String, ähnlich einer Media Query, der Informationen darüber liefert, wie breit das Bild bei verschiedenen Breakpoints sein wird. Der Wert von `sizes` beeinflusst die Performance für Bilder mit [`fill`](#fill) oder die [stylisiert sind, um eine responsive Größe zu haben](#responsive-images), erheblich.

Die `sizes`-Prop dient zwei wichtigen Zwecken in Bezug auf die Bildperformance:

- Erstens wird der Wert von `sizes` vom Browser verwendet, um zu bestimmen, welche Größe des Bildes aus dem automatisch generierten `srcset` von `next/image` heruntergeladen werden soll. Wenn der Browser auswählt, kennt er die Größe des Bildes auf der Seite noch nicht, daher wählt er ein Bild aus, das genauso groß oder größer als der Viewport ist. Die `sizes`-Prop ermöglicht es Ihnen, dem Browser mitzuteilen, dass das Bild tatsächlich kleiner als die volle Bildschirmbreite sein wird. Wenn Sie keinen `sizes`-Wert für ein Bild mit der `fill`-Prop angeben, wird ein Standardwert von `100vw` (volle Bildschirmbreite) verwendet.
- Zweitens ändert die `sizes`-Prop das Verhalten des automatisch generierten `srcset`-Werts. Wenn kein `sizes`-Wert vorhanden ist, wird ein kleiner `srcset` generiert, der für ein Bild mit fester Größe geeignet ist (1x/2x/etc.). Wenn `sizes` definiert ist, wird ein großer `srcset` generiert, der für ein responsives Bild geeignet ist (640w/750w/etc.). Wenn die `sizes`-Prop Größen wie `50vw` enthält, die einen Prozentsatz der Viewport-Breite darstellen, wird der `srcset` so gekürzt, dass keine Werte enthalten sind, die zu klein sind, um jemals benötigt zu werden.

Wenn Sie beispielsweise wissen, dass Ihr Styling bewirkt, dass ein Bild auf Mobilgeräten die volle Breite einnimmt, in einem 2-Spalten-Layout auf Tablets und in einem 3-Spalten-Layout auf Desktop-Displays, sollten Sie eine `sizes`-Prop wie folgt einfügen:

```jsx
import Image from 'next/image'

export default function Page() {
  return (
    <div className="grid-element">
      <Image
        fill
        src="/example.png"
        sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
      />
    </div>
  )
}
```

Dieses `sizes`-Beispiel könnte einen dramatischen Effekt auf Performance-Metriken haben. Ohne die `33vw`-Größe wäre das vom Server ausgewählte Bild dreimal so breit wie nötig. Da die Dateigröße proportional zum Quadrat der Breite ist, würde der Benutzer ohne `sizes` ein Bild herunterladen, das neunmal größer ist als notwendig.

Mehr über `srcset` und `sizes`:

- [web.dev](https://web.dev/learn/design/responsive-images/#sizes)
- [mdn](https://developer.mozilla.org/docs/Web/HTML/Element/img#attr-sizes)

### `quality`

```js
quality={75} // {number 1-100}
```

Die Qualität des optimierten Bildes, eine ganze Zahl zwischen `1` und `100`, wobei `100` die beste Qualität und damit die größte Dateigröße ist. Standardwert ist `75`.

### `priority`

```js
priority={false} // {false} | {true}
```

Wenn true, wird das Bild als hochpriorisiert betrachtet und [vorabgeladen](https://web.dev/preload-responsive-images/). Lazy Loading wird für Bilder mit `priority` automatisch deaktiviert.

Sie sollten die `priority`-Prop für jedes Bild verwenden, das als [Largest Contentful Paint (LCP)](https://nextjs.org/learn/seo/web-performance/lcp)-Element erkannt wird. Es kann angemessen sein, mehrere Priority-Bilder zu haben, da verschiedene Bilder für verschiedene Viewport-Größen das LCP-Element sein können.

Sollte nur verwendet werden, wenn das Bild oberhalb des Folds sichtbar ist. Standardwert ist `false`.

### `placeholder`

```js
placeholder = 'empty' // "empty" | "blur" | "data:image/..."
```

Ein Platzhalter, der während des Ladens des Bildes verwendet wird. Mögliche Werte sind `blur`, `empty` oder `data:image/...`. Standardwert ist `empty`.

Wenn `blur`, wird die [`blurDataURL`](#blurdataurl)-Prop als Platzhalter verwendet. Wenn `src` ein Objekt aus einem [statischen Import](/docs/app/building-your-application/optimizing/images#local-images) ist und das importierte Bild `.jpg`, `.png`, `.webp` oder `.avif` ist, wird `blurDataURL` automatisch ausgefüllt, es sei denn, das Bild wird als animiert erkannt.

Für dynamische Bilder müssen Sie die [`blurDataURL`](#blurdataurl)-Prop angeben. Lösungen wie [Plaiceholder](https://github.com/joe-bell/plaiceholder) können bei der `base64`-Generierung helfen.

Wenn `data:image/...`, wird die [Data URL](https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/Data_URIs) als Platzhalter während des Ladens des Bildes verwendet.

Wenn `empty`, gibt es während des Ladens des Bildes keinen Platzhalter, nur leeren Raum.

Ausprobieren:

- [Demo des `blur`-Platzhalters](https://image-component.nextjs.gallery/placeholder)
- [Demo des Schimmer-Effekts mit data URL `placeholder`-Prop](https://image-component.nextjs.gallery/shimmer)
- [Demo des Farbeffekts mit `blurDataURL`-Prop](https://image-component.nextjs.gallery/color)

## Erweiterte Props

In einigen Fällen benötigen Sie möglicherweise eine erweiterte Nutzung. Die `<Image />`-Komponente akzeptiert optional die folgenden erweiterten Eigenschaften.

### `style`

Ermöglicht das Übergeben von CSS-Styles an das zugrunde liegende Bild-Element.

```jsx filename="components/ProfileImage.js"
const imageStyle = {
  borderRadius: '50%',
  border: '1px solid #fff',
}

export default function ProfileImage() {
  return <Image src="..." style={imageStyle} />
}
```

Denken Sie daran, dass die erforderlichen width- und height-Props mit Ihrem Styling interagieren können. Wenn Sie Styling verwenden, um die Breite eines Bildes zu ändern, sollten Sie auch seine Höhe auf `auto` setzen, um das intrinsische Seitenverhältnis beizubehalten, da das Bild sonst verzerrt wird.

### `onLoadingComplete`

```jsx
'use client'

<Image onLoadingComplete={(img) => console.log(img.naturalWidth)} />
```

Eine Callback-Funktion, die aufgerufen wird, sobald das Bild vollständig geladen ist und der [Platzhalter](#placeholder) entfernt wurde.

Die Callback-Funktion wird mit einem Argument aufgerufen, einer Referenz auf das zugrunde liegende `<img>`-Element.

<AppOnly>

> **Gut zu wissen**: Die Verwendung von Props wie `onLoadingComplete`, die eine Funktion akzeptieren, erfordert die Verwendung von [Client Components](/docs/app/building-your-application/rendering/client-components), um die bereitgestellte Funktion zu serialisieren.

</AppOnly>

### `onLoad`

```jsx
<Image onLoad={(e) => console.log(e.target.naturalWidth)} />
```

Eine Callback-Funktion, die aufgerufen wird, wenn das Bild geladen ist.

Das load-Ereignis kann auftreten, bevor der Bildplatzhalter entfernt und das Bild vollständig dekodiert ist. Wenn Sie warten möchten, bis das Bild vollständig geladen ist, verwenden Sie stattdessen [`onLoadingComplete`](#onloadingcomplete).

<AppOnly>

> **Gut zu wissen**: Die Verwendung von Props wie `onLoad`, die eine Funktion akzeptieren, erfordert die Verwendung von [Client Components](/docs/app/building-your-application/rendering/client-components), um die bereitgestellte Funktion zu serialisieren.

</AppOnly>

### `onError`

```jsx
<Image onError={(e) => console.error(e.target.id)} />
```

Eine Callback-Funktion, die aufgerufen wird, wenn das Bild nicht geladen werden kann.

<AppOnly>

> **Gut zu wissen**: Die Verwendung von Props wie `onError`, die eine Funktion akzeptieren, erfordert die Verwendung von [Client Components](/docs/app/building-your-application/rendering/client-components), um die bereitgestellte Funktion zu serialisieren.

</AppOnly>

### `loading`

> **Empfehlung**: Diese Prop ist nur für erweiterte Anwendungsfälle gedacht. Das Umschalten eines Bildes auf `eager`-Laden wird normalerweise die **Performance beeinträchtigen**. Wir empfehlen die Verwendung der [`priority`](#priority)-Prop, die das Bild eifrig vorlädt.

```js
loading = 'lazy' // {lazy} | {eager}
```

Das Ladeverhalten des Bildes. Standardwert ist `lazy`.

Wenn `lazy`, wird das Laden des Bildes verzögert, bis es einen berechneten Abstand zum Viewport erreicht.

Wenn `eager`, wird das Bild sofort geladen.

Mehr über das [`loading`-Attribut](https://developer.mozilla.org/docs/Web/HTML/Element/img#attr-loading).

### `blurDataURL`

Eine [Data URL](https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/Data_URIs), die als Platzhalterbild verwendet wird, bevor das `src`-Bild erfolgreich geladen wurde. Wirkt nur in Kombination mit [`placeholder="blur"`](#placeholder).

Muss ein base64-kodiertes Bild sein. Es wird vergrößert und unscharf dargestellt, daher wird ein sehr kleines Bild (10px oder weniger) empfohlen. Größere Bilder als Platzhalter können die Leistung Ihrer Anwendung beeinträchtigen.

Probieren Sie es aus:

- [Demo der standardmäßigen `blurDataURL`-Eigenschaft](https://image-component.nextjs.gallery/placeholder)
- [Demo des Farbeffekts mit der `blurDataURL`-Eigenschaft](https://image-component.nextjs.gallery/color)

Sie können auch eine [Data URL mit einfarbigem Hintergrund generieren](https://png-pixel.com), um sie an das Bild anzupassen.

### `unoptimized`

```js
unoptimized = {false} // {false} | {true}
```

Wenn `true`, wird das Quellbild unverändert ausgeliefert, ohne Qualität, Größe oder Format zu ändern. Standardwert ist `false`.

```js
import Image from 'next/image'

const UnoptimizedImage = (props) => {
  return <Image {...props} unoptimized />
}
```

Seit Next.js 12.3.0 kann diese Eigenschaft für alle Bilder festgelegt werden, indem `next.config.js` mit folgender Konfiguration aktualisiert wird:

```js filename="next.config.js"
module.exports = {
  images: {
    unoptimized: true,
  },
}
```

### Weitere Eigenschaften

Andere Eigenschaften der `<Image />`-Komponente werden an das zugrunde liegende `img`-Element weitergegeben, mit Ausnahme der folgenden:

- `srcSet`. Verwenden Sie stattdessen [Gerätegrößen (Device Sizes)](#devicesizes).
- `decoding`. Ist immer `"async"`.

## Konfigurationsoptionen

Zusätzlich zu den Eigenschaften können Sie die Image-Komponente in `next.config.js` konfigurieren. Folgende Optionen sind verfügbar:

### `remotePatterns`

Um Ihre Anwendung vor böswilligen Nutzern zu schützen, ist eine Konfiguration erforderlich, um externe Bilder zu verwenden. Dadurch wird sichergestellt, dass nur externe Bilder von Ihrem Konto über die Next.js Image Optimization API bereitgestellt werden können. Diese externen Bilder können mit der Eigenschaft `remotePatterns` in Ihrer `next.config.js`-Datei konfiguriert werden, wie unten gezeigt:

```js filename="next.config.js"
module.exports = {
  images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: 'example.com',
        port: '',
        pathname: '/account123/**',
      },
    ],
  },
}
```

> **Gut zu wissen**: Das obige Beispiel stellt sicher, dass die `src`-Eigenschaft von `next/image` mit `https://example.com/account123/` beginnen muss. Jedes andere Protokoll, Hostname, Port oder nicht übereinstimmender Pfad führt zu einer 400 Bad Request-Antwort.

Hier ist ein weiteres Beispiel für die `remotePatterns`-Eigenschaft in der `next.config.js`-Datei:

```js filename="next.config.js"
module.exports = {
  images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: '**.example.com',
      },
    ],
  },
}
```

> **Gut zu wissen**: Das obige Beispiel stellt sicher, dass die `src`-Eigenschaft von `next/image` mit `https://img1.example.com` oder `https://me.avatar.example.com` oder einer beliebigen Anzahl von Subdomains beginnen muss. Jedes andere Protokoll oder nicht übereinstimmender Hostname führt zu einer 400 Bad Request-Antwort.

Wildcard-Muster können sowohl für `pathname` als auch für `hostname` verwendet werden und haben folgende Syntax:

- `*` passt auf ein einzelnes Pfadsegment oder eine Subdomain
- `**` passt auf eine beliebige Anzahl von Pfadsegmenten am Ende oder Subdomains am Anfang

Die `**`-Syntax funktioniert nicht in der Mitte des Musters.

### `domains`

> **Warnung**: Wir empfehlen, strikte [`remotePatterns`](#remotepatterns) anstelle von `domains` zu konfigurieren, um Ihre Anwendung vor böswilligen Nutzern zu schützen. Verwenden Sie `domains` nur, wenn Ihnen alle Inhalte der Domain gehören.

Ähnlich wie [`remotePatterns`](#remotepatterns) kann die `domains`-Konfiguration verwendet werden, um eine Liste zulässiger Hostnamen für externe Bilder bereitzustellen.

Allerdings unterstützt die `domains`-Konfiguration keine Wildcard-Muster und kann Protokoll, Port oder Pfad nicht einschränken.

Hier ist ein Beispiel für die `domains`-Eigenschaft in der `next.config.js`-Datei:

```js filename="next.config.js"
module.exports = {
  images: {
    domains: ['assets.acme.com'],
  },
}
```

### `loaderFile`

Wenn Sie einen Cloud-Anbieter zur Bildoptimierung verwenden möchten, anstatt die integrierte Next.js Image Optimization API zu nutzen, können Sie `loaderFile` in Ihrer `next.config.js` wie folgt konfigurieren:

```js filename="next.config.js"
module.exports = {
  images: {
    loader: 'custom',
    loaderFile: './my/image/loader.js',
  },
}
```

Dies muss auf eine Datei relativ zum Stammverzeichnis Ihrer Next.js-Anwendung verweisen. Die Datei muss eine Standardfunktion exportieren, die einen String zurückgibt, zum Beispiel:

```js
'use client'

export default function myImageLoader({ src, width, quality }) {
  return `https://example.com/${src}?w=${width}&q=${quality || 75}`
}
```

Alternativ können Sie die [`loader`-Eigenschaft](#loader) verwenden, um jede Instanz von `next/image` zu konfigurieren.

Beispiele:

- [Benutzerdefinierte Image Loader-Konfiguration](/docs/app/api-reference/next-config-js/images#example-loader-configuration)

<AppOnly>

> **Gut zu wissen**: Das Anpassen der Image Loader-Datei, die eine Funktion akzeptiert, erfordert die Verwendung von [Client Components](/docs/app/building-your-application/rendering/client-components), um die bereitgestellte Funktion zu serialisieren.

</AppOnly>

## Fortgeschrittene Konfiguration

Die folgende Konfiguration ist für fortgeschrittene Anwendungsfälle gedacht und ist normalerweise nicht notwendig. Wenn Sie die untenstehenden Eigenschaften konfigurieren, überschreiben Sie alle Änderungen an den Next.js-Standardeinstellungen in zukünftigen Updates.

### `deviceSizes`

Wenn Sie die erwarteten Gerätebreiten Ihrer Nutzer kennen, können Sie eine Liste von Breakpoints für Gerätebreiten mit der `deviceSizes`-Eigenschaft in `next.config.js` angeben. Diese Breiten werden verwendet, wenn die `next/image`-Komponente die [`sizes`](#sizes)-Eigenschaft nutzt, um sicherzustellen, dass das richtige Bild für das Gerät des Nutzers bereitgestellt wird.

Wenn keine Konfiguration angegeben wird, wird die folgende Standardeinstellung verwendet:

```js filename="next.config.js"
module.exports = {
  images: {
    deviceSizes: [640, 750, 828, 1080, 1200, 1920, 2048, 3840],
  },
}
```

### `imageSizes`

Sie können eine Liste von Bildbreiten mit der `images.imageSizes`-Eigenschaft in Ihrer `next.config.js`-Datei angeben. Diese Breiten werden mit dem Array der [Gerätegrößen (Device Sizes)](#devicesizes) kombiniert, um das vollständige Array der Größen zu bilden, das zur Generierung der Bild-[srcset](https://developer.mozilla.org/docs/Web/API/HTMLImageElement/srcset)s verwendet wird.

Der Grund für die beiden separaten Listen ist, dass `imageSizes` nur für Bilder verwendet wird, die eine [`sizes`](#sizes)-Eigenschaft bereitstellen, was darauf hinweist, dass das Bild kleiner als die volle Bildschirmbreite ist. **Daher sollten alle Größen in `imageSizes` kleiner sein als die kleinste Größe in `deviceSizes`.**

Wenn keine Konfiguration angegeben wird, wird die folgende Standardeinstellung verwendet:

```js filename="next.config.js"
module.exports = {
  images: {
    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],
  },
}
```

### `formats`

Die standardmäßige [Image Optimization API](#loader) erkennt automatisch die vom Browser unterstützten Bildformate über den `Accept`-Header der Anfrage.

Wenn der `Accept`-Header mit mehr als einem der konfigurierten Formate übereinstimmt, wird das erste übereinstimmende Format im Array verwendet. Daher ist die Reihenfolge des Arrays wichtig. Wenn keine Übereinstimmung gefunden wird (oder das Quellbild [animiert ist](#animated-images)), greift die Image Optimization API auf das ursprüngliche Format des Bildes zurück.

Wenn keine Konfiguration angegeben wird, wird die folgende Standardeinstellung verwendet:

```js filename="next.config.js"
module.exports = {
  images: {
    formats: ['image/webp'],
  },
}
```

Sie können die AVIF-Unterstützung mit folgender Konfiguration aktivieren:

```js filename="next.config.js"
module.exports = {
  images: {
    formats: ['image/avif', 'image/webp'],
  },
}
```

> **Gut zu wissen**:
>
> - AVIF benötigt im Allgemeinen 20% mehr Zeit für die Kodierung, komprimiert jedoch 20% besser als WebP. Das bedeutet, dass die erste Anforderung eines Bildes typischerweise langsamer ist und nachfolgende Anforderungen, die zwischengespeichert werden, schneller sind.
> - Wenn Sie Next.js selbst hosten und einen Proxy/CDN davor verwenden, müssen Sie den Proxy so konfigurieren, dass er den `Accept`-Header weitergibt.

## Caching-Verhalten

Das Folgende beschreibt den Caching-Algorithmus für den standardmäßigen [Loader](#loader). Für alle anderen Loader lesen Sie bitte die Dokumentation Ihres Cloud-Anbieters.

Bilder werden dynamisch bei Anfrage optimiert und im Verzeichnis `<distDir>/cache/images` gespeichert. Das optimierte Bild wird für nachfolgende Anfragen bereitgestellt, bis die Gültigkeitsdauer abgelaufen ist. Wenn eine Anfrage gemacht wird, die auf eine zwischengespeicherte, aber abgelaufene Datei passt, wird das abgelaufene Bild sofort als "stale" bereitgestellt. Dann wird das Bild im Hintergrund neu optimiert (auch Revalidierung genannt) und mit dem neuen Ablaufdatum im Cache gespeichert.

Der Cache-Status eines Bildes kann durch Lesen des Werts des `x-nextjs-cache`-Antwort-Headers bestimmt werden. Die möglichen Werte sind:

- `MISS` - Der Pfad ist nicht im Cache (tritt höchstens einmal beim ersten Besuch auf)
- `STALE` - Der Pfad ist im Cache, hat aber die Revalidierungszeit überschritten und wird im Hintergrund aktualisiert
- `HIT` - Der Pfad ist im Cache und hat die Revalidierungszeit nicht überschritten

Die Gültigkeitsdauer (oder genauer Max Age) wird entweder durch die [`minimumCacheTTL`](#minimumcachettl)-Konfiguration oder den `Cache-Control`-Header des Upstream-Bildes definiert, je nachdem, welcher Wert größer ist. Insbesondere wird der `max-age`-Wert des `Cache-Control`-Headers verwendet. Wenn sowohl `s-maxage` als auch `max-age` vorhanden sind, wird `s-maxage` bevorzugt. Der `max-age`-Wert wird auch an alle nachgelagerten Clients, einschließlich CDNs und Browser, weitergegeben.

- Sie können [`minimumCacheTTL`](#minimumcachettl) konfigurieren, um die Cache-Dauer zu erhöhen, wenn das Upstream-Bild keinen `Cache-Control`-Header enthält oder der Wert sehr niedrig ist.
- Sie können [`deviceSizes`](#devicesizes) und [`imageSizes`](#imagesizes) konfigurieren, um die Gesamtzahl der möglichen generierten Bilder zu reduzieren.
- Sie können [Formate (formats)](#formats) konfigurieren, um mehrere Formate zugunsten eines einzelnen Bildformats zu deaktivieren.

### `minimumCacheTTL`

Sie können die Time to Live (TTL) in Sekunden für zwischengespeicherte, optimierte Bilder konfigurieren. In vielen Fällen ist es besser, einen [statischen Bildimport (Static Image Import)](/docs/app/building-your-application/optimizing/images#local-images) zu verwenden, der den Dateiinhalt automatisch hashed und das Bild mit einem `Cache-Control`-Header von `immutable` dauerhaft zwischenspeichert.

```js filename="next.config.js"
module.exports = {
  images: {
    minimumCacheTTL: 60,
  },
}
```

Die Gültigkeitsdauer (oder genauer Max Age) des optimierten Bildes wird entweder durch `minimumCacheTTL` oder den `Cache-Control`-Header des Upstream-Bildes definiert, je nachdem, welcher Wert größer ist.

Wenn Sie das Caching-Verhalten pro Bild ändern müssen, können Sie [`headers`](/docs/app/api-reference/next-config-js/headers) konfigurieren, um den `Cache-Control`-Header auf dem Upstream-Bild zu setzen (z.B. `/some-asset.jpg`, nicht `/_next/image` selbst).

Es gibt derzeit keinen Mechanismus zum Ungültigmachen des Caches, daher ist es am besten, `minimumCacheTTL` niedrig zu halten. Andernfalls müssen Sie möglicherweise die [`src`](#src)-Eigenschaft manuell ändern oder `<distDir>/cache/images` löschen.

### `disableStaticImages`

Das Standardverhalten ermöglicht es Ihnen, statische Dateien wie `import icon from './icon.png'` zu importieren und dann an die `src`-Eigenschaft zu übergeben.

In einigen Fällen möchten Sie diese Funktion möglicherweise deaktivieren, wenn sie mit anderen Plugins kollidiert, die erwarten, dass der Import sich anders verhält.

Sie können statische Bildimporte in Ihrer `next.config.js` deaktivieren:

```js filename="next.config.js"
module.exports = {
  images: {
    disableStaticImages: true,
  },
}
```

### `dangerouslyAllowSVG`

Der standardmäßige [Loader](#loader) optimiert SVG-Bilder aus mehreren Gründen nicht. Erstens ist SVG ein Vektorformat, was bedeutet, dass es verlustfrei skaliert werden kann. Zweitens hat SVG viele Funktionen, die HTML/CSS ähneln, was ohne eine ordnungsgemäße [Content Security Policy](/docs/app/building-your-application/configuring/content-security-policy) zu Sicherheitslücken führen kann.

Wenn Sie SVG-Bilder mit der standardmäßigen Image Optimization API bereitstellen müssen, können Sie `dangerouslyAllowSVG` in Ihrer `next.config.js` setzen:

```js filename="next.config.js"
module.exports = {
  images: {
    dangerouslyAllowSVG: true,
    contentDispositionType: 'attachment',
    contentSecurityPolicy: "default-src 'self'; script-src 'none'; sandbox;",
  },
}
```

Zusätzlich wird dringend empfohlen, `contentDispositionType` zu setzen, um den Browser zum Herunterladen des Bildes zu zwingen, sowie `contentSecurityPolicy`, um die Ausführung von Skripten, die in das Bild eingebettet sind, zu verhindern.

## Animierte Bilder

Der standardmäßige [Loader](#loader) umgeht die Bildoptimierung automatisch für animierte Bilder und liefert das Bild unverändert.

Die automatische Erkennung animierter Dateien ist bestmöglich und unterstützt GIF, APNG und WebP. Wenn Sie die Bildoptimierung für ein bestimmtes animiertes Bild explizit umgehen möchten, verwenden Sie die [unoptimized](#unoptimized)-Eigenschaft.

## Responsive Bilder

Das standardmäßig generierte `srcset` enthält `1x`- und `2x`-Bilder, um verschiedene Gerätepixelverhältnisse zu unterstützen. Möglicherweise möchten Sie jedoch ein responsives Bild rendern, das sich mit dem Viewport dehnt. In diesem Fall müssen Sie [`sizes`](#sizes) sowie `style` (oder `className`) setzen.

Sie können ein responsives Bild mit einer der folgenden Methoden rendern.

### Responsives Bild mit statischem Import

Wenn das Quellbild nicht dynamisch ist, können Sie es statisch importieren, um ein responsives Bild zu erstellen:

```jsx filename="components/author.js"
import Image from 'next/image'
import me from '../photos/me.jpg'

export default function Author() {
  return (
    <Image
      src={me}
      alt="Bild des Autors"
      sizes="100vw"
      style={{
        width: '100%',
        height: 'auto',
      }}
    />
  )
}
```

Probieren Sie es aus:

- [Demo des Bildes, das auf den Viewport reagiert](https://image-component.nextjs.gallery/responsive)

### Responsives Bild mit Seitenverhältnis

Wenn das Quellbild dynamisch ist oder eine Remote-URL hat, müssen Sie auch `width` und `height` angeben, um das korrekte Seitenverhältnis des responsiven Bildes festzulegen:

```jsx filename="components/page.js"
import Image from 'next/image'

export default function Page({ photoUrl }) {
  return (
    <Image
      src={photoUrl}
      alt="Bild des Autors"
      sizes="100vw"
      style={{
        width: '100%',
        height: 'auto',
      }}
      width={500}
      height={300}
    />
  )
}
```

Probieren Sie es aus:

- [Demo des Bildes, das auf den Viewport reagiert](https://image-component.nextjs.gallery/responsive)

### Responsives Bild mit `fill`

Wenn Sie das Seitenverhältnis nicht kennen, müssen Sie die [`fill`](#fill)-Eigenschaft setzen und `position: relative` auf dem übergeordneten Element festlegen. Optional können Sie den `object-fit`-Stil je nach gewünschtem Dehnungs- oder Zuschneideverhalten setzen:

```jsx filename="app/page.js"
import Image from 'next/image'

export default function Page({ photoUrl }) {
  return (
    <div style={{ position: 'relative', width: '500px', height: '300px' }}>
      <Image
        src={photoUrl}
        alt="Bild des Autors"
        sizes="500px"
        fill
        style={{
          objectFit: 'contain',
        }}
      />
    </div>
  )
}
```

Probieren Sie es aus:

- [Demo der `fill`-Eigenschaft](https://image-component.nextjs.gallery/fill)

## Theme-Erkennung

Wenn Sie für den Hell- und Dunkelmodus unterschiedliche Bilder anzeigen möchten, können Sie eine neue Komponente erstellen, die zwei `<Image>`-Komponenten umschließt und basierend auf einer CSS-Media-Query das richtige Bild anzeigt.

```css filename="components/theme-image.module.css"
.imgDark {
  display: none;
}

@media (prefers-color-scheme: dark) {
  .imgLight {
    display: none;
  }
  .imgDark {
    display: unset;
  }
}
```

```tsx filename="components/theme-image.tsx" switcher
import styles from './theme-image.module.css'
import Image, { ImageProps } from 'next/image'

type Props = Omit<ImageProps, 'src' | 'priority' | 'loading'> & {
  srcLight: string
  srcDark: string
}

const ThemeImage = (props: Props) => {
  const { srcLight, srcDark, ...rest } = props

  return (
    <>
      <Image {...rest} src={srcLight} className={styles.imgLight} />
      <Image {...rest} src={srcDark} className={styles.imgDark} />
    </>
  )
}
```

```jsx filename="components/theme-image.js" switcher
import styles from './theme-image.module.css'
import Image from 'next/image'

const ThemeImage = (props) => {
  const { srcLight, srcDark, ...rest } = props

  return (
    <>
      <Image {...rest} src={srcLight} className={styles.imgLight} />
      <Image {...rest} src={srcDark} className={styles.imgDark} />
    </>
  )
}
```

> **Gut zu wissen**: Das Standardverhalten von `loading="lazy"` stellt sicher, dass nur das korrekte Bild geladen wird. Sie können `priority` oder `loading="eager"` nicht verwenden, da dies dazu führen würde, dass beide Bilder geladen werden. Stattdessen können Sie [`fetchPriority="high"`](https://developer.mozilla.org/docs/Web/API/HTMLImageElement/fetchPriority) verwenden.

Probieren Sie es aus:

- [Demo für Hell/Dunkel-Modus Theme-Erkennung](https://image-component.nextjs.gallery/theme)

## Bekannte Browser-Bugs

Die `next/image`-Komponente verwendet das native [Lazy Loading](https://caniuse.com/loading-lazy-attr) des Browsers, das für ältere Browser vor Safari 15.4 auf Eager Loading zurückfallen kann. Bei Verwendung des Blur-Up-Platzhalters fallen ältere Browser vor Safari 12 auf einen leeren Platzhalter zurück. Bei Verwendung von Stilen mit `width`/`height` von `auto` kann es auf älteren Browsern vor Safari 15 zu [Layout Shift](https://web.dev/cls/) kommen, die das [Seitenverhältnis nicht beibehalten](https://caniuse.com/mdn-html_elements_img_aspect_ratio_computed_from_attributes). Weitere Details finden Sie in [diesem MDN-Video](https://www.youtube.com/watch?v=4-d_SoCHeWE).

- [Safari 15 - 16.3](https://bugs.webkit.org/show_bug.cgi?id=243601) zeigt beim Laden einen grauen Rand an. Safari 16.4 hat [dieses Problem behoben](https://webkit.org/blog/13966/webkit-features-in-safari-16-4/#:~:text=Now%20in%20Safari%2016.4%2C%20a%20gray%20line%20no%20longer%20appears%20to%20mark%20the%20space%20where%20a%20lazy%2Dloaded%20image%20will%20appear%20once%20it%E2%80%99s%20been%20loaded.). Mögliche Lösungen:
  - CSS verwenden: `@supports (font: -apple-system-body) and (-webkit-appearance: none) { img[loading="lazy"] { clip-path: inset(0.6px) } }`
  - [`priority`](#priority) verwenden, wenn das Bild oberhalb des Folds liegt
- [Firefox 67+](https://bugzilla.mozilla.org/show_bug.cgi?id=1556156) zeigt beim Laden einen weißen Hintergrund an. Mögliche Lösungen:
  - [AVIF `formats`](#formats) aktivieren
  - [`placeholder`](#placeholder) verwenden

## Versionsverlauf

| Version    | Änderungen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `v13.4.14` | `placeholder`-Prop-Unterstützung für `data:/image...`                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `v13.2.0`  | `contentDispositionType`-Konfiguration hinzugefügt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `v13.0.6`  | `ref`-Prop hinzugefügt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `v13.0.0`  | Der `next/image`-Import wurde in `next/legacy/image` umbenannt. Der `next/future/image`-Import wurde in `next/image` umbenannt. Ein [Codemod ist verfügbar](/docs/app/building-your-application/upgrading/codemods#next-image-to-legacy-image), um Ihre Imports sicher und automatisch umzubenennen. `<span>`-Wrapper entfernt. `layout`, `objectFit`, `objectPosition`, `lazyBoundary`, `lazyRoot` Props entfernt. `alt` ist jetzt erforderlich. `onLoadingComplete` erhält eine Referenz auf das `img`-Element. Eingebauter Loader-Konfig entfernt. |
| `v12.3.0`  | `remotePatterns` und `unoptimized` Konfiguration sind stabil.                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `v12.2.0`  | Experimentelle `remotePatterns` und experimentelle `unoptimized` Konfiguration hinzugefügt. `layout="raw"` entfernt.                                                                                                                                                                                                                                                                                                                                                                                                     |
| `v12.1.1`  | `style`-Prop hinzugefügt. Experimentelle Unterstützung für `layout="raw"` hinzugefügt.                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `v12.1.0`  | `dangerouslyAllowSVG` und `contentSecurityPolicy` Konfiguration hinzugefügt.                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `v12.0.9`  | `lazyRoot`-Prop hinzugefügt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `v12.0.0`  | `formats` Konfiguration hinzugefügt.<br/>AVIF-Unterstützung hinzugefügt.<br/>Wrapper `<div>` zu `<span>` geändert.                                                                                                                                                                                                                                                                                                                                                                                                               |
| `v11.1.0`  | `onLoadingComplete` und `lazyBoundary` Props hinzugefügt.                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `v11.0.0`  | `src`-Prop-Unterstützung für statischen Import.<br/>`placeholder`-Prop hinzugefügt.<br/>`blurDataURL`-Prop hinzugefügt.                                                                                                                                                                                                                                                                                                                                                                                                             |
| `v10.0.5`  | `loader`-Prop hinzugefügt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `v10.0.1`  | `layout`-Prop hinzugefügt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `v10.0.0`  | `next/image` eingeführt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
