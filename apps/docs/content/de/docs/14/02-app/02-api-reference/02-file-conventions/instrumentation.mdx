---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-06-06T17:33:23.806Z
title: instrumentation.js
description: API-Referenz für die instrumentation.js-Datei.
related:
  title: Weitere Informationen zur Instrumentation
  links:
    - app/building-your-application/optimizing/instrumentation
---

Die Datei `instrumentation.js|ts` wird verwendet, um Monitoring- und Logging-Tools in Ihre Anwendung zu integrieren. Dies ermöglicht es Ihnen, die Leistung und das Verhalten Ihrer Anwendung zu verfolgen sowie Probleme in der Produktion zu debuggen.

Um sie zu verwenden, platzieren Sie die Datei im **Stammverzeichnis** Ihrer Anwendung oder in einem [`src`-Ordner](/docs/app/building-your-application/configuring/src-directory), falls Sie einen verwenden.

## Konfigurationsoption

Instrumentation ist derzeit ein experimentelles Feature. Um die `instrumentation`-Datei zu verwenden, müssen Sie sich explizit dafür entscheiden, indem Sie [`experimental.instrumentationHook = true;`](/docs/app/api-reference/next-config-js/instrumentationHook) in Ihrer `next.config.js` definieren:

```js filename="next.config.js"
module.exports = {
  experimental: {
    instrumentationHook: true,
  },
}
```

## Exporte

### `register` (erforderlich)

Die Datei exportiert eine `register`-Funktion, die **einmalig** aufgerufen wird, wenn eine neue Next.js-Serverinstanz initialisiert wird. `register` kann eine asynchrone Funktion sein.

```ts filename="instrumentation.ts" switcher
import { registerOTel } from '@vercel/otel'

export function register() {
  registerOTel('next-app')
}
```

```js filename="instrumentation.js" switcher
import { registerOTel } from '@vercel/otel'

export function register() {
  registerOTel('next-app')
}
```

## Versionsverlauf

| Version   | Änderungen                                               |
| --------- | -------------------------------------------------------- |
| `v14.0.4` | Turbopack-Unterstützung für `instrumentation`            |
| `v13.2.0` | `instrumentation` als experimentelles Feature eingeführt |