---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-05-25T21:31:28.903Z
title: ä¼ºæœå™¨å‹•ä½œèˆ‡è³‡æ–™è®Šæ›´
nav_title: ä¼ºæœå™¨å‹•ä½œèˆ‡è³‡æ–™è®Šæ›´
description: å­¸ç¿’å¦‚ä½•ä½¿ç”¨ Next.js è™•ç†è¡¨å–®æäº¤èˆ‡è³‡æ–™è®Šæ›´ã€‚
related:
  description: äº†è§£å¦‚ä½•åœ¨ Next.js ä¸­è¨­å®šä¼ºæœå™¨å‹•ä½œ
  links:
    - app/api-reference/next-config-js/serverActions
---

ä¼ºæœå™¨å‹•ä½œ (Server Actions) æ˜¯åœ¨ä¼ºæœå™¨ç«¯åŸ·è¡Œçš„**éåŒæ­¥å‡½å¼**ï¼Œå¯ç”¨æ–¼ä¼ºæœå™¨èˆ‡å®¢æˆ¶ç«¯å…ƒä»¶ä¸­ï¼Œè™•ç† Next.js æ‡‰ç”¨ç¨‹å¼ä¸­çš„è¡¨å–®æäº¤èˆ‡è³‡æ–™è®Šæ›´ã€‚

> **ğŸ¥ è§€çœ‹å½±ç‰‡ï¼š** æ·±å…¥äº†è§£ä½¿ç”¨ä¼ºæœå™¨å‹•ä½œè™•ç†è¡¨å–®èˆ‡è³‡æ–™è®Šæ›´ â†’ [YouTube (10 åˆ†é˜)](https://youtu.be/dDpZfOQBMaU?si=cJZHlUu_jFhCzHUg)ã€‚

## æ…£ä¾‹

ä¼ºæœå™¨å‹•ä½œå¯é€é React çš„ [`"use server"`](https://react.dev/reference/react/use-server) æŒ‡ä»¤å®šç¾©ã€‚æ‚¨å¯å°‡æŒ‡ä»¤ç½®æ–¼ `async` å‡½å¼é ‚ç«¯æ¨™è¨˜è©²å‡½å¼ç‚ºä¼ºæœå™¨å‹•ä½œï¼Œæˆ–ç½®æ–¼ç¨ç«‹æª”æ¡ˆé ‚ç«¯æ¨™è¨˜è©²æª”æ¡ˆæ‰€æœ‰åŒ¯å‡ºç‚ºä¼ºæœå™¨å‹•ä½œã€‚

### ä¼ºæœå™¨å…ƒä»¶

ä¼ºæœå™¨å…ƒä»¶å¯ä½¿ç”¨è¡Œå…§å‡½å¼å±¤ç´šæˆ–æ¨¡çµ„å±¤ç´šçš„ `"use server"` æŒ‡ä»¤ã€‚è‹¥è¦è¡Œå…§å®šç¾©ä¼ºæœå™¨å‹•ä½œï¼Œè«‹åœ¨å‡½å¼ä¸»é«”é ‚ç«¯åŠ å…¥ `"use server"`ï¼š

```tsx filename="app/page.tsx" switcher
// ä¼ºæœå™¨å…ƒä»¶
export default function Page() {
  // ä¼ºæœå™¨å‹•ä½œ
  async function create() {
    'use server'

    // ...
  }

  return (
    // ...
  )
}
```

```jsx filename="app/page.jsx" switcher
// ä¼ºæœå™¨å…ƒä»¶
export default function Page() {
  // ä¼ºæœå™¨å‹•ä½œ
  async function create() {
    'use server'

    // ...
  }

  return (
    // ...
  )
}
```

### å®¢æˆ¶ç«¯å…ƒä»¶

å®¢æˆ¶ç«¯å…ƒä»¶åƒ…èƒ½åŒ¯å…¥ä½¿ç”¨æ¨¡çµ„å±¤ç´š `"use server"` æŒ‡ä»¤çš„å‹•ä½œã€‚

è¦åœ¨å®¢æˆ¶ç«¯å…ƒä»¶å‘¼å«ä¼ºæœå™¨å‹•ä½œï¼Œè«‹å»ºç«‹æ–°æª”æ¡ˆä¸¦åœ¨é ‚ç«¯åŠ å…¥ `"use server"` æŒ‡ä»¤ã€‚æª”æ¡ˆå…§æ‰€æœ‰å‡½å¼å°‡è¢«æ¨™è¨˜ç‚ºå¯é‡è¤‡ç”¨æ–¼å®¢æˆ¶ç«¯èˆ‡ä¼ºæœå™¨å…ƒä»¶çš„ä¼ºæœå™¨å‹•ä½œï¼š

```tsx filename="app/actions.ts" switcher
'use server'

export async function create() {
  // ...
}
```

```js filename="app/actions.js" switcher
'use server'

export async function create() {
  // ...
}
```

```tsx filename="app/ui/button.tsx" switcher
import { create } from '@/app/actions'

export function Button() {
  return (
    // ...
  )
}
```

```jsx filename="app/ui/button.js" switcher
import { create } from '@/app/actions'

export function Button() {
  return (
    // ...
  )
}
```

æ‚¨ä¹Ÿå¯å°‡ä¼ºæœå™¨å‹•ä½œä½œç‚º prop å‚³éçµ¦å®¢æˆ¶ç«¯å…ƒä»¶ï¼š

```jsx
<ClientComponent updateItem={updateItem} />
```

```jsx filename="app/client-component.jsx"
'use client'

export default function ClientComponent({ updateItem }) {
  return <form action={updateItem}>{/* ... */}</form>
}
```

## è¡Œç‚º

- ä¼ºæœå™¨å‹•ä½œå¯é€é [`<form>` å…ƒç´ ](#forms)çš„ `action` å±¬æ€§å‘¼å«ï¼š
  - ä¼ºæœå™¨å…ƒä»¶é è¨­æ”¯æ´æ¼¸é€²å¢å¼·ï¼Œæ„å‘³å³ä½¿ JavaScript å°šæœªè¼‰å…¥æˆ–åœç”¨ï¼Œè¡¨å–®ä»å¯æäº¤ã€‚
  - åœ¨å®¢æˆ¶ç«¯å…ƒä»¶ä¸­ï¼Œå‘¼å«ä¼ºæœå™¨å‹•ä½œçš„è¡¨å–®æœƒåœ¨ JavaScript æœªè¼‰å…¥æ™‚æ’éšŠæäº¤ï¼Œå„ªå…ˆè™•ç†å®¢æˆ¶ç«¯æ°´åˆã€‚
  - æ°´åˆå®Œæˆå¾Œï¼Œç€è¦½å™¨ä¸æœƒåœ¨è¡¨å–®æäº¤æ™‚é‡æ–°æ•´ç†ã€‚
- ä¼ºæœå™¨å‹•ä½œä¸é™æ–¼ `<form>`ï¼Œå¯å¾äº‹ä»¶è™•ç†å™¨ã€`useEffect`ã€ç¬¬ä¸‰æ–¹å‡½å¼åº«åŠå…¶ä»–è¡¨å–®å…ƒç´ å¦‚ `<button>` å‘¼å«ã€‚
- ä¼ºæœå™¨å‹•ä½œèˆ‡ Next.js [å¿«å–èˆ‡é‡æ–°é©—è­‰](/docs/app/building-your-application/caching)æ¶æ§‹æ•´åˆã€‚ç•¶å‹•ä½œå‘¼å«æ™‚ï¼ŒNext.js å¯åœ¨å–®æ¬¡ä¼ºæœå™¨å¾€è¿”ä¸­åŒæ™‚å›å‚³æ›´æ–°çš„ UI èˆ‡æ–°è³‡æ–™ã€‚
- åº•å±¤å¯¦ä½œä¸Šï¼Œå‹•ä½œä½¿ç”¨ `POST` æ–¹æ³•ï¼Œä¸”åƒ…æ­¤ HTTP æ–¹æ³•å¯å‘¼å«å®ƒå€‘ã€‚
- ä¼ºæœå™¨å‹•ä½œçš„åƒæ•¸èˆ‡å›å‚³å€¼å¿…é ˆå¯è¢« React åºåˆ—åŒ–ã€‚è«‹åƒé–± React æ–‡ä»¶äº†è§£[å¯åºåˆ—åŒ–åƒæ•¸èˆ‡å€¼](https://react.dev/reference/react/use-server#serializable-parameters-and-return-values)æ¸…å–®ã€‚
- ä¼ºæœå™¨å‹•ä½œæ˜¯å‡½å¼ï¼Œæ„å‘³å¯åœ¨æ‡‰ç”¨ç¨‹å¼ä¸­ä»»ä½•åœ°æ–¹é‡è¤‡ä½¿ç”¨ã€‚
- ä¼ºæœå™¨å‹•ä½œç¹¼æ‰¿ä½¿ç”¨å®ƒå€‘çš„é é¢æˆ–ä½ˆå±€çš„[åŸ·è¡Œç’°å¢ƒ](/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes)ã€‚
- ä¼ºæœå™¨å‹•ä½œç¹¼æ‰¿ä½¿ç”¨å®ƒå€‘çš„é é¢æˆ–ä½ˆå±€çš„[è·¯ç”±å€æ®µè¨­å®š](/docs/app/api-reference/file-conventions/route-segment-config)ï¼ŒåŒ…å«å¦‚ `maxDuration` ç­‰æ¬„ä½ã€‚

## ç¯„ä¾‹

### è¡¨å–®

React æ“´å……äº† HTML [`<form>`](https://developer.mozilla.org/docs/Web/HTML/Element/form) å…ƒç´ ï¼Œå…è¨±é€é `action` prop å‘¼å«ä¼ºæœå™¨å‹•ä½œã€‚

åœ¨è¡¨å–®ä¸­å‘¼å«æ™‚ï¼Œå‹•ä½œæœƒè‡ªå‹•æ¥æ”¶ [`FormData`](https://developer.mozilla.org/docs/Web/API/FormData/FormData) ç‰©ä»¶ã€‚æ‚¨ç„¡éœ€ä½¿ç”¨ React `useState` ç®¡ç†æ¬„ä½ï¼Œè€Œæ˜¯å¯ä½¿ç”¨åŸç”Ÿ [`FormData` æ–¹æ³•](https://developer.mozilla.org/en-US/docs/Web/API/FormData#instance_methods)æå–è³‡æ–™ï¼š

```tsx filename="app/invoices/page.tsx" switcher
export default function Page() {
  async function createInvoice(formData: FormData) {
    'use server'

    const rawFormData = {
      customerId: formData.get('customerId'),
      amount: formData.get('amount'),
      status: formData.get('status'),
    }

    // è®Šæ›´è³‡æ–™
    // é‡æ–°é©—è­‰å¿«å–
  }

  return <form action={createInvoice}>...</form>
}
```

```jsx filename="app/invoices/page.jsx" switcher
export default function Page() {
  async function createInvoice(formData) {
    'use server'

    const rawFormData = {
      customerId: formData.get('customerId'),
      amount: formData.get('amount'),
      status: formData.get('status'),
    }

    // è®Šæ›´è³‡æ–™
    // é‡æ–°é©—è­‰å¿«å–
  }

  return <form action={createInvoice}>...</form>
}
```

> **é ˆçŸ¥äº‹é …ï¼š**
>
> - ç¯„ä¾‹ï¼š[å«è¼‰å…¥èˆ‡éŒ¯èª¤ç‹€æ…‹çš„è¡¨å–®](https://github.com/vercel/next.js/tree/canary/examples/next-forms)
> - è™•ç†å«å¤šæ¬„ä½çš„è¡¨å–®æ™‚ï¼Œå¯è€ƒæ…®ä½¿ç”¨ [`entries()`](https://developer.mozilla.org/en-US/docs/Web/API/FormData/entries) æ–¹æ³•æ­é… JavaScript çš„ [`Object.fromEntries()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries)ã€‚ä¾‹å¦‚ï¼š`const rawFormData = Object.fromEntries(formData)`ã€‚éœ€æ³¨æ„ `formData` æœƒåŒ…å«é¡å¤–çš„ `$ACTION_` å±¬æ€§ã€‚
> - åƒé–± [React `<form>` æ–‡ä»¶](https://react.dev/reference/react-dom/components/form#handle-form-submission-with-a-server-action)äº†è§£æ›´å¤šã€‚

#### å‚³éé¡å¤–åƒæ•¸

æ‚¨å¯ä½¿ç”¨ JavaScript `bind` æ–¹æ³•å‚³éé¡å¤–åƒæ•¸çµ¦ä¼ºæœå™¨å‹•ä½œã€‚

```tsx filename="app/client-component.tsx" highlight={6} switcher
'use client'

import { updateUser } from './actions'

export function UserProfile({ userId }: { userId: string }) {
  const updateUserWithId = updateUser.bind(null, userId)

  return (
    <form action={updateUserWithId}>
      <input type="text" name="name" />
      <button type="submit">æ›´æ–°ä½¿ç”¨è€…åç¨±</button>
    </form>
  )
}
```

```jsx filename="app/client-component.js" highlight={6} switcher
'use client'

import { updateUser } from './actions'

export function UserProfile({ userId }) {
  const updateUserWithId = updateUser.bind(null, userId)

  return (
    <form action={updateUserWithId}>
      <input type="text" name="name" />
      <button type="submit">æ›´æ–°ä½¿ç”¨è€…åç¨±</button>
    </form>
  )
}
```

ä¼ºæœå™¨å‹•ä½œå°‡æ¥æ”¶ `userId` åƒæ•¸ï¼Œä»¥åŠè¡¨å–®è³‡æ–™ï¼š

```js filename="app/actions.js"
'use server'

export async function updateUser(userId, formData) {
  // ...
}
```

> **é ˆçŸ¥äº‹é …ï¼š**
>
> - æ›¿ä»£æ–¹æ¡ˆæ˜¯å°‡åƒæ•¸ä½œç‚ºéš±è—è¼¸å…¥æ¬„ä½å‚³éï¼ˆä¾‹å¦‚ `<input type="hidden" name="userId" value={userId} />`ï¼‰ã€‚ç„¶è€Œï¼Œè©²å€¼æœƒæˆç‚ºæ¸²æŸ“ HTML çš„ä¸€éƒ¨åˆ†ä¸”ä¸æœƒè¢«ç·¨ç¢¼ã€‚
> - `.bind` åœ¨ä¼ºæœå™¨èˆ‡å®¢æˆ¶ç«¯å…ƒä»¶ä¸­çš†å¯ä½¿ç”¨ï¼Œä¹Ÿæ”¯æ´æ¼¸é€²å¢å¼·ã€‚

#### ç­‰å¾…ç‹€æ…‹

æ‚¨å¯ä½¿ç”¨ React [`useFormStatus`](https://react.dev/reference/react-dom/hooks/useFormStatus) é‰¤å­åœ¨è¡¨å–®æäº¤æ™‚é¡¯ç¤ºç­‰å¾…ç‹€æ…‹ã€‚

- `useFormStatus` å›å‚³ç‰¹å®š `<form>` çš„ç‹€æ…‹ï¼Œå› æ­¤**å¿…é ˆå®šç¾©ç‚º `<form>` å…ƒç´ çš„å­é …**ã€‚
- `useFormStatus` æ˜¯ React é‰¤å­ï¼Œå› æ­¤å¿…é ˆåœ¨å®¢æˆ¶ç«¯å…ƒä»¶ä¸­ä½¿ç”¨ã€‚

```tsx filename="app/submit-button.tsx" switcher
'use client'

import { useFormStatus } from 'react-dom'

export function SubmitButton() {
  const { pending } = useFormStatus()

  return (
    <button type="submit" disabled={pending}>
      æ–°å¢
    </button>
  )
}
```

```jsx filename="app/submit-button.jsx" switcher
'use client'

import { useFormStatus } from 'react-dom'

export function SubmitButton() {
  const { pending } = useFormStatus()

  return (
    <button type="submit" disabled={pending}>
      æ–°å¢
    </button>
  )
}
```

`<SubmitButton />` å¯åµŒå¥—æ–¼ä»»ä½•è¡¨å–®ä¸­ï¼š

```tsx filename="app/page.tsx" switcher
import { SubmitButton } from '@/app/submit-button'
import { createItem } from '@/app/actions'

// ä¼ºæœå™¨å…ƒä»¶
export default async function Home() {
  return (
    <form action={createItem}>
      <input type="text" name="field-name" />
      <SubmitButton />
    </form>
  )
}
```

```jsx filename="app/page.jsx" switcher
import { SubmitButton } from '@/app/submit-button'
import { createItem } from '@/app/actions'

// ä¼ºæœå™¨å…ƒä»¶
export default async function Home() {
  return (
    <form action={createItem}>
      <input type="text" name="field-name" />
      <SubmitButton />
    </form>
  )
}
```

#### ä¼ºæœå™¨ç«¯é©—è­‰èˆ‡éŒ¯èª¤è™•ç†

æˆ‘å€‘å»ºè­°ä½¿ç”¨å¦‚ `required` å’Œ `type="email"` ç­‰ HTML é©—è­‰é€²è¡ŒåŸºæœ¬å®¢æˆ¶ç«¯è¡¨å–®é©—è­‰ã€‚

å°æ–¼é€²éšä¼ºæœå™¨ç«¯é©—è­‰ï¼Œæ‚¨å¯ä½¿ç”¨å¦‚ [zod](https://zod.dev/) çš„å‡½å¼åº«åœ¨è®Šæ›´è³‡æ–™å‰é©—è­‰è¡¨å–®æ¬„ä½ï¼š

```tsx filename="app/actions.ts" switcher
'use server'

import { z } from 'zod'

const schema = z.object({
  email: z.string({
    invalid_type_error: 'ç„¡æ•ˆçš„é›»å­éƒµä»¶',
  }),
})

export default async function createUser(formData: FormData) {
  const validatedFields = schema.safeParse({
    email: formData.get('email'),
  })

  // è‹¥è¡¨å–®è³‡æ–™ç„¡æ•ˆå‰‡æå‰å›å‚³
  if (!validatedFields.success) {
    return {
      errors: validatedFields.error.flatten().fieldErrors,
    }
  }

  // è®Šæ›´è³‡æ–™
}
```

```jsx filename="app/actions.js" switcher
'use server'

import { z } from 'zod'

const schema = z.object({
  email: z.string({
    invalid_type_error: 'ç„¡æ•ˆçš„é›»å­éƒµä»¶',
  }),
})

export default async function createsUser(formData) {
  const validatedFields = schema.safeParse({
    email: formData.get('email'),
  })

  // è‹¥è¡¨å–®è³‡æ–™ç„¡æ•ˆå‰‡æå‰å›å‚³
  if (!validatedFields.success) {
    return {
      errors: validatedFields.error.flatten().fieldErrors,
    }
  }

  // è®Šæ›´è³‡æ–™
}
```

åœ¨ä¼ºæœå™¨ç«¯é©—è­‰æ¬„ä½å¾Œï¼Œæ‚¨å¯åœ¨å‹•ä½œä¸­å›å‚³å¯åºåˆ—åŒ–ç‰©ä»¶ï¼Œä¸¦ä½¿ç”¨ React [`useFormState`](https://react.dev/reference/react-dom/hooks/useFormState) é‰¤å­å‘ä½¿ç”¨è€…é¡¯ç¤ºè¨Šæ¯ã€‚

- é€éå°‡å‹•ä½œå‚³éçµ¦ `useFormState`ï¼Œå‹•ä½œçš„å‡½å¼ç°½åæœƒè®Šæ›´ç‚ºæ¥æ”¶æ–°çš„ `prevState` æˆ– `initialState` åƒæ•¸ä½œç‚ºç¬¬ä¸€å€‹å¼•æ•¸ã€‚
- `useFormState` æ˜¯ React é‰¤å­ï¼Œå› æ­¤å¿…é ˆåœ¨å®¢æˆ¶ç«¯å…ƒä»¶ä¸­ä½¿ç”¨ã€‚

```tsx filename="app/actions.ts" switcher
'use server'

export async function createUser(prevState: any, formData: FormData) {
  // ...
  return {
    message: 'è«‹è¼¸å…¥æœ‰æ•ˆçš„é›»å­éƒµä»¶',
  }
}
```

```jsx filename="app/actions.js" switcher
'use server'

export async function createUser(prevState, formData) {
  // ...
  return {
    message: 'è«‹è¼¸å…¥æœ‰æ•ˆçš„é›»å­éƒµä»¶',
  }
}
```

æ¥è‘—ï¼Œæ‚¨å¯å°‡å‹•ä½œå‚³éçµ¦ `useFormState` é‰¤å­ï¼Œä¸¦ä½¿ç”¨å›å‚³çš„ `state` é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ã€‚

```tsx filename="app/ui/signup.tsx" switcher
'use client'

import { useFormState } from 'react-dom'
import { createUser } from '@/app/actions'

const initialState = {
  message: '',
}

export function Signup() {
  const [state, formAction] = useFormState(createUser, initialState)

  return (
    <form action={formAction}>
      <label htmlFor="email">é›»å­éƒµä»¶</label>
      <input type="text" id="email" name="email" required />
      {/* ... */}
      <p aria-live="polite" className="sr-only">
        {state?.message}
      </p>
      <button>è¨»å†Š</button>
    </form>
  )
}
```

```jsx filename="app/ui/signup.js" switcher
'use client'

import { useFormState } from 'react-dom'
import { createUser } from '@/app/actions'

const initialState = {
  message: '',
}

export function Signup() {
  const [state, formAction] = useFormState(createUser, initialState)

  return (
    <form action={formAction}>
      <label htmlFor="email">é›»å­éƒµä»¶</label>
      <input type="text" id="email" name="email" required />
      {/* ... */}
      <p aria-live="polite" className="sr-only">
        {state?.message}
      </p>
      <button>è¨»å†Š</button>
    </form>
  )
}
```

> **é ˆçŸ¥äº‹é …ï¼š**
>
> - åœ¨è®Šæ›´è³‡æ–™å‰ï¼Œæ‚¨æ‡‰å§‹çµ‚ç¢ºä¿ä½¿ç”¨è€…ä¹Ÿæœ‰æ¬Šé™åŸ·è¡Œè©²å‹•ä½œã€‚åƒé–±[é©—è­‰èˆ‡æˆæ¬Š](#authentication-and-authorization)ã€‚

#### æ¨‚è§€æ›´æ–°

æ‚¨å¯ä½¿ç”¨ React [`useOptimistic`](https://react.dev/reference/react/useOptimistic) é‰¤å­åœ¨ä¼ºæœå™¨å‹•ä½œå®Œæˆå‰æ¨‚è§€æ›´æ–° UIï¼Œè€Œéç­‰å¾…å›æ‡‰ï¼š

```tsx filename="app/page.tsx" switcher
'use client'

import { useOptimistic } from 'react'
import { send } from './actions'

type Message = {
  message: string
}

export function Thread({ messages }: { messages: Message[] }) {
  const [optimisticMessages, addOptimisticMessage] = useOptimistic<
    Message[],
    string
  >(messages, (state, newMessage) => [...state, { message: newMessage }])

  return (
    <div>
      {optimisticMessages.map((m, k) => (
        <div key={k}>{m.message}</div>
      ))}
      <form
        action={async (formData: FormData) => {
          const message = formData.get('message')
          addOptimisticMessage(message)
          await send(message)
        }}
      >
        <input type="text" name="message" />
        <button type="submit">å‚³é€</button>
      </form>
    </div>
  )
}
```

```jsx filename="app/page.jsx" switcher
'use client'

import { useOptimistic } from 'react'
import { send } from './actions'

export function Thread({ messages }) {
  const [optimisticMessages, addOptimisticMessage] = useOptimistic(
    messages,
    (state, newMessage) => [...state, { message: newMessage }]
  )

  return (
    <div>
      {optimisticMessages.map((m) => (
        <div>{m.message}</div>
      ))}
      <form
        action={async (formData) => {
          const message = formData.get('message')
          addOptimisticMessage(message)
          await send(message)
        }}
      >
        <input type="text" name="message" />
        <button type="submit">å‚³é€</button>
      </form>
    </div>
  )
}
```

#### åµŒå¥—å…ƒç´ 

æ‚¨å¯åœ¨ `<form>` å…§åµŒå¥—çš„å…ƒç´ å¦‚ `<button>`ã€`<input type="submit">` å’Œ `<input type="image">` ä¸­å‘¼å«ä¼ºæœå™¨å‹•ä½œã€‚é€™äº›å…ƒç´ æ¥å— `formAction` prop æˆ–[äº‹ä»¶è™•ç†å™¨](#event-handlers)ã€‚

é€™åœ¨éœ€è¦æ–¼å–®ä¸€è¡¨å–®ä¸­å‘¼å«å¤šå€‹ä¼ºæœå™¨å‹•ä½œæ™‚å¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œé™¤äº†ç™¼å¸ƒæŒ‰éˆ•å¤–ï¼Œæ‚¨å¯å»ºç«‹ç‰¹å®š `<button>` å…ƒç´ å„²å­˜æ–‡ç« è‰ç¨¿ã€‚åƒé–± [React `<form>` æ–‡ä»¶](https://react.dev/reference/react-dom/components/form#handling-multiple-submission-types)äº†è§£æ›´å¤šã€‚

#### ç¨‹å¼åŒ–è¡¨å–®æäº¤

æ‚¨å¯ä»¥ä½¿ç”¨ [`requestSubmit()`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/requestSubmit) æ–¹æ³•è§¸ç™¼è¡¨å–®æäº¤ã€‚ä¾‹å¦‚ï¼Œç•¶ä½¿ç”¨è€…æŒ‰ä¸‹ `âŒ˜` + `Enter` æ™‚ï¼Œæ‚¨å¯ä»¥ç›£è½ `onKeyDown` äº‹ä»¶ï¼š

```tsx filename="app/entry.tsx" switcher
'use client'

export function Entry() {
  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {
    if (
      (e.ctrlKey || e.metaKey) &&
      (e.key === 'Enter' || e.key === 'NumpadEnter')
    ) {
      e.preventDefault()
      e.currentTarget.form?.requestSubmit()
    }
  }

  return (
    <div>
      <textarea name="entry" rows={20} required onKeyDown={handleKeyDown} />
    </div>
  )
}
```

```jsx filename="app/entry.jsx" switcher
'use client'

export function Entry() {
  const handleKeyDown = (e) => {
    if (
      (e.ctrlKey || e.metaKey) &&
      (e.key === 'Enter' || e.key === 'NumpadEnter')
    ) {
      e.preventDefault()
      e.currentTarget.form?.requestSubmit()
    }
  }

  return (
    <div>
      <textarea name="entry" rows={20} required onKeyDown={handleKeyDown} />
    </div>
  )
}
```

é€™å°‡è§¸ç™¼æœ€è¿‘çš„ `<form>` ç¥–å…ˆå…ƒç´ çš„æäº¤ï¼Œå¾è€Œå‘¼å«ä¼ºæœå™¨å‹•ä½œ (Server Action)ã€‚

### éè¡¨å–®å…ƒç´ 

é›–ç„¶åœ¨ `<form>` å…ƒç´ ä¸­ä½¿ç”¨ä¼ºæœå™¨å‹•ä½œå¾ˆå¸¸è¦‹ï¼Œä½†å®ƒå€‘ä¹Ÿå¯ä»¥å¾ç¨‹å¼ç¢¼çš„å…¶ä»–éƒ¨åˆ†å‘¼å«ï¼Œä¾‹å¦‚äº‹ä»¶è™•ç†å™¨å’Œ `useEffect`ã€‚

#### äº‹ä»¶è™•ç†å™¨

æ‚¨å¯ä»¥å¾äº‹ä»¶è™•ç†å™¨ï¼ˆå¦‚ `onClick`ï¼‰å‘¼å«ä¼ºæœå™¨å‹•ä½œã€‚ä¾‹å¦‚ï¼Œå¢åŠ æŒ‰è®šè¨ˆæ•¸ï¼š

```tsx filename="app/like-button.tsx" switcher
'use client'

import { incrementLike } from './actions'
import { useState } from 'react'

export default function LikeButton({ initialLikes }: { initialLikes: number }) {
  const [likes, setLikes] = useState(initialLikes)

  return (
    <>
      <p>Total Likes: {likes}</p>
      <button
        onClick={async () => {
          const updatedLikes = await incrementLike()
          setLikes(updatedLikes)
        }}
      >
        æŒ‰è®š
      </button>
    </>
  )
}
```

```jsx filename="app/like-button.js" switcher
'use client'

import { incrementLike } from './actions'
import { useState } from 'react'

export default function LikeButton({ initialLikes }) {
  const [likes, setLikes] = useState(initialLikes)

  return (
    <>
      <p>Total Likes: {likes}</p>
      <button
        onClick={async () => {
          const updatedLikes = await incrementLike()
          setLikes(updatedLikes)
        }}
      >
        æŒ‰è®š
      </button>
    </>
  )
}
```

ç‚ºäº†æå‡ä½¿ç”¨è€…é«”é©—ï¼Œæˆ‘å€‘å»ºè­°ä½¿ç”¨å…¶ä»– React APIï¼Œå¦‚ [`useOptimistic`](https://react.dev/reference/react/useOptimistic) å’Œ [`useTransition`](https://react.dev/reference/react/useTransition)ï¼Œåœ¨ä¼ºæœå™¨å‹•ä½œåŸ·è¡Œå®Œæˆå‰æ›´æ–° UIï¼Œæˆ–é¡¯ç¤ºå¾…è™•ç†ç‹€æ…‹ã€‚

æ‚¨ä¹Ÿå¯ä»¥ç‚ºè¡¨å–®å…ƒç´ æ–°å¢äº‹ä»¶è™•ç†å™¨ï¼Œä¾‹å¦‚åœ¨ `onChange` æ™‚å„²å­˜è¡¨å–®æ¬„ä½ï¼š

```tsx filename="app/ui/edit-post.tsx"
'use client'

import { publishPost, saveDraft } from './actions'

export default function EditPost() {
  return (
    <form action={publishPost}>
      <textarea
        name="content"
        onChange={async (e) => {
          await saveDraft(e.target.value)
        }}
      />
      <button type="submit">ç™¼å¸ƒ</button>
    </form>
  )
}
```

å°æ–¼é€™ç¨®å¯èƒ½å¿«é€Ÿè§¸ç™¼å¤šæ¬¡äº‹ä»¶çš„æƒ…æ³ï¼Œæˆ‘å€‘å»ºè­°ä½¿ç”¨ **é˜²æŠ– (debouncing)** ä¾†é¿å…ä¸å¿…è¦çš„ä¼ºæœå™¨å‹•ä½œå‘¼å«ã€‚

#### `useEffect`

æ‚¨å¯ä»¥ä½¿ç”¨ React çš„ [`useEffect`](https://react.dev/reference/react/useEffect) é‰¤å­ï¼Œåœ¨å…ƒä»¶æ›è¼‰æˆ–ä¾è³´é …è®ŠåŒ–æ™‚å‘¼å«ä¼ºæœå™¨å‹•ä½œã€‚é€™å°æ–¼ä¾è³´å…¨åŸŸäº‹ä»¶æˆ–éœ€è¦è‡ªå‹•è§¸ç™¼çš„è®Šæ›´éå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œ`onKeyDown` è™•ç†æ‡‰ç”¨ç¨‹å¼å¿«æ·éµã€ç„¡é™æ»¾å‹•çš„äº¤é›†è§€å¯Ÿå™¨é‰¤å­ï¼Œæˆ–åœ¨å…ƒä»¶æ›è¼‰æ™‚æ›´æ–°ç€è¦½è¨ˆæ•¸ï¼š

```tsx filename="app/view-count.tsx" switcher
'use client'

import { incrementViews } from './actions'
import { useState, useEffect } from 'react'

export default function ViewCount({ initialViews }: { initialViews: number }) {
  const [views, setViews] = useState(initialViews)

  useEffect(() => {
    const updateViews = async () => {
      const updatedViews = await incrementViews()
      setViews(updatedViews)
    }

    updateViews()
  }, [])

  return <p>ç¸½ç€è¦½æ¬¡æ•¸: {views}</p>
}
```

```jsx filename="app/view-count.js" switcher
'use client'

import { incrementViews } from './actions'
import { useState, useEffect } from 'react'

export default function ViewCount({ initialViews }: { initialViews: number }) {
  const [views, setViews] = useState(initialViews)

  useEffect(() => {
    const updateViews = async () => {
      const updatedViews = await incrementViews()
      setViews(updatedViews)
    }

    updateViews()
  }, [])

  return <p>ç¸½ç€è¦½æ¬¡æ•¸: {views}</p>
}
```

è«‹è¨˜å¾—è€ƒæ…® [`useEffect` çš„è¡Œç‚ºèˆ‡æ³¨æ„äº‹é …](https://react.dev/reference/react/useEffect#caveats)ã€‚

### éŒ¯èª¤è™•ç†

ç•¶éŒ¯èª¤è¢«æ‹‹å‡ºæ™‚ï¼Œå®ƒæœƒè¢«å®¢æˆ¶ç«¯æœ€è¿‘çš„ [`error.js`](/docs/app/building-your-application/routing/error-handling) æˆ– `<Suspense>` é‚Šç•Œæ•ç²ã€‚æˆ‘å€‘å»ºè­°ä½¿ç”¨ `try/catch` ä¾†è¿”å›éŒ¯èª¤ï¼Œä»¥ä¾¿ç”±æ‚¨çš„ UI è™•ç†ã€‚

ä¾‹å¦‚ï¼Œæ‚¨çš„ä¼ºæœå™¨å‹•ä½œå¯ä»¥é€éè¿”å›è¨Šæ¯ä¾†è™•ç†å»ºç«‹æ–°é …ç›®æ™‚çš„éŒ¯èª¤ï¼š

```ts filename="app/actions.ts" switcher
'use server'

export async function createTodo(prevState: any, formData: FormData) {
  try {
    // è®Šæ›´è³‡æ–™
  } catch (e) {
    throw new Error('å»ºç«‹ä»»å‹™å¤±æ•—')
  }
}
```

```js filename="app/actions.js" switcher
'use server'

export async function createTodo(prevState, formData) {
  try {
    // è®Šæ›´è³‡æ–™
  } catch (e) {
    throw new Error('å»ºç«‹ä»»å‹™å¤±æ•—')
  }
}
```

> **é ˆçŸ¥ï¼š**
>
> - é™¤äº†æ‹‹å‡ºéŒ¯èª¤å¤–ï¼Œæ‚¨ä¹Ÿå¯ä»¥è¿”å›ä¸€å€‹ç‰©ä»¶ä¾› `useFormState` è™•ç†ã€‚è«‹åƒé–± [ä¼ºæœå™¨ç«¯é©—è­‰èˆ‡éŒ¯èª¤è™•ç†](#server-side-validation-and-error-handling)ã€‚

### é‡æ–°é©—è­‰è³‡æ–™

æ‚¨å¯ä»¥åœ¨ä¼ºæœå™¨å‹•ä½œä¸­ä½¿ç”¨ [`revalidatePath`](/docs/app/api-reference/functions/revalidatePath) API é‡æ–°é©—è­‰ [Next.js å¿«å–](/docs/app/building-your-application/caching)ï¼š

```ts filename="app/actions.ts" switcher
'use server'

import { revalidatePath } from 'next/cache'

export async function createPost() {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidatePath('/posts')
}
```

```js filename="app/actions.js" switcher
'use server'

import { revalidatePath } from 'next/cache'

export async function createPost() {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidatePath('/posts')
}
```

æˆ–è€…ä½¿ç”¨ [`revalidateTag`](/docs/app/api-reference/functions/revalidateTag) é€éå¿«å–æ¨™ç±¤ä½¿ç‰¹å®šè³‡æ–™æ“·å–å¤±æ•ˆï¼š

```ts filename="app/actions.ts" switcher
'use server'

import { revalidateTag } from 'next/cache'

export async function createPost() {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidateTag('posts')
}
```

```js filename="app/actions.js" switcher
'use server'

import { revalidateTag } from 'next/cache'

export async function createPost() {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidateTag('posts')
}
```

### é‡æ–°å°å‘

å¦‚æœæ‚¨æƒ³åœ¨ä¼ºæœå™¨å‹•ä½œå®Œæˆå¾Œå°‡ä½¿ç”¨è€…é‡æ–°å°å‘åˆ°ä¸åŒçš„è·¯ç”±ï¼Œå¯ä»¥ä½¿ç”¨ [`redirect`](/docs/app/api-reference/functions/redirect) APIã€‚`redirect` éœ€è¦åœ¨ `try/catch` å€å¡Šå¤–å‘¼å«ï¼š

```ts filename="app/actions.ts" switcher
'use server'

import { redirect } from 'next/navigation'
import { revalidateTag } from 'next/cache'

export async function createPost(id: string) {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidateTag('posts') // æ›´æ–°å¿«å–çš„æ–‡ç« 
  redirect(`/post/${id}`) // å°å‘åˆ°æ–°æ–‡ç« é é¢
}
```

```js filename="app/actions.js" switcher
'use server'

import { redirect } from 'next/navigation'
import { revalidateTag } from 'next/cache'

export async function createPost(id) {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidateTag('posts') // æ›´æ–°å¿«å–çš„æ–‡ç« 
  redirect(`/post/${id}`) // å°å‘åˆ°æ–°æ–‡ç« é é¢
}
```

### Cookies

æ‚¨å¯ä»¥åœ¨ä¼ºæœå™¨å‹•ä½œä¸­ä½¿ç”¨ [`cookies`](/docs/app/api-reference/functions/cookies) API ä¾† `get`ã€`set` å’Œ `delete` cookiesï¼š

```ts filename="app/actions.ts" switcher
'use server'

import { cookies } from 'next/headers'

export async function exampleAction() {
  // å–å¾— cookie
  const value = cookies().get('name')?.value

  // è¨­å®š cookie
  cookies().set('name', 'Delba')

  // åˆªé™¤ cookie
  cookies().delete('name')
}
```

```js filename="app/actions.js" switcher
'use server'

import { cookies } from 'next/headers'

export async function exampleAction() {
  // å–å¾— cookie
  const value = cookies().get('name')?.value

  // è¨­å®š cookie
  cookies().set('name', 'Delba')

  // åˆªé™¤ cookie
  cookies().delete('name')
}
```

è«‹åƒé–± [å…¶ä»–ç¯„ä¾‹](/docs/app/api-reference/functions/cookies#deleting-cookies) ç­è§£å¦‚ä½•å¾ä¼ºæœå™¨å‹•ä½œåˆªé™¤ cookiesã€‚

## å®‰å…¨æ€§

### é©—è­‰èˆ‡æˆæ¬Š

æ‚¨æ‡‰è©²å°‡ä¼ºæœå™¨å‹•ä½œè¦–ç‚ºå…¬é–‹çš„ API ç«¯é»ï¼Œä¸¦ç¢ºä¿ä½¿ç”¨è€…æœ‰æ¬ŠåŸ·è¡Œè©²å‹•ä½œã€‚ä¾‹å¦‚ï¼š

```tsx filename="app/actions.ts"
'use server'

import { auth } from './lib'

export function addItem() {
  const { user } = auth()
  if (!user) {
    throw new Error('æ‚¨å¿…é ˆç™»å…¥æ‰èƒ½åŸ·è¡Œæ­¤æ“ä½œ')
  }

  // ...
}
```

### é–‰åŒ…èˆ‡åŠ å¯†

åœ¨å…ƒä»¶å…§å®šç¾©ä¼ºæœå™¨å‹•ä½œæœƒå»ºç«‹ä¸€å€‹ [é–‰åŒ…](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures)ï¼Œè©²å‹•ä½œå¯ä»¥å­˜å–å¤–éƒ¨å‡½å¼çš„ç¯„åœã€‚ä¾‹å¦‚ï¼Œ`publish` å‹•ä½œå¯ä»¥å­˜å– `publishVersion` è®Šæ•¸ï¼š

```tsx filename="app/page.tsx" switcher
export default function Page() {
  const publishVersion = await getLatestVersion();

  async function publish(formData: FormData) {
    "use server";
    if (publishVersion !== await getLatestVersion()) {
      throw new Error('ç™¼å¸ƒæ™‚ç‰ˆæœ¬å·²è®Šæ›´');
    }
    ...
  }

  return <button action={publish}>ç™¼å¸ƒ</button>;
}
```

```jsx filename="app/page.js" switcher
export default function Page() {
  const publishVersion = await getLatestVersion();

  async function publish() {
    "use server";
    if (publishVersion !== await getLatestVersion()) {
      throw new Error('ç™¼å¸ƒæ™‚ç‰ˆæœ¬å·²è®Šæ›´');
    }
    ...
  }

  return <button action={publish}>ç™¼å¸ƒ</button>;
}
```

é–‰åŒ…åœ¨æ‚¨éœ€è¦æ“·å–è³‡æ–™çš„ _å¿«ç…§_ï¼ˆä¾‹å¦‚ `publishVersion`ï¼‰ä»¥ä¾¿åœ¨å‹•ä½œè¢«å‘¼å«æ™‚ä½¿ç”¨æ™‚éå¸¸æœ‰ç”¨ã€‚

ç„¶è€Œï¼Œç‚ºäº†å¯¦ç¾é€™ä¸€é»ï¼Œæ•ç²çš„è®Šæ•¸æœƒè¢«ç™¼é€åˆ°å®¢æˆ¶ç«¯ï¼Œä¸¦åœ¨å‹•ä½œè¢«å‘¼å«æ™‚è¿”å›ä¼ºæœå™¨ã€‚ç‚ºäº†é˜²æ­¢æ•æ„Ÿè³‡æ–™æš´éœ²çµ¦å®¢æˆ¶ç«¯ï¼ŒNext.js æœƒè‡ªå‹•åŠ å¯†é–‰åŒ…è®Šæ•¸ã€‚æ¯æ¬¡å»ºæ§‹ Next.js æ‡‰ç”¨ç¨‹å¼æ™‚ï¼Œéƒ½æœƒç‚ºæ¯å€‹å‹•ä½œç”Ÿæˆä¸€å€‹æ–°çš„ç§é‘°ã€‚é€™æ„å‘³è‘—å‹•ä½œåªèƒ½åœ¨ç‰¹å®šå»ºæ§‹ä¸­è¢«å‘¼å«ã€‚

> **é ˆçŸ¥ï¼š** æˆ‘å€‘ä¸å»ºè­°åƒ…ä¾è³´åŠ å¯†ä¾†é˜²æ­¢æ•æ„Ÿå€¼æš´éœ²çµ¦å®¢æˆ¶ç«¯ã€‚ç›¸åï¼Œæ‚¨æ‡‰è©²ä½¿ç”¨ [React taint APIs](/docs/app/building-your-application/data-fetching/patterns#preventing-sensitive-data-from-being-exposed-to-the-client) ä¸»å‹•é˜²æ­¢ç‰¹å®šè³‡æ–™è¢«ç™¼é€åˆ°å®¢æˆ¶ç«¯ã€‚

### è¦†å¯«åŠ å¯†é‡‘é‘°ï¼ˆé€²éšï¼‰

ç•¶æ‚¨åœ¨å¤šå€‹ä¼ºæœå™¨ä¸Šè‡ªè¡Œè¨—ç®¡ Next.js æ‡‰ç”¨ç¨‹å¼æ™‚ï¼Œæ¯å€‹ä¼ºæœå™¨å¯¦ä¾‹æœ€çµ‚å¯èƒ½æœƒæœ‰ä¸åŒçš„åŠ å¯†é‡‘é‘°ï¼Œå°è‡´æ½›åœ¨çš„ä¸ä¸€è‡´ã€‚

ç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ `process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY` ç’°å¢ƒè®Šæ•¸è¦†å¯«åŠ å¯†é‡‘é‘°ã€‚æŒ‡å®šæ­¤è®Šæ•¸å¯ç¢ºä¿æ‚¨çš„åŠ å¯†é‡‘é‘°åœ¨å»ºæ§‹ä¹‹é–“ä¿æŒä¸€è‡´ï¼Œä¸¦ä¸”æ‰€æœ‰ä¼ºæœå™¨å¯¦ä¾‹ä½¿ç”¨ç›¸åŒçš„é‡‘é‘°ã€‚

é€™æ˜¯ä¸€å€‹é€²éšä½¿ç”¨æƒ…å¢ƒï¼Œå…¶ä¸­è·¨å¤šå€‹éƒ¨ç½²çš„ä¸€è‡´åŠ å¯†è¡Œç‚ºå°æ‚¨çš„æ‡‰ç”¨ç¨‹å¼è‡³é—œé‡è¦ã€‚æ‚¨æ‡‰è©²è€ƒæ…®æ¨™æº–çš„å®‰å…¨å¯¦è¸ï¼Œä¾‹å¦‚é‡‘é‘°è¼ªæ›å’Œç°½ç½²ã€‚

> **é ˆçŸ¥ï¼š** éƒ¨ç½²åˆ° Vercel çš„ Next.js æ‡‰ç”¨ç¨‹å¼æœƒè‡ªå‹•è™•ç†æ­¤å•é¡Œã€‚

### å…è¨±çš„ä¾†æºï¼ˆé€²éšï¼‰

ç”±æ–¼ä¼ºæœå™¨å‹•ä½œå¯ä»¥åœ¨ `<form>` å…ƒç´ ä¸­å‘¼å«ï¼Œé€™ä½¿å®ƒå€‘å®¹æ˜“å—åˆ° [CSRF æ”»æ“Š](https://developer.mozilla.org/en-US/docs/Glossary/CSRF)ã€‚

åœ¨åº•å±¤ï¼Œä¼ºæœå™¨å‹•ä½œä½¿ç”¨ `POST` æ–¹æ³•ï¼Œä¸¦ä¸”åªå…è¨±æ­¤ HTTP æ–¹æ³•å‘¼å«å®ƒå€‘ã€‚é€™åœ¨ç¾ä»£ç€è¦½å™¨ä¸­é˜²æ­¢äº†å¤§å¤šæ•¸ CSRF æ¼æ´ï¼Œç‰¹åˆ¥æ˜¯é è¨­æƒ…æ³ä¸‹ä½¿ç”¨ [SameSite cookies](https://web.dev/articles/samesite-cookies-explained)ã€‚

ä½œç‚ºé¡å¤–çš„ä¿è­·æªæ–½ï¼ŒNext.js ä¸­çš„ä¼ºæœå™¨å‹•ä½œé‚„æœƒæ¯”è¼ƒ [Origin æ¨™é ­](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin) èˆ‡ [Host æ¨™é ­](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Host)ï¼ˆæˆ– `X-Forwarded-Host`ï¼‰ã€‚å¦‚æœé€™äº›ä¸åŒ¹é…ï¼Œè«‹æ±‚å°‡è¢«ä¸­æ­¢ã€‚æ›å¥è©±èªªï¼Œä¼ºæœå™¨å‹•ä½œåªèƒ½åœ¨è¨—ç®¡å®ƒçš„é é¢ç›¸åŒçš„ä¸»æ©Ÿä¸Šå‘¼å«ã€‚

å°æ–¼ä½¿ç”¨åå‘ä»£ç†æˆ–å¤šå±¤å¾Œç«¯æ¶æ§‹ï¼ˆå…¶ä¸­ä¼ºæœå™¨ API èˆ‡ç”Ÿç”¢ç¶²åŸŸä¸åŒï¼‰çš„å¤§å‹æ‡‰ç”¨ç¨‹å¼ï¼Œå»ºè­°ä½¿ç”¨é…ç½®é¸é … [`serverActions.allowedOrigins`](/docs/app/api-reference/next-config-js/serverActions) ä¾†æŒ‡å®šå®‰å…¨ä¾†æºæ¸…å–®ã€‚è©²é¸é …æ¥å—ä¸€å€‹å­—ä¸²é™£åˆ—ã€‚

```js filename="next.config.js"
/** @type {import('next').NextConfig} */
module.exports = {
  experimental: {
    serverActions: {
      allowedOrigins: ['my-proxy.com', '*.my-proxy.com'],
    },
  },
}
```

ç­è§£æ›´å¤šé—œæ–¼ [å®‰å…¨æ€§èˆ‡ä¼ºæœå™¨å‹•ä½œ](https://nextjs.org/blog/security-nextjs-server-components-actions) çš„è³‡è¨Šã€‚

## å…¶ä»–è³‡æº

æœ‰é—œä¼ºæœå™¨å‹•ä½œçš„æ›´å¤šè³‡è¨Šï¼Œè«‹æŸ¥é–±ä»¥ä¸‹ React æ–‡ä»¶ï¼š

- [`"use server"`](https://react.dev/reference/react/use-server)
- [`<form>`](https://react.dev/reference/react-dom/components/form)
- [`useFormStatus`](https://react.dev/reference/react-dom/hooks/useFormStatus)
- [`useFormState`](https://react.dev/reference/react-dom/hooks/useFormState)
- [`useOptimistic`](https://react.dev/reference/react/useOptimistic)
