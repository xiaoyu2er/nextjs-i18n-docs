---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-05-25T21:12:02.933Z
title: onDemandEntries
description: 設定 Next.js 在開發環境中如何釋放及保留記憶體中的頁面。
---

{/* 此文件內容同時適用於 app 和 pages 路由。您可以使用 `<PagesOnly>內容</PagesOnly>` 元件來新增專屬於 Pages Router 的內容。任何共享內容不應包裹在元件中。 */}

Next.js 提供了一些選項，讓您可以控制開發環境中伺服器如何釋放或保留已建構頁面的記憶體。

要變更預設值，請開啟 `next.config.js` 並新增 `onDemandEntries` 設定：

```js filename="next.config.js"
module.exports = {
  onDemandEntries: {
    // 伺服器將頁面保留在緩衝區的時間週期（單位：毫秒）
    maxInactiveAge: 25 * 1000,
    // 應同時保留而不被釋放的頁面數量
    pagesBufferLength: 2,
  },
}
```