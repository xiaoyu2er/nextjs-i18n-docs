---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-05-25T21:39:25.197Z
title: generateBuildId
description: 設定建置 ID，該 ID 用於識別當前提供服務的應用程式版本。
---

{/* 此文件內容同時適用於 app 和 pages 路由。您可以使用 `<PagesOnly>內容</PagesOnly>` 元件來新增僅適用於 Pages Router 的內容。任何共享內容不應包裹在元件中。 */}

Next.js 使用在建置時產生的固定 ID 來識別當前提供服務的應用程式版本。這在每個伺服器都執行 `next build` 的多伺服器部署中可能會造成問題。為了保持不同建置間的建置 ID 一致，您可以提供自己的建置 ID。

開啟 `next.config.js` 並新增 `generateBuildId` 函式：

```js filename="next.config.js"
module.exports = {
  generateBuildId: async () => {
    // 您可以在這裡取得最新的 git commit hash 作為範例
    return 'my-build-id'
  },
}
```