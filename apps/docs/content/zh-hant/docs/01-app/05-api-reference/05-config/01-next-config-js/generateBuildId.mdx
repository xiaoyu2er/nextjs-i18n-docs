---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-05-25T21:56:12.693Z
title: generateBuildId
description: 設定建置 ID，該 ID 用於識別當前提供服務的應用程式版本。
---

{/* 此文件內容在應用程式路由器和頁面路由器之間共享。您可以使用 `<PagesOnly>內容</PagesOnly>` 元件來新增專屬於頁面路由器的內容。任何共享內容不應被包裹在元件中。 */}

Next.js 會在 `next build` 過程中生成一個 ID，用於識別當前提供服務的應用程式版本。相同的建置版本應該被用於啟動多個容器。

如果您需要為環境的每個階段重新建置，則需要生成一個一致的建置 ID 供容器之間使用。請在 `next.config.js` 中使用 `generateBuildId` 指令：

```jsx filename="next.config.js"
module.exports = {
  generateBuildId: async () => {
    // 這裡可以是任何內容，例如使用最新的 git hash
    return process.env.GIT_HASH
  },
}
```