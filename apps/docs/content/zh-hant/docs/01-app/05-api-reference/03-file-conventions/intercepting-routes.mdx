---
source-updated-at: 2025-05-16T04:52:11.000Z
translation-updated-at: 2025-05-25T20:59:00.521Z
title: 攔截路由
description: 使用攔截路由可在當前佈局中加載新路由，同時隱藏瀏覽器網址，適用於模態框等進階路由模式。
related:
  title: 後續步驟
  description: 了解如何搭配使用模態框與攔截路由和並行路由。
  links:
    - app/building-your-application/routing/parallel-routes
---

攔截路由允許你在當前佈局中加載來自應用程式其他部分的路由。當你想顯示某個路由的內容，但又不希望用戶切換到不同上下文時，這種路由模式非常有用。

例如，當點擊動態消息中的照片時，你可以在模態框中顯示該照片，覆蓋在動態消息上方。此時 Next.js 會攔截 `/photo/123` 路由，隱藏實際網址，並將其覆蓋在 `/feed` 之上。

<Image
  alt="攔截路由的軟導航"
  srcLight="/docs/light/intercepting-routes-soft-navigate.png"
  srcDark="/docs/dark/intercepting-routes-soft-navigate.png"
  width="1600"
  height="617"
/>

但當透過可分享連結或重新整理頁面導向照片時，則應渲染完整的照片頁面而非模態框。此時不會發生路由攔截。

<Image
  alt="攔截路由的硬導航"
  srcLight="/docs/light/intercepting-routes-hard-navigate.png"
  srcDark="/docs/dark/intercepting-routes-hard-navigate.png"
  width="1600"
  height="604"
/>

## 約定

攔截路由可使用 `(..)` 約定來定義，這類似於相對路徑約定 `../`，但用於路由區段。

你可以使用：

- `(.)` 匹配**同層級**的區段
- `(..)` 匹配**上一層級**的區段  
- `(..)(..)` 匹配**上兩層級**的區段
- `(...)` 匹配從根目錄 `app` 開始的所有區段

例如，你可以透過建立 `(..)photo` 目錄來從 `feed` 區段攔截 `photo` 區段。

<Image
  alt="攔截路由的資料夾結構"
  srcLight="/docs/light/intercepted-routes-files.png"
  srcDark="/docs/dark/intercepted-routes-files.png"
  width="1600"
  height="604"
/>

> 請注意 `(..)` 約定是基於「路由區段」而非檔案系統。

## 範例

### 模態框

攔截路由可與[並行路由](/docs/app/building-your-application/routing/parallel-routes)搭配使用來建立模態框。這讓你能解決建立模態框時的常見挑戰，例如：

- 讓模態內容**可透過網址分享**
- 在重新整理頁面時**保留上下文**，而非關閉模態框
- **在返回導航時關閉模態框**，而非返回上一路由
- **在前進導航時重新開啟模態框**

考慮以下 UI 模式：用戶可透過客戶端導航從相簿開啟照片模態框，或直接從可分享連結導向照片頁面：

<Image
  alt="攔截路由模態框範例"
  srcLight="/docs/light/intercepted-routes-modal-example.png"
  srcDark="/docs/dark/intercepted-routes-modal-example.png"
  width="1600"
  height="976"
/>

上例中，`photo` 區段的路徑可使用 `(..)` 匹配器，因為 `@modal` 是插槽而非區段。這意味著 `photo` 路由僅高一個區段層級，儘管在檔案系統中高了兩個層級。

請參閱[並行路由](/docs/app/building-your-application/routing/parallel-routes#modals)文件了解逐步範例，或查看我們的[相簿範例](https://github.com/vercel-labs/nextgram)。

> **小提示：**
>
> - 其他範例還包括在頂部導覽列開啟登入模態框，同時保有專屬的 `/login` 頁面，或在側邊模態框中開啟購物車。